!function t(e, i, n) {
    function r(a, s) {
        if (!i[a]) {
            if (!e[a]) {
                var l = "function" == typeof require && require;
                if (!s && l)return l(a, !0);
                if (o)return o(a, !0);
                var c = new Error("Cannot find module '" + a + "'");
                throw c.code = "MODULE_NOT_FOUND", c
            }
            var u = i[a] = {exports: {}};
            e[a][0].call(u.exports, function (t) {
                var i = e[a][1][t];
                return r(i || t)
            }, u, u.exports, t, e, i, n)
        }
        return i[a].exports
    }

    for (var o = "function" == typeof require && require, a = 0; a < n.length; a++)r(n[a]);
    return r
}({
    1: [function (t, e, i) {
        (function (e) {
            "use strict";
            if (t("core-js/shim"), t("regenerator/runtime"), e._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");
            e._babelPolyfill = !0
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {"core-js/shim": 190, "regenerator/runtime": 214}],
    2: [function (t, e, i) {
        e.exports = t("./lib/polyfill")
    }, {"./lib/polyfill": 1}],
    3: [function (t, e, i) {
        e.exports = {
            O_RDONLY: 0,
            O_WRONLY: 1,
            O_RDWR: 2,
            S_IFMT: 61440,
            S_IFREG: 32768,
            S_IFDIR: 16384,
            S_IFCHR: 8192,
            S_IFBLK: 24576,
            S_IFIFO: 4096,
            S_IFLNK: 40960,
            S_IFSOCK: 49152,
            O_CREAT: 512,
            O_EXCL: 2048,
            O_NOCTTY: 131072,
            O_TRUNC: 1024,
            O_APPEND: 8,
            O_DIRECTORY: 1048576,
            O_NOFOLLOW: 256,
            O_SYNC: 128,
            O_SYMLINK: 2097152,
            S_IRWXU: 448,
            S_IRUSR: 256,
            S_IWUSR: 128,
            S_IXUSR: 64,
            S_IRWXG: 56,
            S_IRGRP: 32,
            S_IWGRP: 16,
            S_IXGRP: 8,
            S_IRWXO: 7,
            S_IROTH: 4,
            S_IWOTH: 2,
            S_IXOTH: 1,
            E2BIG: 7,
            EACCES: 13,
            EADDRINUSE: 48,
            EADDRNOTAVAIL: 49,
            EAFNOSUPPORT: 47,
            EAGAIN: 35,
            EALREADY: 37,
            EBADF: 9,
            EBADMSG: 94,
            EBUSY: 16,
            ECANCELED: 89,
            ECHILD: 10,
            ECONNABORTED: 53,
            ECONNREFUSED: 61,
            ECONNRESET: 54,
            EDEADLK: 11,
            EDESTADDRREQ: 39,
            EDOM: 33,
            EDQUOT: 69,
            EEXIST: 17,
            EFAULT: 14,
            EFBIG: 27,
            EHOSTUNREACH: 65,
            EIDRM: 90,
            EILSEQ: 92,
            EINPROGRESS: 36,
            EINTR: 4,
            EINVAL: 22,
            EIO: 5,
            EISCONN: 56,
            EISDIR: 21,
            ELOOP: 62,
            EMFILE: 24,
            EMLINK: 31,
            EMSGSIZE: 40,
            EMULTIHOP: 95,
            ENAMETOOLONG: 63,
            ENETDOWN: 50,
            ENETRESET: 52,
            ENETUNREACH: 51,
            ENFILE: 23,
            ENOBUFS: 55,
            ENODATA: 96,
            ENODEV: 19,
            ENOENT: 2,
            ENOEXEC: 8,
            ENOLCK: 77,
            ENOLINK: 97,
            ENOMEM: 12,
            ENOMSG: 91,
            ENOPROTOOPT: 42,
            ENOSPC: 28,
            ENOSR: 98,
            ENOSTR: 99,
            ENOSYS: 78,
            ENOTCONN: 57,
            ENOTDIR: 20,
            ENOTEMPTY: 66,
            ENOTSOCK: 38,
            ENOTSUP: 45,
            ENOTTY: 25,
            ENXIO: 6,
            EOPNOTSUPP: 102,
            EOVERFLOW: 84,
            EPERM: 1,
            EPIPE: 32,
            EPROTO: 100,
            EPROTONOSUPPORT: 43,
            EPROTOTYPE: 41,
            ERANGE: 34,
            EROFS: 30,
            ESPIPE: 29,
            ESRCH: 3,
            ESTALE: 70,
            ETIME: 101,
            ETIMEDOUT: 60,
            ETXTBSY: 26,
            EWOULDBLOCK: 35,
            EXDEV: 18,
            SIGHUP: 1,
            SIGINT: 2,
            SIGQUIT: 3,
            SIGILL: 4,
            SIGTRAP: 5,
            SIGABRT: 6,
            SIGIOT: 6,
            SIGBUS: 10,
            SIGFPE: 8,
            SIGKILL: 9,
            SIGUSR1: 30,
            SIGSEGV: 11,
            SIGUSR2: 31,
            SIGPIPE: 13,
            SIGALRM: 14,
            SIGTERM: 15,
            SIGCHLD: 20,
            SIGCONT: 19,
            SIGSTOP: 17,
            SIGTSTP: 18,
            SIGTTIN: 21,
            SIGTTOU: 22,
            SIGURG: 16,
            SIGXCPU: 24,
            SIGXFSZ: 25,
            SIGVTALRM: 26,
            SIGPROF: 27,
            SIGWINCH: 28,
            SIGIO: 23,
            SIGSYS: 12,
            SSL_OP_ALL: 2147486719,
            SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION: 262144,
            SSL_OP_CIPHER_SERVER_PREFERENCE: 4194304,
            SSL_OP_CISCO_ANYCONNECT: 32768,
            SSL_OP_COOKIE_EXCHANGE: 8192,
            SSL_OP_CRYPTOPRO_TLSEXT_BUG: 2147483648,
            SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS: 2048,
            SSL_OP_EPHEMERAL_RSA: 2097152,
            SSL_OP_LEGACY_SERVER_CONNECT: 4,
            SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER: 32,
            SSL_OP_MICROSOFT_SESS_ID_BUG: 1,
            SSL_OP_MSIE_SSLV2_RSA_PADDING: 64,
            SSL_OP_NETSCAPE_CA_DN_BUG: 536870912,
            SSL_OP_NETSCAPE_CHALLENGE_BUG: 2,
            SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG: 1073741824,
            SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG: 8,
            SSL_OP_NO_COMPRESSION: 131072,
            SSL_OP_NO_QUERY_MTU: 4096,
            SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION: 65536,
            SSL_OP_NO_SSLv2: 16777216,
            SSL_OP_NO_SSLv3: 33554432,
            SSL_OP_NO_TICKET: 16384,
            SSL_OP_NO_TLSv1: 67108864,
            SSL_OP_NO_TLSv1_1: 268435456,
            SSL_OP_NO_TLSv1_2: 134217728,
            SSL_OP_PKCS1_CHECK_1: 0,
            SSL_OP_PKCS1_CHECK_2: 0,
            SSL_OP_SINGLE_DH_USE: 1048576,
            SSL_OP_SINGLE_ECDH_USE: 524288,
            SSL_OP_SSLEAY_080_CLIENT_DH_BUG: 128,
            SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG: 16,
            SSL_OP_TLS_BLOCK_PADDING_BUG: 512,
            SSL_OP_TLS_D5_BUG: 256,
            SSL_OP_TLS_ROLLBACK_BUG: 8388608,
            NPN_ENABLED: 1
        }
    }, {}],
    4: [function (t, e, i) {
        e.exports = function (t) {
            if ("function" != typeof t)throw TypeError(t + " is not a function!");
            return t
        }
    }, {}],
    5: [function (t, e, i) {
        var n = t("./$.wks")("unscopables"), r = Array.prototype;
        void 0 == r[n] && t("./$.hide")(r, n, {}), e.exports = function (t) {
            r[n][t] = !0
        }
    }, {"./$.hide": 33, "./$.wks": 85}],
    6: [function (t, e, i) {
        var n = t("./$.is-object");
        e.exports = function (t) {
            if (!n(t))throw TypeError(t + " is not an object!");
            return t
        }
    }, {"./$.is-object": 40}],
    7: [function (t, e, i) {
        "use strict";
        var n = t("./$.to-object"), r = t("./$.to-index"), o = t("./$.to-length");
        e.exports = [].copyWithin || function (t, e) {
                var i = n(this), a = o(i.length), s = r(t, a), l = r(e, a), c = arguments,
                    u = c.length > 2 ? c[2] : void 0, h = Math.min((void 0 === u ? a : r(u, a)) - l, a - s), d = 1;
                for (l < s && s < l + h && (d = -1, l += h - 1, s += h - 1); h-- > 0;)l in i ? i[s] = i[l] : delete i[s], s += d, l += d;
                return i
            }
    }, {"./$.to-index": 78, "./$.to-length": 81, "./$.to-object": 82}],
    8: [function (t, e, i) {
        "use strict";
        var n = t("./$.to-object"), r = t("./$.to-index"), o = t("./$.to-length");
        e.exports = [].fill || function (t) {
                for (var e = n(this), i = o(e.length), a = arguments, s = a.length, l = r(s > 1 ? a[1] : void 0, i), c = s > 2 ? a[2] : void 0, u = void 0 === c ? i : r(c, i); u > l;)e[l++] = t;
                return e
            }
    }, {"./$.to-index": 78, "./$.to-length": 81, "./$.to-object": 82}],
    9: [function (t, e, i) {
        var n = t("./$.to-iobject"), r = t("./$.to-length"), o = t("./$.to-index");
        e.exports = function (t) {
            return function (e, i, a) {
                var s, l = n(e), c = r(l.length), u = o(a, c);
                if (t && i != i) {
                    for (; c > u;)if ((s = l[u++]) != s)return !0
                } else for (; c > u; u++)if ((t || u in l) && l[u] === i)return t || u;
                return !t && -1
            }
        }
    }, {"./$.to-index": 78, "./$.to-iobject": 80, "./$.to-length": 81}],
    10: [function (t, e, i) {
        var n = t("./$.ctx"), r = t("./$.iobject"), o = t("./$.to-object"), a = t("./$.to-length"),
            s = t("./$.array-species-create");
        e.exports = function (t) {
            var e = 1 == t, i = 2 == t, l = 3 == t, c = 4 == t, u = 6 == t, h = 5 == t || u;
            return function (d, p, f) {
                for (var m, g, v = o(d), y = r(v), _ = n(p, f, 3), x = a(y.length), b = 0, w = e ? s(d, x) : i ? s(d, 0) : void 0; x > b; b++)if ((h || b in y) && (g = _(m = y[b], b, v), t))if (e) w[b] = g; else if (g)switch (t) {
                    case 3:
                        return !0;
                    case 5:
                        return m;
                    case 6:
                        return b;
                    case 2:
                        w.push(m)
                } else if (c)return !1;
                return u ? -1 : l || c ? c : w
            }
        }
    }, {"./$.array-species-create": 11, "./$.ctx": 19, "./$.iobject": 36, "./$.to-length": 81, "./$.to-object": 82}],
    11: [function (t, e, i) {
        var n = t("./$.is-object"), r = t("./$.is-array"), o = t("./$.wks")("species");
        e.exports = function (t, e) {
            var i;
            return r(t) && ("function" != typeof(i = t.constructor) || i !== Array && !r(i.prototype) || (i = void 0), n(i) && null === (i = i[o]) && (i = void 0)), new (void 0 === i ? Array : i)(e)
        }
    }, {"./$.is-array": 38, "./$.is-object": 40, "./$.wks": 85}],
    12: [function (t, e, i) {
        var n = t("./$.cof"), r = t("./$.wks")("toStringTag"), o = "Arguments" == n(function () {
                return arguments
            }());
        e.exports = function (t) {
            var e, i, a;
            return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof(i = (e = Object(t))[r]) ? i : o ? n(e) : "Object" == (a = n(e)) && "function" == typeof e.callee ? "Arguments" : a
        }
    }, {"./$.cof": 13, "./$.wks": 85}],
    13: [function (t, e, i) {
        var n = {}.toString;
        e.exports = function (t) {
            return n.call(t).slice(8, -1)
        }
    }, {}],
    14: [function (t, e, i) {
        "use strict";
        var n = t("./$"), r = t("./$.hide"), o = t("./$.redefine-all"), a = t("./$.ctx"), s = t("./$.strict-new"),
            l = t("./$.defined"), c = t("./$.for-of"), u = t("./$.iter-define"), h = t("./$.iter-step"),
            d = t("./$.uid")("id"), p = t("./$.has"), f = t("./$.is-object"), m = t("./$.set-species"),
            g = t("./$.descriptors"), v = Object.isExtensible || f, y = g ? "_s" : "size", _ = 0, x = function (t, e) {
                if (!f(t))return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
                if (!p(t, d)) {
                    if (!v(t))return "F";
                    if (!e)return "E";
                    r(t, d, ++_)
                }
                return "O" + t[d]
            }, b = function (t, e) {
                var i, n = x(e);
                if ("F" !== n)return t._i[n];
                for (i = t._f; i; i = i.n)if (i.k == e)return i
            };
        e.exports = {
            getConstructor: function (t, e, i, r) {
                var u = t(function (t, o) {
                    s(t, u, e), t._i = n.create(null), t._f = void 0, t._l = void 0, t[y] = 0, void 0 != o && c(o, i, t[r], t)
                });
                return o(u.prototype, {
                    clear: function () {
                        for (var t = this._i, e = this._f; e; e = e.n)e.r = !0, e.p && (e.p = e.p.n = void 0), delete t[e.i];
                        this._f = this._l = void 0, this[y] = 0
                    }, delete: function (t) {
                        var e = b(this, t);
                        if (e) {
                            var i = e.n, n = e.p;
                            delete this._i[e.i], e.r = !0, n && (n.n = i), i && (i.p = n), this._f == e && (this._f = i), this._l == e && (this._l = n), this[y]--
                        }
                        return !!e
                    }, forEach: function (t) {
                        for (var e, i = a(t, arguments.length > 1 ? arguments[1] : void 0, 3); e = e ? e.n : this._f;)for (i(e.v, e.k, this); e && e.r;)e = e.p
                    }, has: function (t) {
                        return !!b(this, t)
                    }
                }), g && n.setDesc(u.prototype, "size", {
                    get: function () {
                        return l(this[y])
                    }
                }), u
            }, def: function (t, e, i) {
                var n, r, o = b(t, e);
                return o ? o.v = i : (t._l = o = {
                    i: r = x(e, !0),
                    k: e,
                    v: i,
                    p: n = t._l,
                    n: void 0,
                    r: !1
                }, t._f || (t._f = o), n && (n.n = o), t[y]++, "F" !== r && (t._i[r] = o)), t
            }, getEntry: b, setStrong: function (t, e, i) {
                u(t, e, function (t, e) {
                    this._t = t, this._k = e, this._l = void 0
                }, function () {
                    for (var t = this._k, e = this._l; e && e.r;)e = e.p;
                    return this._t && (this._l = e = e ? e.n : this._t._f) ? h(0, "keys" == t ? e.k : "values" == t ? e.v : [e.k, e.v]) : (this._t = void 0, h(1))
                }, i ? "entries" : "values", !i, !0), m(e)
            }
        }
    }, {
        "./$": 48,
        "./$.ctx": 19,
        "./$.defined": 20,
        "./$.descriptors": 21,
        "./$.for-of": 29,
        "./$.has": 32,
        "./$.hide": 33,
        "./$.is-object": 40,
        "./$.iter-define": 44,
        "./$.iter-step": 46,
        "./$.redefine-all": 62,
        "./$.set-species": 67,
        "./$.strict-new": 71,
        "./$.uid": 84
    }],
    15: [function (t, e, i) {
        var n = t("./$.for-of"), r = t("./$.classof");
        e.exports = function (t) {
            return function () {
                if (r(this) != t)throw TypeError(t + "#toJSON isn't generic");
                var e = [];
                return n(this, !1, e.push, e), e
            }
        }
    }, {"./$.classof": 12, "./$.for-of": 29}],
    16: [function (t, e, i) {
        "use strict";
        var n = t("./$.hide"), r = t("./$.redefine-all"), o = t("./$.an-object"), a = t("./$.is-object"),
            s = t("./$.strict-new"), l = t("./$.for-of"), c = t("./$.array-methods"), u = t("./$.has"),
            h = t("./$.uid")("weak"), d = Object.isExtensible || a, p = c(5), f = c(6), m = 0, g = function (t) {
                return t._l || (t._l = new v)
            }, v = function () {
                this.a = []
            }, y = function (t, e) {
                return p(t.a, function (t) {
                    return t[0] === e
                })
            };
        v.prototype = {
            get: function (t) {
                var e = y(this, t);
                if (e)return e[1]
            }, has: function (t) {
                return !!y(this, t)
            }, set: function (t, e) {
                var i = y(this, t);
                i ? i[1] = e : this.a.push([t, e])
            }, delete: function (t) {
                var e = f(this.a, function (e) {
                    return e[0] === t
                });
                return ~e && this.a.splice(e, 1), !!~e
            }
        }, e.exports = {
            getConstructor: function (t, e, i, n) {
                var o = t(function (t, r) {
                    s(t, o, e), t._i = m++, t._l = void 0, void 0 != r && l(r, i, t[n], t)
                });
                return r(o.prototype, {
                    delete: function (t) {
                        return !!a(t) && (d(t) ? u(t, h) && u(t[h], this._i) && delete t[h][this._i] : g(this).delete(t))
                    }, has: function (t) {
                        return !!a(t) && (d(t) ? u(t, h) && u(t[h], this._i) : g(this).has(t))
                    }
                }), o
            }, def: function (t, e, i) {
                return d(o(e)) ? (u(e, h) || n(e, h, {}), e[h][t._i] = i) : g(t).set(e, i), t
            }, frozenStore: g, WEAK: h
        }
    }, {
        "./$.an-object": 6,
        "./$.array-methods": 10,
        "./$.for-of": 29,
        "./$.has": 32,
        "./$.hide": 33,
        "./$.is-object": 40,
        "./$.redefine-all": 62,
        "./$.strict-new": 71,
        "./$.uid": 84
    }],
    17: [function (t, e, i) {
        "use strict";
        var n = t("./$.global"), r = t("./$.export"), o = t("./$.redefine"), a = t("./$.redefine-all"),
            s = t("./$.for-of"), l = t("./$.strict-new"), c = t("./$.is-object"), u = t("./$.fails"),
            h = t("./$.iter-detect"), d = t("./$.set-to-string-tag");
        e.exports = function (t, e, i, p, f, m) {
            var g = n[t], v = g, y = f ? "set" : "add", _ = v && v.prototype, x = {}, b = function (t) {
                var e = _[t];
                o(_, t, "delete" == t ? function (t) {
                    return !(m && !c(t)) && e.call(this, 0 === t ? 0 : t)
                } : "has" == t ? function (t) {
                    return !(m && !c(t)) && e.call(this, 0 === t ? 0 : t)
                } : "get" == t ? function (t) {
                    return m && !c(t) ? void 0 : e.call(this, 0 === t ? 0 : t)
                } : "add" == t ? function (t) {
                    return e.call(this, 0 === t ? 0 : t), this
                } : function (t, i) {
                    return e.call(this, 0 === t ? 0 : t, i), this
                })
            };
            if ("function" == typeof v && (m || _.forEach && !u(function () {
                    (new v).entries().next()
                }))) {
                var w, S = new v, M = S[y](m ? {} : -0, 1) != S, T = u(function () {
                    S.has(1)
                });
                h(function (t) {
                    new v(t)
                }) || ((v = e(function (e, i) {
                    l(e, v, t);
                    var n = new g;
                    return void 0 != i && s(i, f, n[y], n), n
                })).prototype = _, _.constructor = v), m || S.forEach(function (t, e) {
                    w = 1 / e == -1 / 0
                }), (T || w) && (b("delete"), b("has"), f && b("get")), (w || M) && b(y), m && _.clear && delete _.clear
            } else v = p.getConstructor(e, t, f, y), a(v.prototype, i);
            return d(v, t), x[t] = v, r(r.G + r.W + r.F * (v != g), x), m || p.setStrong(v, t, f), v
        }
    }, {
        "./$.export": 24,
        "./$.fails": 26,
        "./$.for-of": 29,
        "./$.global": 31,
        "./$.is-object": 40,
        "./$.iter-detect": 45,
        "./$.redefine": 63,
        "./$.redefine-all": 62,
        "./$.set-to-string-tag": 68,
        "./$.strict-new": 71
    }],
    18: [function (t, e, i) {
        var n = e.exports = {version: "1.2.6"};
        "number" == typeof __e && (__e = n)
    }, {}],
    19: [function (t, e, i) {
        var n = t("./$.a-function");
        e.exports = function (t, e, i) {
            if (n(t), void 0 === e)return t;
            switch (i) {
                case 1:
                    return function (i) {
                        return t.call(e, i)
                    };
                case 2:
                    return function (i, n) {
                        return t.call(e, i, n)
                    };
                case 3:
                    return function (i, n, r) {
                        return t.call(e, i, n, r)
                    }
            }
            return function () {
                return t.apply(e, arguments)
            }
        }
    }, {"./$.a-function": 4}],
    20: [function (t, e, i) {
        e.exports = function (t) {
            if (void 0 == t)throw TypeError("Can't call method on  " + t);
            return t
        }
    }, {}],
    21: [function (t, e, i) {
        e.exports = !t("./$.fails")(function () {
            return 7 != Object.defineProperty({}, "a", {
                    get: function () {
                        return 7
                    }
                }).a
        })
    }, {"./$.fails": 26}],
    22: [function (t, e, i) {
        var n = t("./$.is-object"), r = t("./$.global").document, o = n(r) && n(r.createElement);
        e.exports = function (t) {
            return o ? r.createElement(t) : {}
        }
    }, {"./$.global": 31, "./$.is-object": 40}],
    23: [function (t, e, i) {
        var n = t("./$");
        e.exports = function (t) {
            var e = n.getKeys(t), i = n.getSymbols;
            if (i)for (var r, o = i(t), a = n.isEnum, s = 0; o.length > s;)a.call(t, r = o[s++]) && e.push(r);
            return e
        }
    }, {"./$": 48}],
    24: [function (t, e, i) {
        var n = t("./$.global"), r = t("./$.core"), o = t("./$.hide"), a = t("./$.redefine"), s = t("./$.ctx"),
            l = function (t, e, i) {
                var c, u, h, d, p = t & l.F, f = t & l.G, m = t & l.S, g = t & l.P, v = t & l.B,
                    y = f ? n : m ? n[e] || (n[e] = {}) : (n[e] || {}).prototype, _ = f ? r : r[e] || (r[e] = {}),
                    x = _.prototype || (_.prototype = {});
                for (c in f && (i = e), i)h = ((u = !p && y && c in y) ? y : i)[c], d = v && u ? s(h, n) : g && "function" == typeof h ? s(Function.call, h) : h, y && !u && a(y, c, h), _[c] != h && o(_, c, d), g && x[c] != h && (x[c] = h)
            };
        n.core = r, l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, e.exports = l
    }, {"./$.core": 18, "./$.ctx": 19, "./$.global": 31, "./$.hide": 33, "./$.redefine": 63}],
    25: [function (t, e, i) {
        var n = t("./$.wks")("match");
        e.exports = function (t) {
            var e = /./;
            try {
                "/./"[t](e)
            } catch (i) {
                try {
                    return e[n] = !1, !"/./"[t](e)
                } catch (t) {
                }
            }
            return !0
        }
    }, {"./$.wks": 85}],
    26: [function (t, e, i) {
        e.exports = function (t) {
            try {
                return !!t()
            } catch (t) {
                return !0
            }
        }
    }, {}],
    27: [function (t, e, i) {
        "use strict";
        var n = t("./$.hide"), r = t("./$.redefine"), o = t("./$.fails"), a = t("./$.defined"), s = t("./$.wks");
        e.exports = function (t, e, i) {
            var l = s(t), c = ""[t];
            o(function () {
                var e = {};
                return e[l] = function () {
                    return 7
                }, 7 != ""[t](e)
            }) && (r(String.prototype, t, i(a, l, c)), n(RegExp.prototype, l, 2 == e ? function (t, e) {
                return c.call(t, this, e)
            } : function (t) {
                return c.call(t, this)
            }))
        }
    }, {"./$.defined": 20, "./$.fails": 26, "./$.hide": 33, "./$.redefine": 63, "./$.wks": 85}],
    28: [function (t, e, i) {
        "use strict";
        var n = t("./$.an-object");
        e.exports = function () {
            var t = n(this), e = "";
            return t.global && (e += "g"), t.ignoreCase && (e += "i"), t.multiline && (e += "m"), t.unicode && (e += "u"), t.sticky && (e += "y"), e
        }
    }, {"./$.an-object": 6}],
    29: [function (t, e, i) {
        var n = t("./$.ctx"), r = t("./$.iter-call"), o = t("./$.is-array-iter"), a = t("./$.an-object"),
            s = t("./$.to-length"), l = t("./core.get-iterator-method");
        e.exports = function (t, e, i, c) {
            var u, h, d, p = l(t), f = n(i, c, e ? 2 : 1), m = 0;
            if ("function" != typeof p)throw TypeError(t + " is not iterable!");
            if (o(p))for (u = s(t.length); u > m; m++)e ? f(a(h = t[m])[0], h[1]) : f(t[m]); else for (d = p.call(t); !(h = d.next()).done;)r(d, f, h.value, e)
        }
    }, {
        "./$.an-object": 6,
        "./$.ctx": 19,
        "./$.is-array-iter": 37,
        "./$.iter-call": 42,
        "./$.to-length": 81,
        "./core.get-iterator-method": 86
    }],
    30: [function (t, e, i) {
        var n = t("./$.to-iobject"), r = t("./$").getNames, o = {}.toString,
            a = "object" == typeof window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
        e.exports.get = function (t) {
            return a && "[object Window]" == o.call(t) ? function (t) {
                try {
                    return r(t)
                } catch (t) {
                    return a.slice()
                }
            }(t) : r(n(t))
        }
    }, {"./$": 48, "./$.to-iobject": 80}],
    31: [function (t, e, i) {
        var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
        "number" == typeof __g && (__g = n)
    }, {}],
    32: [function (t, e, i) {
        var n = {}.hasOwnProperty;
        e.exports = function (t, e) {
            return n.call(t, e)
        }
    }, {}],
    33: [function (t, e, i) {
        var n = t("./$"), r = t("./$.property-desc");
        e.exports = t("./$.descriptors") ? function (t, e, i) {
            return n.setDesc(t, e, r(1, i))
        } : function (t, e, i) {
            return t[e] = i, t
        }
    }, {"./$": 48, "./$.descriptors": 21, "./$.property-desc": 61}],
    34: [function (t, e, i) {
        e.exports = t("./$.global").document && document.documentElement
    }, {"./$.global": 31}],
    35: [function (t, e, i) {
        e.exports = function (t, e, i) {
            var n = void 0 === i;
            switch (e.length) {
                case 0:
                    return n ? t() : t.call(i);
                case 1:
                    return n ? t(e[0]) : t.call(i, e[0]);
                case 2:
                    return n ? t(e[0], e[1]) : t.call(i, e[0], e[1]);
                case 3:
                    return n ? t(e[0], e[1], e[2]) : t.call(i, e[0], e[1], e[2]);
                case 4:
                    return n ? t(e[0], e[1], e[2], e[3]) : t.call(i, e[0], e[1], e[2], e[3])
            }
            return t.apply(i, e)
        }
    }, {}],
    36: [function (t, e, i) {
        var n = t("./$.cof");
        e.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) {
            return "String" == n(t) ? t.split("") : Object(t)
        }
    }, {"./$.cof": 13}],
    37: [function (t, e, i) {
        var n = t("./$.iterators"), r = t("./$.wks")("iterator"), o = Array.prototype;
        e.exports = function (t) {
            return void 0 !== t && (n.Array === t || o[r] === t)
        }
    }, {"./$.iterators": 47, "./$.wks": 85}],
    38: [function (t, e, i) {
        var n = t("./$.cof");
        e.exports = Array.isArray || function (t) {
                return "Array" == n(t)
            }
    }, {"./$.cof": 13}],
    39: [function (t, e, i) {
        var n = t("./$.is-object"), r = Math.floor;
        e.exports = function (t) {
            return !n(t) && isFinite(t) && r(t) === t
        }
    }, {"./$.is-object": 40}],
    40: [function (t, e, i) {
        e.exports = function (t) {
            return "object" == typeof t ? null !== t : "function" == typeof t
        }
    }, {}],
    41: [function (t, e, i) {
        var n = t("./$.is-object"), r = t("./$.cof"), o = t("./$.wks")("match");
        e.exports = function (t) {
            var e;
            return n(t) && (void 0 !== (e = t[o]) ? !!e : "RegExp" == r(t))
        }
    }, {"./$.cof": 13, "./$.is-object": 40, "./$.wks": 85}],
    42: [function (t, e, i) {
        var n = t("./$.an-object");
        e.exports = function (t, e, i, r) {
            try {
                return r ? e(n(i)[0], i[1]) : e(i)
            } catch (e) {
                var o = t.return;
                throw void 0 !== o && n(o.call(t)), e
            }
        }
    }, {"./$.an-object": 6}],
    43: [function (t, e, i) {
        "use strict";
        var n = t("./$"), r = t("./$.property-desc"), o = t("./$.set-to-string-tag"), a = {};
        t("./$.hide")(a, t("./$.wks")("iterator"), function () {
            return this
        }), e.exports = function (t, e, i) {
            t.prototype = n.create(a, {next: r(1, i)}), o(t, e + " Iterator")
        }
    }, {"./$": 48, "./$.hide": 33, "./$.property-desc": 61, "./$.set-to-string-tag": 68, "./$.wks": 85}],
    44: [function (t, e, i) {
        "use strict";
        var n = t("./$.library"), r = t("./$.export"), o = t("./$.redefine"), a = t("./$.hide"), s = t("./$.has"),
            l = t("./$.iterators"), c = t("./$.iter-create"), u = t("./$.set-to-string-tag"), h = t("./$").getProto,
            d = t("./$.wks")("iterator"), p = !([].keys && "next" in [].keys()), f = function () {
                return this
            };
        e.exports = function (t, e, i, m, g, v, y) {
            c(i, e, m);
            var _, x, b = function (t) {
                    if (!p && t in T)return T[t];
                    switch (t) {
                        case"keys":
                        case"values":
                            return function () {
                                return new i(this, t)
                            }
                    }
                    return function () {
                        return new i(this, t)
                    }
                }, w = e + " Iterator", S = "values" == g, M = !1, T = t.prototype,
                A = T[d] || T["@@iterator"] || g && T[g], P = A || b(g);
            if (A) {
                var E = h(P.call(new t));
                u(E, w, !0), !n && s(T, "@@iterator") && a(E, d, f), S && "values" !== A.name && (M = !0, P = function () {
                    return A.call(this)
                })
            }
            if (n && !y || !p && !M && T[d] || a(T, d, P), l[e] = P, l[w] = f, g)if (_ = {
                    values: S ? P : b("values"),
                    keys: v ? P : b("keys"),
                    entries: S ? b("entries") : P
                }, y)for (x in _)x in T || o(T, x, _[x]); else r(r.P + r.F * (p || M), e, _);
            return _
        }
    }, {
        "./$": 48,
        "./$.export": 24,
        "./$.has": 32,
        "./$.hide": 33,
        "./$.iter-create": 43,
        "./$.iterators": 47,
        "./$.library": 50,
        "./$.redefine": 63,
        "./$.set-to-string-tag": 68,
        "./$.wks": 85
    }],
    45: [function (t, e, i) {
        var n = t("./$.wks")("iterator"), r = !1;
        try {
            var o = [7][n]();
            o.return = function () {
                r = !0
            }, Array.from(o, function () {
                throw 2
            })
        } catch (t) {
        }
        e.exports = function (t, e) {
            if (!e && !r)return !1;
            var i = !1;
            try {
                var o = [7], a = o[n]();
                a.next = function () {
                    return {done: i = !0}
                }, o[n] = function () {
                    return a
                }, t(o)
            } catch (t) {
            }
            return i
        }
    }, {"./$.wks": 85}],
    46: [function (t, e, i) {
        e.exports = function (t, e) {
            return {value: e, done: !!t}
        }
    }, {}],
    47: [function (t, e, i) {
        e.exports = {}
    }, {}],
    48: [function (t, e, i) {
        var n = Object;
        e.exports = {
            create: n.create,
            getProto: n.getPrototypeOf,
            isEnum: {}.propertyIsEnumerable,
            getDesc: n.getOwnPropertyDescriptor,
            setDesc: n.defineProperty,
            setDescs: n.defineProperties,
            getKeys: n.keys,
            getNames: n.getOwnPropertyNames,
            getSymbols: n.getOwnPropertySymbols,
            each: [].forEach
        }
    }, {}],
    49: [function (t, e, i) {
        var n = t("./$"), r = t("./$.to-iobject");
        e.exports = function (t, e) {
            for (var i, o = r(t), a = n.getKeys(o), s = a.length, l = 0; s > l;)if (o[i = a[l++]] === e)return i
        }
    }, {"./$": 48, "./$.to-iobject": 80}],
    50: [function (t, e, i) {
        e.exports = !1
    }, {}],
    51: [function (t, e, i) {
        e.exports = Math.expm1 || function (t) {
                return 0 == (t = +t) ? t : t > -1e-6 && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1
            }
    }, {}],
    52: [function (t, e, i) {
        e.exports = Math.log1p || function (t) {
                return (t = +t) > -1e-8 && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t)
            }
    }, {}],
    53: [function (t, e, i) {
        e.exports = Math.sign || function (t) {
                return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
            }
    }, {}],
    54: [function (t, e, i) {
        var n, r, o, a = t("./$.global"), s = t("./$.task").set, l = a.MutationObserver || a.WebKitMutationObserver,
            c = a.process, u = a.Promise, h = "process" == t("./$.cof")(c), d = function () {
                var t, e, i;
                for (h && (t = c.domain) && (c.domain = null, t.exit()); n;)e = n.domain, i = n.fn, e && e.enter(), i(), e && e.exit(), n = n.next;
                r = void 0, t && t.enter()
            };
        if (h) o = function () {
            c.nextTick(d)
        }; else if (l) {
            var p = 1, f = document.createTextNode("");
            new l(d).observe(f, {characterData: !0}), o = function () {
                f.data = p = -p
            }
        } else o = u && u.resolve ? function () {
            u.resolve().then(d)
        } : function () {
            s.call(a, d)
        };
        e.exports = function (t) {
            var e = {fn: t, next: void 0, domain: h && c.domain};
            r && (r.next = e), n || (n = e, o()), r = e
        }
    }, {"./$.cof": 13, "./$.global": 31, "./$.task": 77}],
    55: [function (t, e, i) {
        var n = t("./$"), r = t("./$.to-object"), o = t("./$.iobject");
        e.exports = t("./$.fails")(function () {
            var t = Object.assign, e = {}, i = {}, n = Symbol(), r = "abcdefghijklmnopqrst";
            return e[n] = 7, r.split("").forEach(function (t) {
                i[t] = t
            }), 7 != t({}, e)[n] || Object.keys(t({}, i)).join("") != r
        }) ? function (t, e) {
            for (var i = r(t), a = arguments, s = a.length, l = 1, c = n.getKeys, u = n.getSymbols, h = n.isEnum; s > l;)for (var d, p = o(a[l++]), f = u ? c(p).concat(u(p)) : c(p), m = f.length, g = 0; m > g;)h.call(p, d = f[g++]) && (i[d] = p[d]);
            return i
        } : Object.assign
    }, {"./$": 48, "./$.fails": 26, "./$.iobject": 36, "./$.to-object": 82}],
    56: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.core"), o = t("./$.fails");
        e.exports = function (t, e) {
            var i = (r.Object || {})[t] || Object[t], a = {};
            a[t] = e(i), n(n.S + n.F * o(function () {
                    i(1)
                }), "Object", a)
        }
    }, {"./$.core": 18, "./$.export": 24, "./$.fails": 26}],
    57: [function (t, e, i) {
        var n = t("./$"), r = t("./$.to-iobject"), o = n.isEnum;
        e.exports = function (t) {
            return function (e) {
                for (var i, a = r(e), s = n.getKeys(a), l = s.length, c = 0, u = []; l > c;)o.call(a, i = s[c++]) && u.push(t ? [i, a[i]] : a[i]);
                return u
            }
        }
    }, {"./$": 48, "./$.to-iobject": 80}],
    58: [function (t, e, i) {
        var n = t("./$"), r = t("./$.an-object"), o = t("./$.global").Reflect;
        e.exports = o && o.ownKeys || function (t) {
                var e = n.getNames(r(t)), i = n.getSymbols;
                return i ? e.concat(i(t)) : e
            }
    }, {"./$": 48, "./$.an-object": 6, "./$.global": 31}],
    59: [function (t, e, i) {
        "use strict";
        var n = t("./$.path"), r = t("./$.invoke"), o = t("./$.a-function");
        e.exports = function () {
            for (var t = o(this), e = arguments.length, i = Array(e), a = 0, s = n._, l = !1; e > a;)(i[a] = arguments[a++]) === s && (l = !0);
            return function () {
                var n, o = arguments, a = o.length, c = 0, u = 0;
                if (!l && !a)return r(t, i, this);
                if (n = i.slice(), l)for (; e > c; c++)n[c] === s && (n[c] = o[u++]);
                for (; a > u;)n.push(o[u++]);
                return r(t, n, this)
            }
        }
    }, {"./$.a-function": 4, "./$.invoke": 35, "./$.path": 60}],
    60: [function (t, e, i) {
        e.exports = t("./$.global")
    }, {"./$.global": 31}],
    61: [function (t, e, i) {
        e.exports = function (t, e) {
            return {enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e}
        }
    }, {}],
    62: [function (t, e, i) {
        var n = t("./$.redefine");
        e.exports = function (t, e) {
            for (var i in e)n(t, i, e[i]);
            return t
        }
    }, {"./$.redefine": 63}],
    63: [function (t, e, i) {
        var n = t("./$.global"), r = t("./$.hide"), o = t("./$.uid")("src"), a = Function.toString,
            s = ("" + a).split("toString");
        t("./$.core").inspectSource = function (t) {
            return a.call(t)
        }, (e.exports = function (t, e, i, a) {
            "function" == typeof i && (i.hasOwnProperty(o) || r(i, o, t[e] ? "" + t[e] : s.join(String(e))), i.hasOwnProperty("name") || r(i, "name", e)), t === n ? t[e] = i : (a || delete t[e], r(t, e, i))
        })(Function.prototype, "toString", function () {
            return "function" == typeof this && this[o] || a.call(this)
        })
    }, {"./$.core": 18, "./$.global": 31, "./$.hide": 33, "./$.uid": 84}],
    64: [function (t, e, i) {
        e.exports = function (t, e) {
            var i = e === Object(e) ? function (t) {
                return e[t]
            } : e;
            return function (e) {
                return String(e).replace(t, i)
            }
        }
    }, {}],
    65: [function (t, e, i) {
        e.exports = Object.is || function (t, e) {
                return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e
            }
    }, {}],
    66: [function (t, e, i) {
        var n = t("./$").getDesc, r = t("./$.is-object"), o = t("./$.an-object"), a = function (t, e) {
            if (o(t), !r(e) && null !== e)throw TypeError(e + ": can't set as prototype!")
        };
        e.exports = {
            set: Object.setPrototypeOf || ("__proto__" in {} ? function (e, i, r) {
                try {
                    (r = t("./$.ctx")(Function.call, n(Object.prototype, "__proto__").set, 2))(e, []), i = !(e instanceof Array)
                } catch (t) {
                    i = !0
                }
                return function (t, e) {
                    return a(t, e), i ? t.__proto__ = e : r(t, e), t
                }
            }({}, !1) : void 0), check: a
        }
    }, {"./$": 48, "./$.an-object": 6, "./$.ctx": 19, "./$.is-object": 40}],
    67: [function (t, e, i) {
        "use strict";
        var n = t("./$.global"), r = t("./$"), o = t("./$.descriptors"), a = t("./$.wks")("species");
        e.exports = function (t) {
            var e = n[t];
            o && e && !e[a] && r.setDesc(e, a, {
                configurable: !0, get: function () {
                    return this
                }
            })
        }
    }, {"./$": 48, "./$.descriptors": 21, "./$.global": 31, "./$.wks": 85}],
    68: [function (t, e, i) {
        var n = t("./$").setDesc, r = t("./$.has"), o = t("./$.wks")("toStringTag");
        e.exports = function (t, e, i) {
            t && !r(t = i ? t : t.prototype, o) && n(t, o, {configurable: !0, value: e})
        }
    }, {"./$": 48, "./$.has": 32, "./$.wks": 85}],
    69: [function (t, e, i) {
        var n = t("./$.global"), r = n["__core-js_shared__"] || (n["__core-js_shared__"] = {});
        e.exports = function (t) {
            return r[t] || (r[t] = {})
        }
    }, {"./$.global": 31}],
    70: [function (t, e, i) {
        var n = t("./$.an-object"), r = t("./$.a-function"), o = t("./$.wks")("species");
        e.exports = function (t, e) {
            var i, a = n(t).constructor;
            return void 0 === a || void 0 == (i = n(a)[o]) ? e : r(i)
        }
    }, {"./$.a-function": 4, "./$.an-object": 6, "./$.wks": 85}],
    71: [function (t, e, i) {
        e.exports = function (t, e, i) {
            if (!(t instanceof e))throw TypeError(i + ": use the 'new' operator!");
            return t
        }
    }, {}],
    72: [function (t, e, i) {
        var n = t("./$.to-integer"), r = t("./$.defined");
        e.exports = function (t) {
            return function (e, i) {
                var o, a, s = String(r(e)), l = n(i), c = s.length;
                return l < 0 || l >= c ? t ? "" : void 0 : (o = s.charCodeAt(l)) < 55296 || o > 56319 || l + 1 === c || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? t ? s.charAt(l) : o : t ? s.slice(l, l + 2) : a - 56320 + (o - 55296 << 10) + 65536
            }
        }
    }, {"./$.defined": 20, "./$.to-integer": 79}],
    73: [function (t, e, i) {
        var n = t("./$.is-regexp"), r = t("./$.defined");
        e.exports = function (t, e, i) {
            if (n(e))throw TypeError("String#" + i + " doesn't accept regex!");
            return String(r(t))
        }
    }, {"./$.defined": 20, "./$.is-regexp": 41}],
    74: [function (t, e, i) {
        var n = t("./$.to-length"), r = t("./$.string-repeat"), o = t("./$.defined");
        e.exports = function (t, e, i, a) {
            var s = String(o(t)), l = s.length, c = void 0 === i ? " " : String(i), u = n(e);
            if (u <= l)return s;
            "" == c && (c = " ");
            var h = u - l, d = r.call(c, Math.ceil(h / c.length));
            return d.length > h && (d = d.slice(0, h)), a ? d + s : s + d
        }
    }, {"./$.defined": 20, "./$.string-repeat": 75, "./$.to-length": 81}],
    75: [function (t, e, i) {
        "use strict";
        var n = t("./$.to-integer"), r = t("./$.defined");
        e.exports = function (t) {
            var e = String(r(this)), i = "", o = n(t);
            if (o < 0 || o == 1 / 0)throw RangeError("Count can't be negative");
            for (; o > 0; (o >>>= 1) && (e += e))1 & o && (i += e);
            return i
        }
    }, {"./$.defined": 20, "./$.to-integer": 79}],
    76: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.defined"), o = t("./$.fails"),
            a = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff", s = "[" + a + "]", l = RegExp("^" + s + s + "*"),
            c = RegExp(s + s + "*$"), u = function (t, e) {
                var i = {};
                i[t] = e(h), n(n.P + n.F * o(function () {
                        return !!a[t]() || "​" != "​"[t]()
                    }), "String", i)
            }, h = u.trim = function (t, e) {
                return t = String(r(t)), 1 & e && (t = t.replace(l, "")), 2 & e && (t = t.replace(c, "")), t
            };
        e.exports = u
    }, {"./$.defined": 20, "./$.export": 24, "./$.fails": 26}],
    77: [function (t, e, i) {
        var n, r, o, a = t("./$.ctx"), s = t("./$.invoke"), l = t("./$.html"), c = t("./$.dom-create"),
            u = t("./$.global"), h = u.process, d = u.setImmediate, p = u.clearImmediate, f = u.MessageChannel, m = 0,
            g = {}, v = function () {
                var t = +this;
                if (g.hasOwnProperty(t)) {
                    var e = g[t];
                    delete g[t], e()
                }
            }, y = function (t) {
                v.call(t.data)
            };
        d && p || (d = function (t) {
            for (var e = [], i = 1; arguments.length > i;)e.push(arguments[i++]);
            return g[++m] = function () {
                s("function" == typeof t ? t : Function(t), e)
            }, n(m), m
        }, p = function (t) {
            delete g[t]
        }, "process" == t("./$.cof")(h) ? n = function (t) {
            h.nextTick(a(v, t, 1))
        } : f ? (o = (r = new f).port2, r.port1.onmessage = y, n = a(o.postMessage, o, 1)) : u.addEventListener && "function" == typeof postMessage && !u.importScripts ? (n = function (t) {
            u.postMessage(t + "", "*")
        }, u.addEventListener("message", y, !1)) : n = "onreadystatechange" in c("script") ? function (t) {
            l.appendChild(c("script")).onreadystatechange = function () {
                l.removeChild(this), v.call(t)
            }
        } : function (t) {
            setTimeout(a(v, t, 1), 0)
        }), e.exports = {set: d, clear: p}
    }, {"./$.cof": 13, "./$.ctx": 19, "./$.dom-create": 22, "./$.global": 31, "./$.html": 34, "./$.invoke": 35}],
    78: [function (t, e, i) {
        var n = t("./$.to-integer"), r = Math.max, o = Math.min;
        e.exports = function (t, e) {
            return (t = n(t)) < 0 ? r(t + e, 0) : o(t, e)
        }
    }, {"./$.to-integer": 79}],
    79: [function (t, e, i) {
        var n = Math.ceil, r = Math.floor;
        e.exports = function (t) {
            return isNaN(t = +t) ? 0 : (t > 0 ? r : n)(t)
        }
    }, {}],
    80: [function (t, e, i) {
        var n = t("./$.iobject"), r = t("./$.defined");
        e.exports = function (t) {
            return n(r(t))
        }
    }, {"./$.defined": 20, "./$.iobject": 36}],
    81: [function (t, e, i) {
        var n = t("./$.to-integer"), r = Math.min;
        e.exports = function (t) {
            return t > 0 ? r(n(t), 9007199254740991) : 0
        }
    }, {"./$.to-integer": 79}],
    82: [function (t, e, i) {
        var n = t("./$.defined");
        e.exports = function (t) {
            return Object(n(t))
        }
    }, {"./$.defined": 20}],
    83: [function (t, e, i) {
        var n = t("./$.is-object");
        e.exports = function (t, e) {
            if (!n(t))return t;
            var i, r;
            if (e && "function" == typeof(i = t.toString) && !n(r = i.call(t)))return r;
            if ("function" == typeof(i = t.valueOf) && !n(r = i.call(t)))return r;
            if (!e && "function" == typeof(i = t.toString) && !n(r = i.call(t)))return r;
            throw TypeError("Can't convert object to primitive value")
        }
    }, {"./$.is-object": 40}],
    84: [function (t, e, i) {
        var n = 0, r = Math.random();
        e.exports = function (t) {
            return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + r).toString(36))
        }
    }, {}],
    85: [function (t, e, i) {
        var n = t("./$.shared")("wks"), r = t("./$.uid"), o = t("./$.global").Symbol;
        e.exports = function (t) {
            return n[t] || (n[t] = o && o[t] || (o || r)("Symbol." + t))
        }
    }, {"./$.global": 31, "./$.shared": 69, "./$.uid": 84}],
    86: [function (t, e, i) {
        var n = t("./$.classof"), r = t("./$.wks")("iterator"), o = t("./$.iterators");
        e.exports = t("./$.core").getIteratorMethod = function (t) {
            if (void 0 != t)return t[r] || t["@@iterator"] || o[n(t)]
        }
    }, {"./$.classof": 12, "./$.core": 18, "./$.iterators": 47, "./$.wks": 85}],
    87: [function (t, e, i) {
        "use strict";
        var n, r = t("./$"), o = t("./$.export"), a = t("./$.descriptors"), s = t("./$.property-desc"),
            l = t("./$.html"), c = t("./$.dom-create"), u = t("./$.has"), h = t("./$.cof"), d = t("./$.invoke"),
            p = t("./$.fails"), f = t("./$.an-object"), m = t("./$.a-function"), g = t("./$.is-object"),
            v = t("./$.to-object"), y = t("./$.to-iobject"), _ = t("./$.to-integer"), x = t("./$.to-index"),
            b = t("./$.to-length"), w = t("./$.iobject"), S = t("./$.uid")("__proto__"), M = t("./$.array-methods"),
            T = t("./$.array-includes")(!1), A = Object.prototype, P = Array.prototype, E = P.slice, C = P.join,
            O = r.setDesc, L = r.getDesc, k = r.setDescs, I = {};
        a || (n = !p(function () {
            return 7 != O(c("div"), "a", {
                    get: function () {
                        return 7
                    }
                }).a
        }), r.setDesc = function (t, e, i) {
            if (n)try {
                return O(t, e, i)
            } catch (t) {
            }
            if ("get" in i || "set" in i)throw TypeError("Accessors not supported!");
            return "value" in i && (f(t)[e] = i.value), t
        }, r.getDesc = function (t, e) {
            if (n)try {
                return L(t, e)
            } catch (t) {
            }
            if (u(t, e))return s(!A.propertyIsEnumerable.call(t, e), t[e])
        }, r.setDescs = k = function (t, e) {
            f(t);
            for (var i, n = r.getKeys(e), o = n.length, a = 0; o > a;)r.setDesc(t, i = n[a++], e[i]);
            return t
        }), o(o.S + o.F * !a, "Object", {
            getOwnPropertyDescriptor: r.getDesc,
            defineProperty: r.setDesc,
            defineProperties: k
        });
        var N = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),
            R = N.concat("length", "prototype"), D = N.length, z = function () {
                var t, e = c("iframe"), i = D;
                for (e.style.display = "none", l.appendChild(e), e.src = "javascript:", (t = e.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), z = t.F; i--;)delete z.prototype[N[i]];
                return z()
            }, j = function (t, e) {
                return function (i) {
                    var n, r = y(i), o = 0, a = [];
                    for (n in r)n != S && u(r, n) && a.push(n);
                    for (; e > o;)u(r, n = t[o++]) && (~T(a, n) || a.push(n));
                    return a
                }
            }, F = function () {
            };
        o(o.S, "Object", {
            getPrototypeOf: r.getProto = r.getProto || function (t) {
                    return t = v(t), u(t, S) ? t[S] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? A : null
                },
            getOwnPropertyNames: r.getNames = r.getNames || j(R, R.length),
            create: r.create = r.create || function (t, e) {
                    var i;
                    return null !== t ? (F.prototype = f(t), i = new F, F.prototype = null, i[S] = t) : i = z(), void 0 === e ? i : k(i, e)
                },
            keys: r.getKeys = r.getKeys || j(N, D)
        });
        o(o.P, "Function", {
            bind: function (t) {
                var e = m(this), i = E.call(arguments, 1), n = function () {
                    var r = i.concat(E.call(arguments));
                    return this instanceof n ? function (t, e, i) {
                        if (!(e in I)) {
                            for (var n = [], r = 0; r < e; r++)n[r] = "a[" + r + "]";
                            I[e] = Function("F,a", "return new F(" + n.join(",") + ")")
                        }
                        return I[e](t, i)
                    }(e, r.length, r) : d(e, r, t)
                };
                return g(e.prototype) && (n.prototype = e.prototype), n
            }
        }), o(o.P + o.F * p(function () {
                l && E.call(l)
            }), "Array", {
            slice: function (t, e) {
                var i = b(this.length), n = h(this);
                if (e = void 0 === e ? i : e, "Array" == n)return E.call(this, t, e);
                for (var r = x(t, i), o = x(e, i), a = b(o - r), s = Array(a), l = 0; l < a; l++)s[l] = "String" == n ? this.charAt(r + l) : this[r + l];
                return s
            }
        }), o(o.P + o.F * (w != Object), "Array", {
            join: function (t) {
                return C.call(w(this), void 0 === t ? "," : t)
            }
        }), o(o.S, "Array", {isArray: t("./$.is-array")});
        var B = function (t) {
            return function (e, i) {
                m(e);
                var n = w(this), r = b(n.length), o = t ? r - 1 : 0, a = t ? -1 : 1;
                if (arguments.length < 2)for (; ;) {
                    if (o in n) {
                        i = n[o], o += a;
                        break
                    }
                    if (o += a, t ? o < 0 : r <= o)throw TypeError("Reduce of empty array with no initial value")
                }
                for (; t ? o >= 0 : r > o; o += a)o in n && (i = e(i, n[o], o, this));
                return i
            }
        }, U = function (t) {
            return function (e) {
                return t(this, e, arguments[1])
            }
        };
        o(o.P, "Array", {
            forEach: r.each = r.each || U(M(0)),
            map: U(M(1)),
            filter: U(M(2)),
            some: U(M(3)),
            every: U(M(4)),
            reduce: B(!1),
            reduceRight: B(!0),
            indexOf: U(T),
            lastIndexOf: function (t, e) {
                var i = y(this), n = b(i.length), r = n - 1;
                for (arguments.length > 1 && (r = Math.min(r, _(e))), r < 0 && (r = b(n + r)); r >= 0; r--)if (r in i && i[r] === t)return r;
                return -1
            }
        }), o(o.S, "Date", {
            now: function () {
                return +new Date
            }
        });
        var G = function (t) {
            return t > 9 ? t : "0" + t
        };
        o(o.P + o.F * (p(function () {
                return "0385-07-25T07:06:39.999Z" != new Date(-5e13 - 1).toISOString()
            }) || !p(function () {
                new Date(NaN).toISOString()
            })), "Date", {
            toISOString: function () {
                if (!isFinite(this))throw RangeError("Invalid time value");
                var t = this, e = t.getUTCFullYear(), i = t.getUTCMilliseconds(), n = e < 0 ? "-" : e > 9999 ? "+" : "";
                return n + ("00000" + Math.abs(e)).slice(n ? -6 : -4) + "-" + G(t.getUTCMonth() + 1) + "-" + G(t.getUTCDate()) + "T" + G(t.getUTCHours()) + ":" + G(t.getUTCMinutes()) + ":" + G(t.getUTCSeconds()) + "." + (i > 99 ? i : "0" + G(i)) + "Z"
            }
        })
    }, {
        "./$": 48,
        "./$.a-function": 4,
        "./$.an-object": 6,
        "./$.array-includes": 9,
        "./$.array-methods": 10,
        "./$.cof": 13,
        "./$.descriptors": 21,
        "./$.dom-create": 22,
        "./$.export": 24,
        "./$.fails": 26,
        "./$.has": 32,
        "./$.html": 34,
        "./$.invoke": 35,
        "./$.iobject": 36,
        "./$.is-array": 38,
        "./$.is-object": 40,
        "./$.property-desc": 61,
        "./$.to-index": 78,
        "./$.to-integer": 79,
        "./$.to-iobject": 80,
        "./$.to-length": 81,
        "./$.to-object": 82,
        "./$.uid": 84
    }],
    88: [function (t, e, i) {
        var n = t("./$.export");
        n(n.P, "Array", {copyWithin: t("./$.array-copy-within")}), t("./$.add-to-unscopables")("copyWithin")
    }, {"./$.add-to-unscopables": 5, "./$.array-copy-within": 7, "./$.export": 24}],
    89: [function (t, e, i) {
        var n = t("./$.export");
        n(n.P, "Array", {fill: t("./$.array-fill")}), t("./$.add-to-unscopables")("fill")
    }, {"./$.add-to-unscopables": 5, "./$.array-fill": 8, "./$.export": 24}],
    90: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.array-methods")(6), o = "findIndex", a = !0;
        o in [] && Array(1)[o](function () {
            a = !1
        }), n(n.P + n.F * a, "Array", {
            findIndex: function (t) {
                return r(this, t, arguments.length > 1 ? arguments[1] : void 0)
            }
        }), t("./$.add-to-unscopables")(o)
    }, {"./$.add-to-unscopables": 5, "./$.array-methods": 10, "./$.export": 24}],
    91: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.array-methods")(5), o = !0;
        "find" in [] && Array(1).find(function () {
            o = !1
        }), n(n.P + n.F * o, "Array", {
            find: function (t) {
                return r(this, t, arguments.length > 1 ? arguments[1] : void 0)
            }
        }), t("./$.add-to-unscopables")("find")
    }, {"./$.add-to-unscopables": 5, "./$.array-methods": 10, "./$.export": 24}],
    92: [function (t, e, i) {
        "use strict";
        var n = t("./$.ctx"), r = t("./$.export"), o = t("./$.to-object"), a = t("./$.iter-call"),
            s = t("./$.is-array-iter"), l = t("./$.to-length"), c = t("./core.get-iterator-method");
        r(r.S + r.F * !t("./$.iter-detect")(function (t) {
                Array.from(t)
            }), "Array", {
            from: function (t) {
                var e, i, r, u, h = o(t), d = "function" == typeof this ? this : Array, p = arguments, f = p.length,
                    m = f > 1 ? p[1] : void 0, g = void 0 !== m, v = 0, y = c(h);
                if (g && (m = n(m, f > 2 ? p[2] : void 0, 2)), void 0 == y || d == Array && s(y))for (i = new d(e = l(h.length)); e > v; v++)i[v] = g ? m(h[v], v) : h[v]; else for (u = y.call(h), i = new d; !(r = u.next()).done; v++)i[v] = g ? a(u, m, [r.value, v], !0) : r.value;
                return i.length = v, i
            }
        })
    }, {
        "./$.ctx": 19,
        "./$.export": 24,
        "./$.is-array-iter": 37,
        "./$.iter-call": 42,
        "./$.iter-detect": 45,
        "./$.to-length": 81,
        "./$.to-object": 82,
        "./core.get-iterator-method": 86
    }],
    93: [function (t, e, i) {
        "use strict";
        var n = t("./$.add-to-unscopables"), r = t("./$.iter-step"), o = t("./$.iterators"), a = t("./$.to-iobject");
        e.exports = t("./$.iter-define")(Array, "Array", function (t, e) {
            this._t = a(t), this._i = 0, this._k = e
        }, function () {
            var t = this._t, e = this._k, i = this._i++;
            return !t || i >= t.length ? (this._t = void 0, r(1)) : r(0, "keys" == e ? i : "values" == e ? t[i] : [i, t[i]])
        }, "values"), o.Arguments = o.Array, n("keys"), n("values"), n("entries")
    }, {
        "./$.add-to-unscopables": 5,
        "./$.iter-define": 44,
        "./$.iter-step": 46,
        "./$.iterators": 47,
        "./$.to-iobject": 80
    }],
    94: [function (t, e, i) {
        "use strict";
        var n = t("./$.export");
        n(n.S + n.F * t("./$.fails")(function () {
                function t() {
                }

                return !(Array.of.call(t) instanceof t)
            }), "Array", {
            of: function () {
                for (var t = 0, e = arguments, i = e.length, n = new ("function" == typeof this ? this : Array)(i); i > t;)n[t] = e[t++];
                return n.length = i, n
            }
        })
    }, {"./$.export": 24, "./$.fails": 26}],
    95: [function (t, e, i) {
        t("./$.set-species")("Array")
    }, {"./$.set-species": 67}],
    96: [function (t, e, i) {
        "use strict";
        var n = t("./$"), r = t("./$.is-object"), o = t("./$.wks")("hasInstance"), a = Function.prototype;
        o in a || n.setDesc(a, o, {
            value: function (t) {
                if ("function" != typeof this || !r(t))return !1;
                if (!r(this.prototype))return t instanceof this;
                for (; t = n.getProto(t);)if (this.prototype === t)return !0;
                return !1
            }
        })
    }, {"./$": 48, "./$.is-object": 40, "./$.wks": 85}],
    97: [function (t, e, i) {
        var n = t("./$").setDesc, r = t("./$.property-desc"), o = t("./$.has"), a = Function.prototype,
            s = /^\s*function ([^ (]*)/;
        "name" in a || t("./$.descriptors") && n(a, "name", {
            configurable: !0, get: function () {
                var t = ("" + this).match(s), e = t ? t[1] : "";
                return o(this, "name") || n(this, "name", r(5, e)), e
            }
        })
    }, {"./$": 48, "./$.descriptors": 21, "./$.has": 32, "./$.property-desc": 61}],
    98: [function (t, e, i) {
        "use strict";
        var n = t("./$.collection-strong");
        t("./$.collection")("Map", function (t) {
            return function () {
                return t(this, arguments.length > 0 ? arguments[0] : void 0)
            }
        }, {
            get: function (t) {
                var e = n.getEntry(this, t);
                return e && e.v
            }, set: function (t, e) {
                return n.def(this, 0 === t ? 0 : t, e)
            }
        }, n, !0)
    }, {"./$.collection": 17, "./$.collection-strong": 14}],
    99: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.math-log1p"), o = Math.sqrt, a = Math.acosh;
        n(n.S + n.F * !(a && 710 == Math.floor(a(Number.MAX_VALUE))), "Math", {
            acosh: function (t) {
                return (t = +t) < 1 ? NaN : t > 94906265.62425156 ? Math.log(t) + Math.LN2 : r(t - 1 + o(t - 1) * o(t + 1))
            }
        })
    }, {"./$.export": 24, "./$.math-log1p": 52}],
    100: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {
            asinh: function t(e) {
                return isFinite(e = +e) && 0 != e ? e < 0 ? -t(-e) : Math.log(e + Math.sqrt(e * e + 1)) : e
            }
        })
    }, {"./$.export": 24}],
    101: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {
            atanh: function (t) {
                return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2
            }
        })
    }, {"./$.export": 24}],
    102: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.math-sign");
        n(n.S, "Math", {
            cbrt: function (t) {
                return r(t = +t) * Math.pow(Math.abs(t), 1 / 3)
            }
        })
    }, {"./$.export": 24, "./$.math-sign": 53}],
    103: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {
            clz32: function (t) {
                return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32
            }
        })
    }, {"./$.export": 24}],
    104: [function (t, e, i) {
        var n = t("./$.export"), r = Math.exp;
        n(n.S, "Math", {
            cosh: function (t) {
                return (r(t = +t) + r(-t)) / 2
            }
        })
    }, {"./$.export": 24}],
    105: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {expm1: t("./$.math-expm1")})
    }, {"./$.export": 24, "./$.math-expm1": 51}],
    106: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.math-sign"), o = Math.pow, a = o(2, -52), s = o(2, -23),
            l = o(2, 127) * (2 - s), c = o(2, -126);
        n(n.S, "Math", {
            fround: function (t) {
                var e, i, n = Math.abs(t), o = r(t);
                return n < c ? o * (n / c / s + 1 / a - 1 / a) * c * s : (i = (e = (1 + s / a) * n) - (e - n)) > l || i != i ? o * (1 / 0) : o * i
            }
        })
    }, {"./$.export": 24, "./$.math-sign": 53}],
    107: [function (t, e, i) {
        var n = t("./$.export"), r = Math.abs;
        n(n.S, "Math", {
            hypot: function (t, e) {
                for (var i, n, o = 0, a = 0, s = arguments, l = s.length, c = 0; a < l;)c < (i = r(s[a++])) ? (o = o * (n = c / i) * n + 1, c = i) : o += i > 0 ? (n = i / c) * n : i;
                return c === 1 / 0 ? 1 / 0 : c * Math.sqrt(o)
            }
        })
    }, {"./$.export": 24}],
    108: [function (t, e, i) {
        var n = t("./$.export"), r = Math.imul;
        n(n.S + n.F * t("./$.fails")(function () {
                return -5 != r(4294967295, 5) || 2 != r.length
            }), "Math", {
            imul: function (t, e) {
                var i = +t, n = +e, r = 65535 & i, o = 65535 & n;
                return 0 | r * o + ((65535 & i >>> 16) * o + r * (65535 & n >>> 16) << 16 >>> 0)
            }
        })
    }, {"./$.export": 24, "./$.fails": 26}],
    109: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {
            log10: function (t) {
                return Math.log(t) / Math.LN10
            }
        })
    }, {"./$.export": 24}],
    110: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {log1p: t("./$.math-log1p")})
    }, {"./$.export": 24, "./$.math-log1p": 52}],
    111: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {
            log2: function (t) {
                return Math.log(t) / Math.LN2
            }
        })
    }, {"./$.export": 24}],
    112: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {sign: t("./$.math-sign")})
    }, {"./$.export": 24, "./$.math-sign": 53}],
    113: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.math-expm1"), o = Math.exp;
        n(n.S + n.F * t("./$.fails")(function () {
                return -2e-17 != !Math.sinh(-2e-17)
            }), "Math", {
            sinh: function (t) {
                return Math.abs(t = +t) < 1 ? (r(t) - r(-t)) / 2 : (o(t - 1) - o(-t - 1)) * (Math.E / 2)
            }
        })
    }, {"./$.export": 24, "./$.fails": 26, "./$.math-expm1": 51}],
    114: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.math-expm1"), o = Math.exp;
        n(n.S, "Math", {
            tanh: function (t) {
                var e = r(t = +t), i = r(-t);
                return e == 1 / 0 ? 1 : i == 1 / 0 ? -1 : (e - i) / (o(t) + o(-t))
            }
        })
    }, {"./$.export": 24, "./$.math-expm1": 51}],
    115: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Math", {
            trunc: function (t) {
                return (t > 0 ? Math.floor : Math.ceil)(t)
            }
        })
    }, {"./$.export": 24}],
    116: [function (t, e, i) {
        "use strict";
        var n = t("./$"), r = t("./$.global"), o = t("./$.has"), a = t("./$.cof"), s = t("./$.to-primitive"),
            l = t("./$.fails"), c = t("./$.string-trim").trim, u = r.Number, h = u, d = u.prototype,
            p = "Number" == a(n.create(d)), f = "trim" in String.prototype, m = function (t) {
                var e = s(t, !1);
                if ("string" == typeof e && e.length > 2) {
                    var i, n, r, o = (e = f ? e.trim() : c(e, 3)).charCodeAt(0);
                    if (43 === o || 45 === o) {
                        if (88 === (i = e.charCodeAt(2)) || 120 === i)return NaN
                    } else if (48 === o) {
                        switch (e.charCodeAt(1)) {
                            case 66:
                            case 98:
                                n = 2, r = 49;
                                break;
                            case 79:
                            case 111:
                                n = 8, r = 55;
                                break;
                            default:
                                return +e
                        }
                        for (var a, l = e.slice(2), u = 0, h = l.length; u < h; u++)if ((a = l.charCodeAt(u)) < 48 || a > r)return NaN;
                        return parseInt(l, n)
                    }
                }
                return +e
            };
        u(" 0o1") && u("0b1") && !u("+0x1") || (u = function (t) {
            var e = arguments.length < 1 ? 0 : t, i = this;
            return i instanceof u && (p ? l(function () {
                d.valueOf.call(i)
            }) : "Number" != a(i)) ? new h(m(e)) : m(e)
        }, n.each.call(t("./$.descriptors") ? n.getNames(h) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), function (t) {
            o(h, t) && !o(u, t) && n.setDesc(u, t, n.getDesc(h, t))
        }), u.prototype = d, d.constructor = u, t("./$.redefine")(r, "Number", u))
    }, {
        "./$": 48,
        "./$.cof": 13,
        "./$.descriptors": 21,
        "./$.fails": 26,
        "./$.global": 31,
        "./$.has": 32,
        "./$.redefine": 63,
        "./$.string-trim": 76,
        "./$.to-primitive": 83
    }],
    117: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Number", {EPSILON: Math.pow(2, -52)})
    }, {"./$.export": 24}],
    118: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.global").isFinite;
        n(n.S, "Number", {
            isFinite: function (t) {
                return "number" == typeof t && r(t)
            }
        })
    }, {"./$.export": 24, "./$.global": 31}],
    119: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Number", {isInteger: t("./$.is-integer")})
    }, {"./$.export": 24, "./$.is-integer": 39}],
    120: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Number", {
            isNaN: function (t) {
                return t != t
            }
        })
    }, {"./$.export": 24}],
    121: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.is-integer"), o = Math.abs;
        n(n.S, "Number", {
            isSafeInteger: function (t) {
                return r(t) && o(t) <= 9007199254740991
            }
        })
    }, {"./$.export": 24, "./$.is-integer": 39}],
    122: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Number", {MAX_SAFE_INTEGER: 9007199254740991})
    }, {"./$.export": 24}],
    123: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Number", {MIN_SAFE_INTEGER: -9007199254740991})
    }, {"./$.export": 24}],
    124: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Number", {parseFloat: parseFloat})
    }, {"./$.export": 24}],
    125: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Number", {parseInt: parseInt})
    }, {"./$.export": 24}],
    126: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S + n.F, "Object", {assign: t("./$.object-assign")})
    }, {"./$.export": 24, "./$.object-assign": 55}],
    127: [function (t, e, i) {
        var n = t("./$.is-object");
        t("./$.object-sap")("freeze", function (t) {
            return function (e) {
                return t && n(e) ? t(e) : e
            }
        })
    }, {"./$.is-object": 40, "./$.object-sap": 56}],
    128: [function (t, e, i) {
        var n = t("./$.to-iobject");
        t("./$.object-sap")("getOwnPropertyDescriptor", function (t) {
            return function (e, i) {
                return t(n(e), i)
            }
        })
    }, {"./$.object-sap": 56, "./$.to-iobject": 80}],
    129: [function (t, e, i) {
        t("./$.object-sap")("getOwnPropertyNames", function () {
            return t("./$.get-names").get
        })
    }, {"./$.get-names": 30, "./$.object-sap": 56}],
    130: [function (t, e, i) {
        var n = t("./$.to-object");
        t("./$.object-sap")("getPrototypeOf", function (t) {
            return function (e) {
                return t(n(e))
            }
        })
    }, {"./$.object-sap": 56, "./$.to-object": 82}],
    131: [function (t, e, i) {
        var n = t("./$.is-object");
        t("./$.object-sap")("isExtensible", function (t) {
            return function (e) {
                return !!n(e) && (!t || t(e))
            }
        })
    }, {"./$.is-object": 40, "./$.object-sap": 56}],
    132: [function (t, e, i) {
        var n = t("./$.is-object");
        t("./$.object-sap")("isFrozen", function (t) {
            return function (e) {
                return !n(e) || !!t && t(e)
            }
        })
    }, {"./$.is-object": 40, "./$.object-sap": 56}],
    133: [function (t, e, i) {
        var n = t("./$.is-object");
        t("./$.object-sap")("isSealed", function (t) {
            return function (e) {
                return !n(e) || !!t && t(e)
            }
        })
    }, {"./$.is-object": 40, "./$.object-sap": 56}],
    134: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Object", {is: t("./$.same-value")})
    }, {"./$.export": 24, "./$.same-value": 65}],
    135: [function (t, e, i) {
        var n = t("./$.to-object");
        t("./$.object-sap")("keys", function (t) {
            return function (e) {
                return t(n(e))
            }
        })
    }, {"./$.object-sap": 56, "./$.to-object": 82}],
    136: [function (t, e, i) {
        var n = t("./$.is-object");
        t("./$.object-sap")("preventExtensions", function (t) {
            return function (e) {
                return t && n(e) ? t(e) : e
            }
        })
    }, {"./$.is-object": 40, "./$.object-sap": 56}],
    137: [function (t, e, i) {
        var n = t("./$.is-object");
        t("./$.object-sap")("seal", function (t) {
            return function (e) {
                return t && n(e) ? t(e) : e
            }
        })
    }, {"./$.is-object": 40, "./$.object-sap": 56}],
    138: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Object", {setPrototypeOf: t("./$.set-proto").set})
    }, {"./$.export": 24, "./$.set-proto": 66}],
    139: [function (t, e, i) {
        "use strict";
        var n = t("./$.classof"), r = {};
        r[t("./$.wks")("toStringTag")] = "z", r + "" != "[object z]" && t("./$.redefine")(Object.prototype, "toString", function () {
            return "[object " + n(this) + "]"
        }, !0)
    }, {"./$.classof": 12, "./$.redefine": 63, "./$.wks": 85}],
    140: [function (t, e, i) {
        "use strict";
        var n, r = t("./$"), o = t("./$.library"), a = t("./$.global"), s = t("./$.ctx"), l = t("./$.classof"),
            c = t("./$.export"), u = t("./$.is-object"), h = t("./$.an-object"), d = t("./$.a-function"),
            p = t("./$.strict-new"), f = t("./$.for-of"), m = t("./$.set-proto").set, g = t("./$.same-value"),
            v = t("./$.wks")("species"), y = t("./$.species-constructor"), _ = t("./$.microtask"), x = a.process,
            b = "process" == l(x), w = a.Promise, S = function () {
            }, M = function (t) {
                var e, i = new w(S);
                return t && (i.constructor = function (t) {
                    t(S, S)
                }), (e = w.resolve(i)).catch(S), e === i
            }, T = function () {
                var e = !1;

                function i(t) {
                    var e = new w(t);
                    return m(e, i.prototype), e
                }

                try {
                    if (e = w && w.resolve && M(), m(i, w), i.prototype = r.create(w.prototype, {constructor: {value: i}}), i.resolve(5).then(function () {
                        }) instanceof i || (e = !1), e && t("./$.descriptors")) {
                        var n = !1;
                        w.resolve(r.setDesc({}, "then", {
                            get: function () {
                                n = !0
                            }
                        })), e = n
                    }
                } catch (t) {
                    e = !1
                }
                return e
            }(), A = function (t) {
                var e = h(t)[v];
                return void 0 != e ? e : t
            }, P = function (t) {
                var e;
                return !(!u(t) || "function" != typeof(e = t.then)) && e
            }, E = function (t) {
                var e, i;
                this.promise = new t(function (t, n) {
                    if (void 0 !== e || void 0 !== i)throw TypeError("Bad Promise constructor");
                    e = t, i = n
                }), this.resolve = d(e), this.reject = d(i)
            }, C = function (t) {
                try {
                    t()
                } catch (t) {
                    return {error: t}
                }
            }, O = function (t, e) {
                if (!t.n) {
                    t.n = !0;
                    var i = t.c;
                    _(function () {
                        for (var n = t.v, r = 1 == t.s, o = 0, s = function (e) {
                            var i, o, a = r ? e.ok : e.fail, s = e.resolve, l = e.reject;
                            try {
                                a ? (r || (t.h = !0), (i = !0 === a ? n : a(n)) === e.promise ? l(TypeError("Promise-chain cycle")) : (o = P(i)) ? o.call(i, s, l) : s(i)) : l(n)
                            } catch (t) {
                                l(t)
                            }
                        }; i.length > o;)s(i[o++]);
                        i.length = 0, t.n = !1, e && setTimeout(function () {
                            var e, i, r = t.p;
                            L(r) && (b ? x.emit("unhandledRejection", n, r) : (e = a.onunhandledrejection) ? e({
                                promise: r,
                                reason: n
                            }) : (i = a.console) && i.error && i.error("Unhandled promise rejection", n)), t.a = void 0
                        }, 1)
                    })
                }
            }, L = function (t) {
                var e, i = t._d, n = i.a || i.c, r = 0;
                if (i.h)return !1;
                for (; n.length > r;)if ((e = n[r++]).fail || !L(e.promise))return !1;
                return !0
            }, k = function (t) {
                var e = this;
                e.d || (e.d = !0, (e = e.r || e).v = t, e.s = 2, e.a = e.c.slice(), O(e, !0))
            }, I = function (t) {
                var e, i = this;
                if (!i.d) {
                    i.d = !0, i = i.r || i;
                    try {
                        if (i.p === t)throw TypeError("Promise can't be resolved itself");
                        (e = P(t)) ? _(function () {
                            var n = {r: i, d: !1};
                            try {
                                e.call(t, s(I, n, 1), s(k, n, 1))
                            } catch (t) {
                                k.call(n, t)
                            }
                        }) : (i.v = t, i.s = 1, O(i, !1))
                    } catch (t) {
                        k.call({r: i, d: !1}, t)
                    }
                }
            };
        T || (w = function (t) {
            d(t);
            var e = this._d = {p: p(this, w, "Promise"), c: [], a: void 0, s: 0, d: !1, v: void 0, h: !1, n: !1};
            try {
                t(s(I, e, 1), s(k, e, 1))
            } catch (t) {
                k.call(e, t)
            }
        }, t("./$.redefine-all")(w.prototype, {
            then: function (t, e) {
                var i = new E(y(this, w)), n = i.promise, r = this._d;
                return i.ok = "function" != typeof t || t, i.fail = "function" == typeof e && e, r.c.push(i), r.a && r.a.push(i), r.s && O(r, !1), n
            }, catch: function (t) {
                return this.then(void 0, t)
            }
        })), c(c.G + c.W + c.F * !T, {Promise: w}), t("./$.set-to-string-tag")(w, "Promise"), t("./$.set-species")("Promise"), n = t("./$.core").Promise, c(c.S + c.F * !T, "Promise", {
            reject: function (t) {
                var e = new E(this);
                return (0, e.reject)(t), e.promise
            }
        }), c(c.S + c.F * (!T || M(!0)), "Promise", {
            resolve: function (t) {
                if (t instanceof w && (e = t.constructor, i = this, o && e === w && i === n || g(e, i)))return t;
                var e, i, r = new E(this);
                return (0, r.resolve)(t), r.promise
            }
        }), c(c.S + c.F * !(T && t("./$.iter-detect")(function (t) {
                w.all(t).catch(function () {
                })
            })), "Promise", {
            all: function (t) {
                var e = A(this), i = new E(e), n = i.resolve, o = i.reject, a = [], s = C(function () {
                    f(t, !1, a.push, a);
                    var i = a.length, s = Array(i);
                    i ? r.each.call(a, function (t, r) {
                        var a = !1;
                        e.resolve(t).then(function (t) {
                            a || (a = !0, s[r] = t, --i || n(s))
                        }, o)
                    }) : n(s)
                });
                return s && o(s.error), i.promise
            }, race: function (t) {
                var e = A(this), i = new E(e), n = i.reject, r = C(function () {
                    f(t, !1, function (t) {
                        e.resolve(t).then(i.resolve, n)
                    })
                });
                return r && n(r.error), i.promise
            }
        })
    }, {
        "./$": 48,
        "./$.a-function": 4,
        "./$.an-object": 6,
        "./$.classof": 12,
        "./$.core": 18,
        "./$.ctx": 19,
        "./$.descriptors": 21,
        "./$.export": 24,
        "./$.for-of": 29,
        "./$.global": 31,
        "./$.is-object": 40,
        "./$.iter-detect": 45,
        "./$.library": 50,
        "./$.microtask": 54,
        "./$.redefine-all": 62,
        "./$.same-value": 65,
        "./$.set-proto": 66,
        "./$.set-species": 67,
        "./$.set-to-string-tag": 68,
        "./$.species-constructor": 70,
        "./$.strict-new": 71,
        "./$.wks": 85
    }],
    141: [function (t, e, i) {
        var n = t("./$.export"), r = Function.apply, o = t("./$.an-object");
        n(n.S, "Reflect", {
            apply: function (t, e, i) {
                return r.call(t, e, o(i))
            }
        })
    }, {"./$.an-object": 6, "./$.export": 24}],
    142: [function (t, e, i) {
        var n = t("./$"), r = t("./$.export"), o = t("./$.a-function"), a = t("./$.an-object"), s = t("./$.is-object"),
            l = Function.bind || t("./$.core").Function.prototype.bind;
        r(r.S + r.F * t("./$.fails")(function () {
                function t() {
                }

                return !(Reflect.construct(function () {
                }, [], t) instanceof t)
            }), "Reflect", {
            construct: function (t, e) {
                o(t), a(e);
                var i = arguments.length < 3 ? t : o(arguments[2]);
                if (t == i) {
                    switch (e.length) {
                        case 0:
                            return new t;
                        case 1:
                            return new t(e[0]);
                        case 2:
                            return new t(e[0], e[1]);
                        case 3:
                            return new t(e[0], e[1], e[2]);
                        case 4:
                            return new t(e[0], e[1], e[2], e[3])
                    }
                    var r = [null];
                    return r.push.apply(r, e), new (l.apply(t, r))
                }
                var c = i.prototype, u = n.create(s(c) ? c : Object.prototype), h = Function.apply.call(t, u, e);
                return s(h) ? h : u
            }
        })
    }, {
        "./$": 48,
        "./$.a-function": 4,
        "./$.an-object": 6,
        "./$.core": 18,
        "./$.export": 24,
        "./$.fails": 26,
        "./$.is-object": 40
    }],
    143: [function (t, e, i) {
        var n = t("./$"), r = t("./$.export"), o = t("./$.an-object");
        r(r.S + r.F * t("./$.fails")(function () {
                Reflect.defineProperty(n.setDesc({}, 1, {value: 1}), 1, {value: 2})
            }), "Reflect", {
            defineProperty: function (t, e, i) {
                o(t);
                try {
                    return n.setDesc(t, e, i), !0
                } catch (t) {
                    return !1
                }
            }
        })
    }, {"./$": 48, "./$.an-object": 6, "./$.export": 24, "./$.fails": 26}],
    144: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$").getDesc, o = t("./$.an-object");
        n(n.S, "Reflect", {
            deleteProperty: function (t, e) {
                var i = r(o(t), e);
                return !(i && !i.configurable) && delete t[e]
            }
        })
    }, {"./$": 48, "./$.an-object": 6, "./$.export": 24}],
    145: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.an-object"), o = function (t) {
            this._t = r(t), this._i = 0;
            var e, i = this._k = [];
            for (e in t)i.push(e)
        };
        t("./$.iter-create")(o, "Object", function () {
            var t, e = this._k;
            do {
                if (this._i >= e.length)return {value: void 0, done: !0}
            } while (!((t = e[this._i++]) in this._t));
            return {value: t, done: !1}
        }), n(n.S, "Reflect", {
            enumerate: function (t) {
                return new o(t)
            }
        })
    }, {"./$.an-object": 6, "./$.export": 24, "./$.iter-create": 43}],
    146: [function (t, e, i) {
        var n = t("./$"), r = t("./$.export"), o = t("./$.an-object");
        r(r.S, "Reflect", {
            getOwnPropertyDescriptor: function (t, e) {
                return n.getDesc(o(t), e)
            }
        })
    }, {"./$": 48, "./$.an-object": 6, "./$.export": 24}],
    147: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$").getProto, o = t("./$.an-object");
        n(n.S, "Reflect", {
            getPrototypeOf: function (t) {
                return r(o(t))
            }
        })
    }, {"./$": 48, "./$.an-object": 6, "./$.export": 24}],
    148: [function (t, e, i) {
        var n = t("./$"), r = t("./$.has"), o = t("./$.export"), a = t("./$.is-object"), s = t("./$.an-object");
        o(o.S, "Reflect", {
            get: function t(e, i) {
                var o, l, c = arguments.length < 3 ? e : arguments[2];
                return s(e) === c ? e[i] : (o = n.getDesc(e, i)) ? r(o, "value") ? o.value : void 0 !== o.get ? o.get.call(c) : void 0 : a(l = n.getProto(e)) ? t(l, i, c) : void 0
            }
        })
    }, {"./$": 48, "./$.an-object": 6, "./$.export": 24, "./$.has": 32, "./$.is-object": 40}],
    149: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Reflect", {
            has: function (t, e) {
                return e in t
            }
        })
    }, {"./$.export": 24}],
    150: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.an-object"), o = Object.isExtensible;
        n(n.S, "Reflect", {
            isExtensible: function (t) {
                return r(t), !o || o(t)
            }
        })
    }, {"./$.an-object": 6, "./$.export": 24}],
    151: [function (t, e, i) {
        var n = t("./$.export");
        n(n.S, "Reflect", {ownKeys: t("./$.own-keys")})
    }, {"./$.export": 24, "./$.own-keys": 58}],
    152: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.an-object"), o = Object.preventExtensions;
        n(n.S, "Reflect", {
            preventExtensions: function (t) {
                r(t);
                try {
                    return o && o(t), !0
                } catch (t) {
                    return !1
                }
            }
        })
    }, {"./$.an-object": 6, "./$.export": 24}],
    153: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.set-proto");
        r && n(n.S, "Reflect", {
            setPrototypeOf: function (t, e) {
                r.check(t, e);
                try {
                    return r.set(t, e), !0
                } catch (t) {
                    return !1
                }
            }
        })
    }, {"./$.export": 24, "./$.set-proto": 66}],
    154: [function (t, e, i) {
        var n = t("./$"), r = t("./$.has"), o = t("./$.export"), a = t("./$.property-desc"), s = t("./$.an-object"),
            l = t("./$.is-object");
        o(o.S, "Reflect", {
            set: function t(e, i, o) {
                var c, u, h = arguments.length < 4 ? e : arguments[3], d = n.getDesc(s(e), i);
                if (!d) {
                    if (l(u = n.getProto(e)))return t(u, i, o, h);
                    d = a(0)
                }
                return r(d, "value") ? !(!1 === d.writable || !l(h) || ((c = n.getDesc(h, i) || a(0)).value = o, n.setDesc(h, i, c), 0)) : void 0 !== d.set && (d.set.call(h, o), !0)
            }
        })
    }, {"./$": 48, "./$.an-object": 6, "./$.export": 24, "./$.has": 32, "./$.is-object": 40, "./$.property-desc": 61}],
    155: [function (t, e, i) {
        var n = t("./$"), r = t("./$.global"), o = t("./$.is-regexp"), a = t("./$.flags"), s = r.RegExp, l = s,
            c = s.prototype, u = /a/g, h = /a/g, d = new s(u) !== u;
        !t("./$.descriptors") || d && !t("./$.fails")(function () {
            return h[t("./$.wks")("match")] = !1, s(u) != u || s(h) == h || "/a/i" != s(u, "i")
        }) || (s = function (t, e) {
            var i = o(t), n = void 0 === e;
            return this instanceof s || !i || t.constructor !== s || !n ? d ? new l(i && !n ? t.source : t, e) : l((i = t instanceof s) ? t.source : t, i && n ? a.call(t) : e) : t
        }, n.each.call(n.getNames(l), function (t) {
            t in s || n.setDesc(s, t, {
                configurable: !0, get: function () {
                    return l[t]
                }, set: function (e) {
                    l[t] = e
                }
            })
        }), c.constructor = s, s.prototype = c, t("./$.redefine")(r, "RegExp", s)), t("./$.set-species")("RegExp")
    }, {
        "./$": 48,
        "./$.descriptors": 21,
        "./$.fails": 26,
        "./$.flags": 28,
        "./$.global": 31,
        "./$.is-regexp": 41,
        "./$.redefine": 63,
        "./$.set-species": 67,
        "./$.wks": 85
    }],
    156: [function (t, e, i) {
        var n = t("./$");
        t("./$.descriptors") && "g" != /./g.flags && n.setDesc(RegExp.prototype, "flags", {
            configurable: !0,
            get: t("./$.flags")
        })
    }, {"./$": 48, "./$.descriptors": 21, "./$.flags": 28}],
    157: [function (t, e, i) {
        t("./$.fix-re-wks")("match", 1, function (t, e) {
            return function (i) {
                "use strict";
                var n = t(this), r = void 0 == i ? void 0 : i[e];
                return void 0 !== r ? r.call(i, n) : new RegExp(i)[e](String(n))
            }
        })
    }, {"./$.fix-re-wks": 27}],
    158: [function (t, e, i) {
        t("./$.fix-re-wks")("replace", 2, function (t, e, i) {
            return function (n, r) {
                "use strict";
                var o = t(this), a = void 0 == n ? void 0 : n[e];
                return void 0 !== a ? a.call(n, o, r) : i.call(String(o), n, r)
            }
        })
    }, {"./$.fix-re-wks": 27}],
    159: [function (t, e, i) {
        t("./$.fix-re-wks")("search", 1, function (t, e) {
            return function (i) {
                "use strict";
                var n = t(this), r = void 0 == i ? void 0 : i[e];
                return void 0 !== r ? r.call(i, n) : new RegExp(i)[e](String(n))
            }
        })
    }, {"./$.fix-re-wks": 27}],
    160: [function (t, e, i) {
        t("./$.fix-re-wks")("split", 2, function (t, e, i) {
            return function (n, r) {
                "use strict";
                var o = t(this), a = void 0 == n ? void 0 : n[e];
                return void 0 !== a ? a.call(n, o, r) : i.call(String(o), n, r)
            }
        })
    }, {"./$.fix-re-wks": 27}],
    161: [function (t, e, i) {
        "use strict";
        var n = t("./$.collection-strong");
        t("./$.collection")("Set", function (t) {
            return function () {
                return t(this, arguments.length > 0 ? arguments[0] : void 0)
            }
        }, {
            add: function (t) {
                return n.def(this, t = 0 === t ? 0 : t, t)
            }
        }, n)
    }, {"./$.collection": 17, "./$.collection-strong": 14}],
    162: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.string-at")(!1);
        n(n.P, "String", {
            codePointAt: function (t) {
                return r(this, t)
            }
        })
    }, {"./$.export": 24, "./$.string-at": 72}],
    163: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.to-length"), o = t("./$.string-context"), a = "".endsWith;
        n(n.P + n.F * t("./$.fails-is-regexp")("endsWith"), "String", {
            endsWith: function (t) {
                var e = o(this, t, "endsWith"), i = arguments, n = i.length > 1 ? i[1] : void 0, s = r(e.length),
                    l = void 0 === n ? s : Math.min(r(n), s), c = String(t);
                return a ? a.call(e, c, l) : e.slice(l - c.length, l) === c
            }
        })
    }, {"./$.export": 24, "./$.fails-is-regexp": 25, "./$.string-context": 73, "./$.to-length": 81}],
    164: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.to-index"), o = String.fromCharCode, a = String.fromCodePoint;
        n(n.S + n.F * (!!a && 1 != a.length), "String", {
            fromCodePoint: function (t) {
                for (var e, i = [], n = arguments, a = n.length, s = 0; a > s;) {
                    if (e = +n[s++], r(e, 1114111) !== e)throw RangeError(e + " is not a valid code point");
                    i.push(e < 65536 ? o(e) : o(55296 + ((e -= 65536) >> 10), e % 1024 + 56320))
                }
                return i.join("")
            }
        })
    }, {"./$.export": 24, "./$.to-index": 78}],
    165: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.string-context");
        n(n.P + n.F * t("./$.fails-is-regexp")("includes"), "String", {
            includes: function (t) {
                return !!~r(this, t, "includes").indexOf(t, arguments.length > 1 ? arguments[1] : void 0)
            }
        })
    }, {"./$.export": 24, "./$.fails-is-regexp": 25, "./$.string-context": 73}],
    166: [function (t, e, i) {
        "use strict";
        var n = t("./$.string-at")(!0);
        t("./$.iter-define")(String, "String", function (t) {
            this._t = String(t), this._i = 0
        }, function () {
            var t, e = this._t, i = this._i;
            return i >= e.length ? {value: void 0, done: !0} : (t = n(e, i), this._i += t.length, {value: t, done: !1})
        })
    }, {"./$.iter-define": 44, "./$.string-at": 72}],
    167: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.to-iobject"), o = t("./$.to-length");
        n(n.S, "String", {
            raw: function (t) {
                for (var e = r(t.raw), i = o(e.length), n = arguments, a = n.length, s = [], l = 0; i > l;)s.push(String(e[l++])), l < a && s.push(String(n[l]));
                return s.join("")
            }
        })
    }, {"./$.export": 24, "./$.to-iobject": 80, "./$.to-length": 81}],
    168: [function (t, e, i) {
        var n = t("./$.export");
        n(n.P, "String", {repeat: t("./$.string-repeat")})
    }, {"./$.export": 24, "./$.string-repeat": 75}],
    169: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.to-length"), o = t("./$.string-context"), a = "".startsWith;
        n(n.P + n.F * t("./$.fails-is-regexp")("startsWith"), "String", {
            startsWith: function (t) {
                var e = o(this, t, "startsWith"), i = arguments,
                    n = r(Math.min(i.length > 1 ? i[1] : void 0, e.length)), s = String(t);
                return a ? a.call(e, s, n) : e.slice(n, n + s.length) === s
            }
        })
    }, {"./$.export": 24, "./$.fails-is-regexp": 25, "./$.string-context": 73, "./$.to-length": 81}],
    170: [function (t, e, i) {
        "use strict";
        t("./$.string-trim")("trim", function (t) {
            return function () {
                return t(this, 3)
            }
        })
    }, {"./$.string-trim": 76}],
    171: [function (t, e, i) {
        "use strict";
        var n = t("./$"), r = t("./$.global"), o = t("./$.has"), a = t("./$.descriptors"), s = t("./$.export"),
            l = t("./$.redefine"), c = t("./$.fails"), u = t("./$.shared"), h = t("./$.set-to-string-tag"),
            d = t("./$.uid"), p = t("./$.wks"), f = t("./$.keyof"), m = t("./$.get-names"), g = t("./$.enum-keys"),
            v = t("./$.is-array"), y = t("./$.an-object"), _ = t("./$.to-iobject"), x = t("./$.property-desc"),
            b = n.getDesc, w = n.setDesc, S = n.create, M = m.get, T = r.Symbol, A = r.JSON, P = A && A.stringify,
            E = !1, C = p("_hidden"), O = n.isEnum, L = u("symbol-registry"), k = u("symbols"),
            I = "function" == typeof T, N = Object.prototype, R = a && c(function () {
                return 7 != S(w({}, "a", {
                        get: function () {
                            return w(this, "a", {value: 7}).a
                        }
                    })).a
            }) ? function (t, e, i) {
                var n = b(N, e);
                n && delete N[e], w(t, e, i), n && t !== N && w(N, e, n)
            } : w, D = function (t) {
                var e = k[t] = S(T.prototype);
                return e._k = t, a && E && R(N, t, {
                    configurable: !0, set: function (e) {
                        o(this, C) && o(this[C], t) && (this[C][t] = !1), R(this, t, x(1, e))
                    }
                }), e
            }, z = function (t) {
                return "symbol" == typeof t
            }, j = function (t, e, i) {
                return i && o(k, e) ? (i.enumerable ? (o(t, C) && t[C][e] && (t[C][e] = !1), i = S(i, {enumerable: x(0, !1)})) : (o(t, C) || w(t, C, x(1, {})), t[C][e] = !0), R(t, e, i)) : w(t, e, i)
            }, F = function (t, e) {
                y(t);
                for (var i, n = g(e = _(e)), r = 0, o = n.length; o > r;)j(t, i = n[r++], e[i]);
                return t
            }, B = function (t, e) {
                return void 0 === e ? S(t) : F(S(t), e)
            }, U = function (t) {
                var e = O.call(this, t);
                return !(e || !o(this, t) || !o(k, t) || o(this, C) && this[C][t]) || e
            }, G = function (t, e) {
                var i = b(t = _(t), e);
                return !i || !o(k, e) || o(t, C) && t[C][e] || (i.enumerable = !0), i
            }, $ = function (t) {
                for (var e, i = M(_(t)), n = [], r = 0; i.length > r;)o(k, e = i[r++]) || e == C || n.push(e);
                return n
            }, V = function (t) {
                for (var e, i = M(_(t)), n = [], r = 0; i.length > r;)o(k, e = i[r++]) && n.push(k[e]);
                return n
            }, W = c(function () {
                var t = T();
                return "[null]" != P([t]) || "{}" != P({a: t}) || "{}" != P(Object(t))
            });
        I || (l((T = function () {
            if (z(this))throw TypeError("Symbol is not a constructor");
            return D(d(arguments.length > 0 ? arguments[0] : void 0))
        }).prototype, "toString", function () {
            return this._k
        }), z = function (t) {
            return t instanceof T
        }, n.create = B, n.isEnum = U, n.getDesc = G, n.setDesc = j, n.setDescs = F, n.getNames = m.get = $, n.getSymbols = V, a && !t("./$.library") && l(N, "propertyIsEnumerable", U, !0));
        var H = {
            for: function (t) {
                return o(L, t += "") ? L[t] : L[t] = T(t)
            }, keyFor: function (t) {
                return f(L, t)
            }, useSetter: function () {
                E = !0
            }, useSimple: function () {
                E = !1
            }
        };
        n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), function (t) {
            var e = p(t);
            H[t] = I ? e : D(e)
        }), E = !0, s(s.G + s.W, {Symbol: T}), s(s.S, "Symbol", H), s(s.S + s.F * !I, "Object", {
            create: B,
            defineProperty: j,
            defineProperties: F,
            getOwnPropertyDescriptor: G,
            getOwnPropertyNames: $,
            getOwnPropertySymbols: V
        }), A && s(s.S + s.F * (!I || W), "JSON", {
            stringify: function (t) {
                if (void 0 !== t && !z(t)) {
                    for (var e, i, n = [t], r = 1, o = arguments; o.length > r;)n.push(o[r++]);
                    return "function" == typeof(e = n[1]) && (i = e), !i && v(e) || (e = function (t, e) {
                        if (i && (e = i.call(this, t, e)), !z(e))return e
                    }), n[1] = e, P.apply(A, n)
                }
            }
        }), h(T, "Symbol"), h(Math, "Math", !0), h(r.JSON, "JSON", !0)
    }, {
        "./$": 48,
        "./$.an-object": 6,
        "./$.descriptors": 21,
        "./$.enum-keys": 23,
        "./$.export": 24,
        "./$.fails": 26,
        "./$.get-names": 30,
        "./$.global": 31,
        "./$.has": 32,
        "./$.is-array": 38,
        "./$.keyof": 49,
        "./$.library": 50,
        "./$.property-desc": 61,
        "./$.redefine": 63,
        "./$.set-to-string-tag": 68,
        "./$.shared": 69,
        "./$.to-iobject": 80,
        "./$.uid": 84,
        "./$.wks": 85
    }],
    172: [function (t, e, i) {
        "use strict";
        var n = t("./$"), r = t("./$.redefine"), o = t("./$.collection-weak"), a = t("./$.is-object"), s = t("./$.has"),
            l = o.frozenStore, c = o.WEAK, u = Object.isExtensible || a, h = {},
            d = t("./$.collection")("WeakMap", function (t) {
                return function () {
                    return t(this, arguments.length > 0 ? arguments[0] : void 0)
                }
            }, {
                get: function (t) {
                    if (a(t)) {
                        if (!u(t))return l(this).get(t);
                        if (s(t, c))return t[c][this._i]
                    }
                }, set: function (t, e) {
                    return o.def(this, t, e)
                }
            }, o, !0, !0);
        7 != (new d).set((Object.freeze || Object)(h), 7).get(h) && n.each.call(["delete", "has", "get", "set"], function (t) {
            var e = d.prototype, i = e[t];
            r(e, t, function (e, n) {
                if (a(e) && !u(e)) {
                    var r = l(this)[t](e, n);
                    return "set" == t ? this : r
                }
                return i.call(this, e, n)
            })
        })
    }, {
        "./$": 48,
        "./$.collection": 17,
        "./$.collection-weak": 16,
        "./$.has": 32,
        "./$.is-object": 40,
        "./$.redefine": 63
    }],
    173: [function (t, e, i) {
        "use strict";
        var n = t("./$.collection-weak");
        t("./$.collection")("WeakSet", function (t) {
            return function () {
                return t(this, arguments.length > 0 ? arguments[0] : void 0)
            }
        }, {
            add: function (t) {
                return n.def(this, t, !0)
            }
        }, n, !1, !0)
    }, {"./$.collection": 17, "./$.collection-weak": 16}],
    174: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.array-includes")(!0);
        n(n.P, "Array", {
            includes: function (t) {
                return r(this, t, arguments.length > 1 ? arguments[1] : void 0)
            }
        }), t("./$.add-to-unscopables")("includes")
    }, {"./$.add-to-unscopables": 5, "./$.array-includes": 9, "./$.export": 24}],
    175: [function (t, e, i) {
        var n = t("./$.export");
        n(n.P, "Map", {toJSON: t("./$.collection-to-json")("Map")})
    }, {"./$.collection-to-json": 15, "./$.export": 24}],
    176: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.object-to-array")(!0);
        n(n.S, "Object", {
            entries: function (t) {
                return r(t)
            }
        })
    }, {"./$.export": 24, "./$.object-to-array": 57}],
    177: [function (t, e, i) {
        var n = t("./$"), r = t("./$.export"), o = t("./$.own-keys"), a = t("./$.to-iobject"),
            s = t("./$.property-desc");
        r(r.S, "Object", {
            getOwnPropertyDescriptors: function (t) {
                for (var e, i, r = a(t), l = n.setDesc, c = n.getDesc, u = o(r), h = {}, d = 0; u.length > d;)i = c(r, e = u[d++]), e in h ? l(h, e, s(0, i)) : h[e] = i;
                return h
            }
        })
    }, {"./$": 48, "./$.export": 24, "./$.own-keys": 58, "./$.property-desc": 61, "./$.to-iobject": 80}],
    178: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.object-to-array")(!1);
        n(n.S, "Object", {
            values: function (t) {
                return r(t)
            }
        })
    }, {"./$.export": 24, "./$.object-to-array": 57}],
    179: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.replacer")(/[\\^$*+?.()|[\]{}]/g, "\\$&");
        n(n.S, "RegExp", {
            escape: function (t) {
                return r(t)
            }
        })
    }, {"./$.export": 24, "./$.replacer": 64}],
    180: [function (t, e, i) {
        var n = t("./$.export");
        n(n.P, "Set", {toJSON: t("./$.collection-to-json")("Set")})
    }, {"./$.collection-to-json": 15, "./$.export": 24}],
    181: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.string-at")(!0);
        n(n.P, "String", {
            at: function (t) {
                return r(this, t)
            }
        })
    }, {"./$.export": 24, "./$.string-at": 72}],
    182: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.string-pad");
        n(n.P, "String", {
            padLeft: function (t) {
                return r(this, t, arguments.length > 1 ? arguments[1] : void 0, !0)
            }
        })
    }, {"./$.export": 24, "./$.string-pad": 74}],
    183: [function (t, e, i) {
        "use strict";
        var n = t("./$.export"), r = t("./$.string-pad");
        n(n.P, "String", {
            padRight: function (t) {
                return r(this, t, arguments.length > 1 ? arguments[1] : void 0, !1)
            }
        })
    }, {"./$.export": 24, "./$.string-pad": 74}],
    184: [function (t, e, i) {
        "use strict";
        t("./$.string-trim")("trimLeft", function (t) {
            return function () {
                return t(this, 1)
            }
        })
    }, {"./$.string-trim": 76}],
    185: [function (t, e, i) {
        "use strict";
        t("./$.string-trim")("trimRight", function (t) {
            return function () {
                return t(this, 2)
            }
        })
    }, {"./$.string-trim": 76}],
    186: [function (t, e, i) {
        var n = t("./$"), r = t("./$.export"), o = t("./$.ctx"), a = t("./$.core").Array || Array, s = {},
            l = function (t, e) {
                n.each.call(t.split(","), function (t) {
                    void 0 == e && t in a ? s[t] = a[t] : t in [] && (s[t] = o(Function.call, [][t], e))
                })
            };
        l("pop,reverse,shift,keys,values,entries", 1), l("indexOf,every,some,forEach,map,filter,find,findIndex,includes", 3), l("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"), r(r.S, "Array", s)
    }, {"./$": 48, "./$.core": 18, "./$.ctx": 19, "./$.export": 24}],
    187: [function (t, e, i) {
        t("./es6.array.iterator");
        var n = t("./$.global"), r = t("./$.hide"), o = t("./$.iterators"), a = t("./$.wks")("iterator"),
            s = n.NodeList, l = n.HTMLCollection, c = s && s.prototype, u = l && l.prototype,
            h = o.NodeList = o.HTMLCollection = o.Array;
        c && !c[a] && r(c, a, h), u && !u[a] && r(u, a, h)
    }, {"./$.global": 31, "./$.hide": 33, "./$.iterators": 47, "./$.wks": 85, "./es6.array.iterator": 93}],
    188: [function (t, e, i) {
        var n = t("./$.export"), r = t("./$.task");
        n(n.G + n.B, {setImmediate: r.set, clearImmediate: r.clear})
    }, {"./$.export": 24, "./$.task": 77}],
    189: [function (t, e, i) {
        var n = t("./$.global"), r = t("./$.export"), o = t("./$.invoke"), a = t("./$.partial"), s = n.navigator,
            l = !!s && /MSIE .\./.test(s.userAgent), c = function (t) {
                return l ? function (e, i) {
                    return t(o(a, [].slice.call(arguments, 2), "function" == typeof e ? e : Function(e)), i)
                } : t
            };
        r(r.G + r.B + r.F * l, {setTimeout: c(n.setTimeout), setInterval: c(n.setInterval)})
    }, {"./$.export": 24, "./$.global": 31, "./$.invoke": 35, "./$.partial": 59}],
    190: [function (t, e, i) {
        t("./modules/es5"), t("./modules/es6.symbol"), t("./modules/es6.object.assign"), t("./modules/es6.object.is"), t("./modules/es6.object.set-prototype-of"), t("./modules/es6.object.to-string"), t("./modules/es6.object.freeze"), t("./modules/es6.object.seal"), t("./modules/es6.object.prevent-extensions"), t("./modules/es6.object.is-frozen"), t("./modules/es6.object.is-sealed"), t("./modules/es6.object.is-extensible"), t("./modules/es6.object.get-own-property-descriptor"), t("./modules/es6.object.get-prototype-of"), t("./modules/es6.object.keys"), t("./modules/es6.object.get-own-property-names"), t("./modules/es6.function.name"), t("./modules/es6.function.has-instance"), t("./modules/es6.number.constructor"), t("./modules/es6.number.epsilon"), t("./modules/es6.number.is-finite"), t("./modules/es6.number.is-integer"), t("./modules/es6.number.is-nan"), t("./modules/es6.number.is-safe-integer"), t("./modules/es6.number.max-safe-integer"), t("./modules/es6.number.min-safe-integer"), t("./modules/es6.number.parse-float"), t("./modules/es6.number.parse-int"), t("./modules/es6.math.acosh"), t("./modules/es6.math.asinh"), t("./modules/es6.math.atanh"), t("./modules/es6.math.cbrt"), t("./modules/es6.math.clz32"), t("./modules/es6.math.cosh"), t("./modules/es6.math.expm1"), t("./modules/es6.math.fround"), t("./modules/es6.math.hypot"), t("./modules/es6.math.imul"), t("./modules/es6.math.log10"), t("./modules/es6.math.log1p"), t("./modules/es6.math.log2"), t("./modules/es6.math.sign"), t("./modules/es6.math.sinh"), t("./modules/es6.math.tanh"), t("./modules/es6.math.trunc"), t("./modules/es6.string.from-code-point"), t("./modules/es6.string.raw"), t("./modules/es6.string.trim"), t("./modules/es6.string.iterator"), t("./modules/es6.string.code-point-at"), t("./modules/es6.string.ends-with"), t("./modules/es6.string.includes"), t("./modules/es6.string.repeat"), t("./modules/es6.string.starts-with"), t("./modules/es6.array.from"), t("./modules/es6.array.of"), t("./modules/es6.array.iterator"), t("./modules/es6.array.species"), t("./modules/es6.array.copy-within"), t("./modules/es6.array.fill"), t("./modules/es6.array.find"), t("./modules/es6.array.find-index"), t("./modules/es6.regexp.constructor"), t("./modules/es6.regexp.flags"), t("./modules/es6.regexp.match"), t("./modules/es6.regexp.replace"), t("./modules/es6.regexp.search"), t("./modules/es6.regexp.split"), t("./modules/es6.promise"), t("./modules/es6.map"), t("./modules/es6.set"), t("./modules/es6.weak-map"), t("./modules/es6.weak-set"), t("./modules/es6.reflect.apply"), t("./modules/es6.reflect.construct"), t("./modules/es6.reflect.define-property"), t("./modules/es6.reflect.delete-property"), t("./modules/es6.reflect.enumerate"), t("./modules/es6.reflect.get"), t("./modules/es6.reflect.get-own-property-descriptor"), t("./modules/es6.reflect.get-prototype-of"), t("./modules/es6.reflect.has"), t("./modules/es6.reflect.is-extensible"), t("./modules/es6.reflect.own-keys"), t("./modules/es6.reflect.prevent-extensions"), t("./modules/es6.reflect.set"), t("./modules/es6.reflect.set-prototype-of"), t("./modules/es7.array.includes"), t("./modules/es7.string.at"), t("./modules/es7.string.pad-left"), t("./modules/es7.string.pad-right"), t("./modules/es7.string.trim-left"), t("./modules/es7.string.trim-right"), t("./modules/es7.regexp.escape"), t("./modules/es7.object.get-own-property-descriptors"), t("./modules/es7.object.values"), t("./modules/es7.object.entries"), t("./modules/es7.map.to-json"), t("./modules/es7.set.to-json"), t("./modules/js.array.statics"), t("./modules/web.timers"),t("./modules/web.immediate"),t("./modules/web.dom.iterable"),e.exports = t("./modules/$.core")
    }, {
        "./modules/$.core": 18,
        "./modules/es5": 87,
        "./modules/es6.array.copy-within": 88,
        "./modules/es6.array.fill": 89,
        "./modules/es6.array.find": 91,
        "./modules/es6.array.find-index": 90,
        "./modules/es6.array.from": 92,
        "./modules/es6.array.iterator": 93,
        "./modules/es6.array.of": 94,
        "./modules/es6.array.species": 95,
        "./modules/es6.function.has-instance": 96,
        "./modules/es6.function.name": 97,
        "./modules/es6.map": 98,
        "./modules/es6.math.acosh": 99,
        "./modules/es6.math.asinh": 100,
        "./modules/es6.math.atanh": 101,
        "./modules/es6.math.cbrt": 102,
        "./modules/es6.math.clz32": 103,
        "./modules/es6.math.cosh": 104,
        "./modules/es6.math.expm1": 105,
        "./modules/es6.math.fround": 106,
        "./modules/es6.math.hypot": 107,
        "./modules/es6.math.imul": 108,
        "./modules/es6.math.log10": 109,
        "./modules/es6.math.log1p": 110,
        "./modules/es6.math.log2": 111,
        "./modules/es6.math.sign": 112,
        "./modules/es6.math.sinh": 113,
        "./modules/es6.math.tanh": 114,
        "./modules/es6.math.trunc": 115,
        "./modules/es6.number.constructor": 116,
        "./modules/es6.number.epsilon": 117,
        "./modules/es6.number.is-finite": 118,
        "./modules/es6.number.is-integer": 119,
        "./modules/es6.number.is-nan": 120,
        "./modules/es6.number.is-safe-integer": 121,
        "./modules/es6.number.max-safe-integer": 122,
        "./modules/es6.number.min-safe-integer": 123,
        "./modules/es6.number.parse-float": 124,
        "./modules/es6.number.parse-int": 125,
        "./modules/es6.object.assign": 126,
        "./modules/es6.object.freeze": 127,
        "./modules/es6.object.get-own-property-descriptor": 128,
        "./modules/es6.object.get-own-property-names": 129,
        "./modules/es6.object.get-prototype-of": 130,
        "./modules/es6.object.is": 134,
        "./modules/es6.object.is-extensible": 131,
        "./modules/es6.object.is-frozen": 132,
        "./modules/es6.object.is-sealed": 133,
        "./modules/es6.object.keys": 135,
        "./modules/es6.object.prevent-extensions": 136,
        "./modules/es6.object.seal": 137,
        "./modules/es6.object.set-prototype-of": 138,
        "./modules/es6.object.to-string": 139,
        "./modules/es6.promise": 140,
        "./modules/es6.reflect.apply": 141,
        "./modules/es6.reflect.construct": 142,
        "./modules/es6.reflect.define-property": 143,
        "./modules/es6.reflect.delete-property": 144,
        "./modules/es6.reflect.enumerate": 145,
        "./modules/es6.reflect.get": 148,
        "./modules/es6.reflect.get-own-property-descriptor": 146,
        "./modules/es6.reflect.get-prototype-of": 147,
        "./modules/es6.reflect.has": 149,
        "./modules/es6.reflect.is-extensible": 150,
        "./modules/es6.reflect.own-keys": 151,
        "./modules/es6.reflect.prevent-extensions": 152,
        "./modules/es6.reflect.set": 154,
        "./modules/es6.reflect.set-prototype-of": 153,
        "./modules/es6.regexp.constructor": 155,
        "./modules/es6.regexp.flags": 156,
        "./modules/es6.regexp.match": 157,
        "./modules/es6.regexp.replace": 158,
        "./modules/es6.regexp.search": 159,
        "./modules/es6.regexp.split": 160,
        "./modules/es6.set": 161,
        "./modules/es6.string.code-point-at": 162,
        "./modules/es6.string.ends-with": 163,
        "./modules/es6.string.from-code-point": 164,
        "./modules/es6.string.includes": 165,
        "./modules/es6.string.iterator": 166,
        "./modules/es6.string.raw": 167,
        "./modules/es6.string.repeat": 168,
        "./modules/es6.string.starts-with": 169,
        "./modules/es6.string.trim": 170,
        "./modules/es6.symbol": 171,
        "./modules/es6.weak-map": 172,
        "./modules/es6.weak-set": 173,
        "./modules/es7.array.includes": 174,
        "./modules/es7.map.to-json": 175,
        "./modules/es7.object.entries": 176,
        "./modules/es7.object.get-own-property-descriptors": 177,
        "./modules/es7.object.values": 178,
        "./modules/es7.regexp.escape": 179,
        "./modules/es7.set.to-json": 180,
        "./modules/es7.string.at": 181,
        "./modules/es7.string.pad-left": 182,
        "./modules/es7.string.pad-right": 183,
        "./modules/es7.string.trim-left": 184,
        "./modules/es7.string.trim-right": 185,
        "./modules/js.array.statics": 186,
        "./modules/web.dom.iterable": 187,
        "./modules/web.immediate": 188,
        "./modules/web.timers": 189
    }],
    191: [function (t, e, i) {
        "use strict";
        var n = t("es5-ext/object/assign"), r = t("es5-ext/object/normalize-options"),
            o = t("es5-ext/object/is-callable"), a = t("es5-ext/string/#/contains");
        (e.exports = function (t, e) {
            var i, o, s, l, c;
            return arguments.length < 2 || "string" != typeof t ? (l = e, e = t, t = null) : l = arguments[2], null == t ? (i = s = !0, o = !1) : (i = a.call(t, "c"), o = a.call(t, "e"), s = a.call(t, "w")), c = {
                value: e,
                configurable: i,
                enumerable: o,
                writable: s
            }, l ? n(r(l), c) : c
        }).gs = function (t, e, i) {
            var s, l, c, u;
            return "string" != typeof t ? (c = i, i = e, e = t, t = null) : c = arguments[3], null == e ? e = void 0 : o(e) ? null == i ? i = void 0 : o(i) || (c = i, i = void 0) : (c = e, e = i = void 0), null == t ? (s = !0, l = !1) : (s = a.call(t, "c"), l = a.call(t, "e")), u = {
                get: e,
                set: i,
                configurable: s,
                enumerable: l
            }, c ? n(r(c), u) : u
        }
    }, {
        "es5-ext/object/assign": 197,
        "es5-ext/object/is-callable": 200,
        "es5-ext/object/normalize-options": 204,
        "es5-ext/string/#/contains": 207
    }],
    192: [function (t, e, i) {
        e.exports = t("./vendor/dat.gui"), e.exports.color = t("./vendor/dat.color")
    }, {"./vendor/dat.color": 193, "./vendor/dat.gui": 194}],
    193: [function (t, e, i) {
        var n, r, o, a, s = e.exports = s || {};
        s.color = s.color || {}, s.utils = s.utils || {}, s.utils.common = (n = Array.prototype.forEach, r = Array.prototype.slice, {
            BREAK: {},
            extend: function (t) {
                return this.each(r.call(arguments, 1), function (e) {
                    for (var i in e)this.isUndefined(e[i]) || (t[i] = e[i])
                }, this), t
            },
            defaults: function (t) {
                return this.each(r.call(arguments, 1), function (e) {
                    for (var i in e)this.isUndefined(t[i]) && (t[i] = e[i])
                }, this), t
            },
            compose: function () {
                var t = r.call(arguments);
                return function () {
                    for (var e = r.call(arguments), i = t.length - 1; i >= 0; i--)e = [t[i].apply(this, e)];
                    return e[0]
                }
            },
            each: function (t, e, i) {
                if (n && t.forEach === n) t.forEach(e, i); else if (t.length === t.length + 0) {
                    for (var r = 0, o = t.length; r < o; r++)if (r in t && e.call(i, t[r], r) === this.BREAK)return
                } else for (var r in t)if (e.call(i, t[r], r) === this.BREAK)return
            },
            defer: function (t) {
                setTimeout(t, 0)
            },
            toArray: function (t) {
                return t.toArray ? t.toArray() : r.call(t)
            },
            isUndefined: function (t) {
                return void 0 === t
            },
            isNull: function (t) {
                return null === t
            },
            isNaN: function (t) {
                return t != t
            },
            isArray: Array.isArray || function (t) {
                return t.constructor === Array
            },
            isObject: function (t) {
                return t === Object(t)
            },
            isNumber: function (t) {
                return t === t + 0
            },
            isString: function (t) {
                return t === t + ""
            },
            isBoolean: function (t) {
                return !1 === t || !0 === t
            },
            isFunction: function (t) {
                return "[object Function]" === Object.prototype.toString.call(t)
            }
        }), s.color.toString = (o = s.utils.common, function (t) {
            if (1 == t.a || o.isUndefined(t.a)) {
                for (var e = t.hex.toString(16); e.length < 6;)e = "0" + e;
                return "#" + e
            }
            return "rgba(" + Math.round(t.r) + "," + Math.round(t.g) + "," + Math.round(t.b) + "," + t.a + ")"
        }), s.Color = s.color.Color = function (t, e, i, n) {
            var r = function () {
                if (this.__state = t.apply(this, arguments), !1 === this.__state)throw"Failed to interpret color arguments";
                this.__state.a = this.__state.a || 1
            };

            function o(t, e, i) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "RGB" === this.__state.space ? this.__state[e] : (s(this, e, i), this.__state[e])
                    }, set: function (t) {
                        "RGB" !== this.__state.space && (s(this, e, i), this.__state.space = "RGB"), this.__state[e] = t
                    }
                })
            }

            function a(t, e) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "HSV" === this.__state.space ? this.__state[e] : (l(this), this.__state[e])
                    }, set: function (t) {
                        "HSV" !== this.__state.space && (l(this), this.__state.space = "HSV"), this.__state[e] = t
                    }
                })
            }

            function s(t, i, r) {
                if ("HEX" === t.__state.space) t.__state[i] = e.component_from_hex(t.__state.hex, r); else {
                    if ("HSV" !== t.__state.space)throw"Corrupted color state";
                    n.extend(t.__state, e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v))
                }
            }

            function l(t) {
                var i = e.rgb_to_hsv(t.r, t.g, t.b);
                n.extend(t.__state, {
                    s: i.s,
                    v: i.v
                }), n.isNaN(i.h) ? n.isUndefined(t.__state.h) && (t.__state.h = 0) : t.__state.h = i.h
            }

            return r.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], n.extend(r.prototype, {
                toString: function () {
                    return i(this)
                }, toOriginal: function () {
                    return this.__state.conversion.write(this)
                }
            }), o(r.prototype, "r", 2), o(r.prototype, "g", 1), o(r.prototype, "b", 0), a(r.prototype, "h"), a(r.prototype, "s"), a(r.prototype, "v"), Object.defineProperty(r.prototype, "a", {
                get: function () {
                    return this.__state.a
                }, set: function (t) {
                    this.__state.a = t
                }
            }), Object.defineProperty(r.prototype, "hex", {
                get: function () {
                    return "HEX" !== !this.__state.space && (this.__state.hex = e.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex
                }, set: function (t) {
                    this.__state.space = "HEX", this.__state.hex = t
                }
            }), r
        }(s.color.interpret = function (t, e) {
            var i, n, r = [{
                litmus: e.isString, conversions: {
                    THREE_CHAR_HEX: {
                        read: function (t) {
                            var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                            return null !== e && {
                                    space: "HEX",
                                    hex: parseInt("0x" + e[1].toString() + e[1].toString() + e[2].toString() + e[2].toString() + e[3].toString() + e[3].toString())
                                }
                        }, write: t
                    }, SIX_CHAR_HEX: {
                        read: function (t) {
                            var e = t.match(/^#([A-F0-9]{6})$/i);
                            return null !== e && {space: "HEX", hex: parseInt("0x" + e[1].toString())}
                        }, write: t
                    }, CSS_RGB: {
                        read: function (t) {
                            var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                            return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3])
                                }
                        }, write: t
                    }, CSS_RGBA: {
                        read: function (t) {
                            var e = t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);
                            return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3]),
                                    a: parseFloat(e[4])
                                }
                        }, write: t
                    }
                }
            }, {
                litmus: e.isNumber, conversions: {
                    HEX: {
                        read: function (t) {
                            return {space: "HEX", hex: t, conversionName: "HEX"}
                        }, write: function (t) {
                            return t.hex
                        }
                    }
                }
            }, {
                litmus: e.isArray, conversions: {
                    RGB_ARRAY: {
                        read: function (t) {
                            return 3 == t.length && {space: "RGB", r: t[0], g: t[1], b: t[2]}
                        }, write: function (t) {
                            return [t.r, t.g, t.b]
                        }
                    }, RGBA_ARRAY: {
                        read: function (t) {
                            return 4 == t.length && {space: "RGB", r: t[0], g: t[1], b: t[2], a: t[3]}
                        }, write: function (t) {
                            return [t.r, t.g, t.b, t.a]
                        }
                    }
                }
            }, {
                litmus: e.isObject, conversions: {
                    RGBA_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b) && e.isNumber(t.a)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b,
                                    a: t.a
                                }
                        }, write: function (t) {
                            return {r: t.r, g: t.g, b: t.b, a: t.a}
                        }
                    }, RGB_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b
                                }
                        }, write: function (t) {
                            return {r: t.r, g: t.g, b: t.b}
                        }
                    }, HSVA_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v) && e.isNumber(t.a)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v,
                                    a: t.a
                                }
                        }, write: function (t) {
                            return {h: t.h, s: t.s, v: t.v, a: t.a}
                        }
                    }, HSV_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v
                                }
                        }, write: function (t) {
                            return {h: t.h, s: t.s, v: t.v}
                        }
                    }
                }
            }];
            return function () {
                n = !1;
                var t = arguments.length > 1 ? e.toArray(arguments) : arguments[0];
                return e.each(r, function (r) {
                    if (r.litmus(t))return e.each(r.conversions, function (r, o) {
                        if (i = r.read(t), !1 === n && !1 !== i)return n = i, i.conversionName = o, i.conversion = r, e.BREAK
                    }), e.BREAK
                }), n
            }
        }(s.color.toString, s.utils.common), s.color.math = {
            hsv_to_rgb: function (t, e, i) {
                var n = Math.floor(t / 60) % 6, r = t / 60 - Math.floor(t / 60), o = i * (1 - e), a = i * (1 - r * e),
                    s = i * (1 - (1 - r) * e),
                    l = [[i, s, o], [a, i, o], [o, i, s], [o, a, i], [s, o, i], [i, o, a]][n];
                return {r: 255 * l[0], g: 255 * l[1], b: 255 * l[2]}
            }, rgb_to_hsv: function (t, e, i) {
                var n, r = Math.min(t, e, i), o = Math.max(t, e, i), a = o - r;
                return 0 == o ? {
                    h: NaN,
                    s: 0,
                    v: 0
                } : (n = t == o ? (e - i) / a : e == o ? 2 + (i - t) / a : 4 + (t - e) / a, (n /= 6) < 0 && (n += 1), {
                    h: 360 * n,
                    s: a / o,
                    v: o / 255
                })
            }, rgb_to_hex: function (t, e, i) {
                var n = this.hex_with_component(0, 2, t);
                return n = this.hex_with_component(n, 1, e), n = this.hex_with_component(n, 0, i)
            }, component_from_hex: function (t, e) {
                return t >> 8 * e & 255
            }, hex_with_component: function (t, e, i) {
                return i << (a = 8 * e) | t & ~(255 << a)
            }
        }, s.color.toString, s.utils.common)
    }, {}],
    194: [function (t, e, i) {
        var n, r, o, a, s, l = e.exports = l || {};
        l.gui = l.gui || {}, l.utils = l.utils || {}, l.controllers = l.controllers || {}, l.dom = l.dom || {}, l.color = l.color || {}, l.utils.css = {
            load: function (t, e) {
                var i = (e = e || document).createElement("link");
                i.type = "text/css", i.rel = "stylesheet", i.href = t, e.getElementsByTagName("head")[0].appendChild(i)
            }, inject: function (t, e) {
                e = e || document;
                var i = document.createElement("style");
                i.type = "text/css", i.innerHTML = t, e.getElementsByTagName("head")[0].appendChild(i)
            }
        }, l.utils.common = (n = Array.prototype.forEach, r = Array.prototype.slice, {
            BREAK: {}, extend: function (t) {
                return this.each(r.call(arguments, 1), function (e) {
                    for (var i in e)this.isUndefined(e[i]) || (t[i] = e[i])
                }, this), t
            }, defaults: function (t) {
                return this.each(r.call(arguments, 1), function (e) {
                    for (var i in e)this.isUndefined(t[i]) && (t[i] = e[i])
                }, this), t
            }, compose: function () {
                var t = r.call(arguments);
                return function () {
                    for (var e = r.call(arguments), i = t.length - 1; i >= 0; i--)e = [t[i].apply(this, e)];
                    return e[0]
                }
            }, each: function (t, e, i) {
                if (n && t.forEach === n) t.forEach(e, i); else if (t.length === t.length + 0) {
                    for (var r = 0, o = t.length; r < o; r++)if (r in t && e.call(i, t[r], r) === this.BREAK)return
                } else for (var r in t)if (e.call(i, t[r], r) === this.BREAK)return
            }, defer: function (t) {
                setTimeout(t, 0)
            }, toArray: function (t) {
                return t.toArray ? t.toArray() : r.call(t)
            }, isUndefined: function (t) {
                return void 0 === t
            }, isNull: function (t) {
                return null === t
            }, isNaN: function (t) {
                return t != t
            }, isArray: Array.isArray || function (t) {
                return t.constructor === Array
            }, isObject: function (t) {
                return t === Object(t)
            }, isNumber: function (t) {
                return t === t + 0
            }, isString: function (t) {
                return t === t + ""
            }, isBoolean: function (t) {
                return !1 === t || !0 === t
            }, isFunction: function (t) {
                return "[object Function]" === Object.prototype.toString.call(t)
            }
        }), l.controllers.Controller = (o = function (t, e) {
            this.initialValue = t[e], this.domElement = document.createElement("div"), this.object = t, this.property = e, this.__onChange = void 0, this.__onFinishChange = void 0
        }, l.utils.common.extend(o.prototype, {
            onChange: function (t) {
                return this.__onChange = t, this
            }, onFinishChange: function (t) {
                return this.__onFinishChange = t, this
            }, setValue: function (t) {
                return this.object[this.property] = t, this.__onChange && this.__onChange.call(this, t), this.updateDisplay(), this
            }, getValue: function () {
                return this.object[this.property]
            }, updateDisplay: function () {
                return this
            }, isModified: function () {
                return this.initialValue !== this.getValue()
            }
        }), o), l.dom.dom = function (t) {
            var e = {};
            t.each({
                HTMLEvents: ["change"],
                MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"],
                KeyboardEvents: ["keydown"]
            }, function (i, n) {
                t.each(i, function (t) {
                    e[t] = n
                })
            });
            var i = /(\d+(\.\d+)?)px/;

            function n(e) {
                if ("0" === e || t.isUndefined(e))return 0;
                var n = e.match(i);
                return t.isNull(n) ? 0 : parseFloat(n[1])
            }

            var r = {
                makeSelectable: function (t, e) {
                    void 0 !== t && void 0 !== t.style && (t.onselectstart = e ? function () {
                        return !1
                    } : function () {
                    }, t.style.MozUserSelect = e ? "auto" : "none", t.style.KhtmlUserSelect = e ? "auto" : "none", t.unselectable = e ? "on" : "off")
                }, makeFullscreen: function (e, i, n) {
                    t.isUndefined(i) && (i = !0), t.isUndefined(n) && (n = !0), e.style.position = "absolute", i && (e.style.left = 0, e.style.right = 0), n && (e.style.top = 0, e.style.bottom = 0)
                }, fakeEvent: function (i, n, r, o) {
                    r = r || {};
                    var a = e[n];
                    if (!a)throw new Error("Event type " + n + " not supported.");
                    var s = document.createEvent(a);
                    switch (a) {
                        case"MouseEvents":
                            var l = r.x || r.clientX || 0, c = r.y || r.clientY || 0;
                            s.initMouseEvent(n, r.bubbles || !1, r.cancelable || !0, window, r.clickCount || 1, 0, 0, l, c, !1, !1, !1, !1, 0, null);
                            break;
                        case"KeyboardEvents":
                            var u = s.initKeyboardEvent || s.initKeyEvent;
                            t.defaults(r, {
                                cancelable: !0,
                                ctrlKey: !1,
                                altKey: !1,
                                shiftKey: !1,
                                metaKey: !1,
                                keyCode: void 0,
                                charCode: void 0
                            }), u(n, r.bubbles || !1, r.cancelable, window, r.ctrlKey, r.altKey, r.shiftKey, r.metaKey, r.keyCode, r.charCode);
                            break;
                        default:
                            s.initEvent(n, r.bubbles || !1, r.cancelable || !0)
                    }
                    t.defaults(s, o), i.dispatchEvent(s)
                }, bind: function (t, e, i, n) {
                    return n = n || !1, t.addEventListener ? t.addEventListener(e, i, n) : t.attachEvent && t.attachEvent("on" + e, i), r
                }, unbind: function (t, e, i, n) {
                    return n = n || !1, t.removeEventListener ? t.removeEventListener(e, i, n) : t.detachEvent && t.detachEvent("on" + e, i), r
                }, addClass: function (t, e) {
                    if (void 0 === t.className) t.className = e; else if (t.className !== e) {
                        var i = t.className.split(/ +/);
                        -1 == i.indexOf(e) && (i.push(e), t.className = i.join(" ").replace(/^\s+/, "").replace(/\s+$/, ""))
                    }
                    return r
                }, removeClass: function (t, e) {
                    if (e)if (void 0 === t.className); else if (t.className === e) t.removeAttribute("class"); else {
                        var i = t.className.split(/ +/), n = i.indexOf(e);
                        -1 != n && (i.splice(n, 1), t.className = i.join(" "))
                    } else t.className = void 0;
                    return r
                }, hasClass: function (t, e) {
                    return new RegExp("(?:^|\\s+)" + e + "(?:\\s+|$)").test(t.className) || !1
                }, getWidth: function (t) {
                    var e = getComputedStyle(t);
                    return n(e["border-left-width"]) + n(e["border-right-width"]) + n(e["padding-left"]) + n(e["padding-right"]) + n(e.width)
                }, getHeight: function (t) {
                    var e = getComputedStyle(t);
                    return n(e["border-top-width"]) + n(e["border-bottom-width"]) + n(e["padding-top"]) + n(e["padding-bottom"]) + n(e.height)
                }, getOffset: function (t) {
                    var e = {left: 0, top: 0};
                    if (t.offsetParent)do {
                        e.left += t.offsetLeft, e.top += t.offsetTop
                    } while (t = t.offsetParent);
                    return e
                }, isActive: function (t) {
                    return t === document.activeElement && (t.type || t.href)
                }
            };
            return r
        }(l.utils.common), l.controllers.OptionController = function (t, e, i) {
            var n = function (t, r, o) {
                n.superclass.call(this, t, r);
                var a = this;
                if (this.__select = document.createElement("select"), i.isArray(o)) {
                    var s = {};
                    i.each(o, function (t) {
                        s[t] = t
                    }), o = s
                }
                i.each(o, function (t, e) {
                    var i = document.createElement("option");
                    i.innerHTML = e, i.setAttribute("value", t), a.__select.appendChild(i)
                }), this.updateDisplay(), e.bind(this.__select, "change", function () {
                    var t = this.options[this.selectedIndex].value;
                    a.setValue(t)
                }), this.domElement.appendChild(this.__select)
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                setValue: function (t) {
                    var e = n.superclass.prototype.setValue.call(this, t);
                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), e
                }, updateDisplay: function () {
                    return this.__select.value = this.getValue(), n.superclass.prototype.updateDisplay.call(this)
                }
            }), n
        }(l.controllers.Controller, l.dom.dom, l.utils.common), l.controllers.NumberController = function (t, e) {
            var i = function (t, n, r) {
                var o;
                i.superclass.call(this, t, n), r = r || {}, this.__min = r.min, this.__max = r.max, this.__step = r.step, e.isUndefined(this.__step) ? 0 == this.initialValue ? this.__impliedStep = 1 : this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue) / Math.LN10)) / 10 : this.__impliedStep = this.__step, this.__precision = (o = (o = this.__impliedStep).toString()).indexOf(".") > -1 ? o.length - o.indexOf(".") - 1 : 0
            };
            return i.superclass = t, e.extend(i.prototype, t.prototype, {
                setValue: function (t) {
                    return void 0 !== this.__min && t < this.__min ? t = this.__min : void 0 !== this.__max && t > this.__max && (t = this.__max), void 0 !== this.__step && t % this.__step != 0 && (t = Math.round(t / this.__step) * this.__step), i.superclass.prototype.setValue.call(this, t)
                }, min: function (t) {
                    return this.__min = t, this
                }, max: function (t) {
                    return this.__max = t, this
                }, step: function (t) {
                    return this.__step = t, this
                }
            }), i
        }(l.controllers.Controller, l.utils.common), l.controllers.NumberControllerBox = function (t, e, i) {
            var n = function (t, r, o) {
                this.__truncationSuspended = !1, n.superclass.call(this, t, r, o);
                var a, s = this;

                function l() {
                    var t = parseFloat(s.__input.value);
                    i.isNaN(t) || s.setValue(t)
                }

                function c(t) {
                    var e = a - t.clientY;
                    s.setValue(s.getValue() + e * s.__impliedStep), a = t.clientY
                }

                function u() {
                    e.unbind(window, "mousemove", c), e.unbind(window, "mouseup", u)
                }

                this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), e.bind(this.__input, "change", l), e.bind(this.__input, "blur", function () {
                    l(), s.__onFinishChange && s.__onFinishChange.call(s, s.getValue())
                }), e.bind(this.__input, "mousedown", function (t) {
                    e.bind(window, "mousemove", c), e.bind(window, "mouseup", u), a = t.clientY
                }), e.bind(this.__input, "keydown", function (t) {
                    13 === t.keyCode && (s.__truncationSuspended = !0, this.blur(), s.__truncationSuspended = !1)
                }), this.updateDisplay(), this.domElement.appendChild(this.__input)
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                updateDisplay: function () {
                    var t, e, i;
                    return this.__input.value = this.__truncationSuspended ? this.getValue() : (t = this.getValue(), e = this.__precision, i = Math.pow(10, e), Math.round(t * i) / i), n.superclass.prototype.updateDisplay.call(this)
                }
            }), n
        }(l.controllers.NumberController, l.dom.dom, l.utils.common), l.controllers.NumberControllerSlider = function (t, e, i, n, r) {
            var o = function (t, i, n, r, a) {
                o.superclass.call(this, t, i, {min: n, max: r, step: a});
                var s = this;

                function l(t) {
                    t.preventDefault();
                    var i, n, r, o, a, l = e.getOffset(s.__background), c = e.getWidth(s.__background);
                    return s.setValue((i = t.clientX, n = l.left, r = l.left + c, o = s.__min, a = s.__max, o + (i - n) / (r - n) * (a - o))), !1
                }

                function c() {
                    e.unbind(window, "mousemove", l), e.unbind(window, "mouseup", c), s.__onFinishChange && s.__onFinishChange.call(s, s.getValue())
                }

                this.__background = document.createElement("div"), this.__foreground = document.createElement("div"), e.bind(this.__background, "mousedown", function (t) {
                    e.bind(window, "mousemove", l), e.bind(window, "mouseup", c), l(t)
                }), e.addClass(this.__background, "slider"), e.addClass(this.__foreground, "slider-fg"), this.updateDisplay(), this.__background.appendChild(this.__foreground), this.domElement.appendChild(this.__background)
            };
            return o.superclass = t, o.useDefaultStyles = function () {
                i.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")
            }, n.extend(o.prototype, t.prototype, {
                updateDisplay: function () {
                    var t = (this.getValue() - this.__min) / (this.__max - this.__min);
                    return this.__foreground.style.width = 100 * t + "%", o.superclass.prototype.updateDisplay.call(this)
                }
            }), o
        }(l.controllers.NumberController, l.dom.dom, l.utils.css, l.utils.common), l.controllers.FunctionController = function (t, e, i) {
            var n = function (t, i, r) {
                n.superclass.call(this, t, i);
                var o = this;
                this.__button = document.createElement("div"), this.__button.innerHTML = void 0 === r ? "Fire" : r, e.bind(this.__button, "click", function (t) {
                    return t.preventDefault(), o.fire(), !1
                }), e.addClass(this.__button, "button"), this.domElement.appendChild(this.__button)
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                fire: function () {
                    this.__onChange && this.__onChange.call(this), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.getValue().call(this.object)
                }
            }), n
        }(l.controllers.Controller, l.dom.dom, l.utils.common), l.controllers.BooleanController = function (t, e, i) {
            var n = function (t, i) {
                n.superclass.call(this, t, i);
                var r = this;
                this.__prev = this.getValue(), this.__checkbox = document.createElement("input"), this.__checkbox.setAttribute("type", "checkbox"), e.bind(this.__checkbox, "change", function () {
                    r.setValue(!r.__prev)
                }, !1), this.domElement.appendChild(this.__checkbox), this.updateDisplay()
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                setValue: function (t) {
                    var e = n.superclass.prototype.setValue.call(this, t);
                    return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), e
                }, updateDisplay: function () {
                    return !0 === this.getValue() ? (this.__checkbox.setAttribute("checked", "checked"), this.__checkbox.checked = !0) : this.__checkbox.checked = !1, n.superclass.prototype.updateDisplay.call(this)
                }
            }), n
        }(l.controllers.Controller, l.dom.dom, l.utils.common), l.color.toString = (a = l.utils.common, function (t) {
            if (1 == t.a || a.isUndefined(t.a)) {
                for (var e = t.hex.toString(16); e.length < 6;)e = "0" + e;
                return "#" + e
            }
            return "rgba(" + Math.round(t.r) + "," + Math.round(t.g) + "," + Math.round(t.b) + "," + t.a + ")"
        }), l.color.interpret = function (t, e) {
            var i, n, r = [{
                litmus: e.isString, conversions: {
                    THREE_CHAR_HEX: {
                        read: function (t) {
                            var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                            return null !== e && {
                                    space: "HEX",
                                    hex: parseInt("0x" + e[1].toString() + e[1].toString() + e[2].toString() + e[2].toString() + e[3].toString() + e[3].toString())
                                }
                        }, write: t
                    }, SIX_CHAR_HEX: {
                        read: function (t) {
                            var e = t.match(/^#([A-F0-9]{6})$/i);
                            return null !== e && {space: "HEX", hex: parseInt("0x" + e[1].toString())}
                        }, write: t
                    }, CSS_RGB: {
                        read: function (t) {
                            var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                            return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3])
                                }
                        }, write: t
                    }, CSS_RGBA: {
                        read: function (t) {
                            var e = t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);
                            return null !== e && {
                                    space: "RGB",
                                    r: parseFloat(e[1]),
                                    g: parseFloat(e[2]),
                                    b: parseFloat(e[3]),
                                    a: parseFloat(e[4])
                                }
                        }, write: t
                    }
                }
            }, {
                litmus: e.isNumber, conversions: {
                    HEX: {
                        read: function (t) {
                            return {space: "HEX", hex: t, conversionName: "HEX"}
                        }, write: function (t) {
                            return t.hex
                        }
                    }
                }
            }, {
                litmus: e.isArray, conversions: {
                    RGB_ARRAY: {
                        read: function (t) {
                            return 3 == t.length && {space: "RGB", r: t[0], g: t[1], b: t[2]}
                        }, write: function (t) {
                            return [t.r, t.g, t.b]
                        }
                    }, RGBA_ARRAY: {
                        read: function (t) {
                            return 4 == t.length && {space: "RGB", r: t[0], g: t[1], b: t[2], a: t[3]}
                        }, write: function (t) {
                            return [t.r, t.g, t.b, t.a]
                        }
                    }
                }
            }, {
                litmus: e.isObject, conversions: {
                    RGBA_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b) && e.isNumber(t.a)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b,
                                    a: t.a
                                }
                        }, write: function (t) {
                            return {r: t.r, g: t.g, b: t.b, a: t.a}
                        }
                    }, RGB_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b)) && {
                                    space: "RGB",
                                    r: t.r,
                                    g: t.g,
                                    b: t.b
                                }
                        }, write: function (t) {
                            return {r: t.r, g: t.g, b: t.b}
                        }
                    }, HSVA_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v) && e.isNumber(t.a)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v,
                                    a: t.a
                                }
                        }, write: function (t) {
                            return {h: t.h, s: t.s, v: t.v, a: t.a}
                        }
                    }, HSV_OBJ: {
                        read: function (t) {
                            return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v)) && {
                                    space: "HSV",
                                    h: t.h,
                                    s: t.s,
                                    v: t.v
                                }
                        }, write: function (t) {
                            return {h: t.h, s: t.s, v: t.v}
                        }
                    }
                }
            }];
            return function () {
                n = !1;
                var t = arguments.length > 1 ? e.toArray(arguments) : arguments[0];
                return e.each(r, function (r) {
                    if (r.litmus(t))return e.each(r.conversions, function (r, o) {
                        if (i = r.read(t), !1 === n && !1 !== i)return n = i, i.conversionName = o, i.conversion = r, e.BREAK
                    }), e.BREAK
                }), n
            }
        }(l.color.toString, l.utils.common), l.GUI = l.gui.GUI = function (t, e, i, n, r, o, a, s, l, c, u, h, d, p, f) {
            t.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");
            var m, g, v = "Default", y = function () {
                try {
                    return "localStorage" in window && null !== window.localStorage
                } catch (t) {
                    return !1
                }
            }(), _ = !0, x = !1, b = [], w = function (t) {
                var e = this;
                this.domElement = document.createElement("div"), this.__ul = document.createElement("ul"), this.domElement.appendChild(this.__ul), p.addClass(this.domElement, "dg"), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], t = t || {}, t = f.defaults(t, {
                    autoPlace: !0,
                    width: w.DEFAULT_WIDTH
                }), t = f.defaults(t, {
                    resizable: t.autoPlace,
                    hideable: t.autoPlace
                }), f.isUndefined(t.load) ? t.load = {preset: v} : t.preset && (t.load.preset = t.preset), f.isUndefined(t.parent) && t.hideable && b.push(this), t.resizable = f.isUndefined(t.parent) && t.resizable, t.autoPlace && f.isUndefined(t.scrollable) && (t.scrollable = !0);
                var i = y && "true" === localStorage.getItem(A(this, "isLocal"));
                if (Object.defineProperties(this, {
                        parent: {
                            get: function () {
                                return t.parent
                            }
                        }, scrollable: {
                            get: function () {
                                return t.scrollable
                            }
                        }, autoPlace: {
                            get: function () {
                                return t.autoPlace
                            }
                        }, preset: {
                            get: function () {
                                return e.parent ? e.getRoot().preset : t.load.preset
                            }, set: function (i) {
                                e.parent ? e.getRoot().preset = i : t.load.preset = i, function (t) {
                                    for (var e = 0; e < t.__preset_select.length; e++)t.__preset_select[e].value == t.preset && (t.__preset_select.selectedIndex = e)
                                }(this), e.revert()
                            }
                        }, width: {
                            get: function () {
                                return t.width
                            }, set: function (i) {
                                t.width = i, P(e, i)
                            }
                        }, name: {
                            get: function () {
                                return t.name
                            }, set: function (e) {
                                t.name = e, r && (r.innerHTML = t.name)
                            }
                        }, closed: {
                            get: function () {
                                return t.closed
                            }, set: function (i) {
                                t.closed = i, t.closed ? p.addClass(e.__ul, w.CLASS_CLOSED) : p.removeClass(e.__ul, w.CLASS_CLOSED), this.onResize(), e.__closeButton && (e.__closeButton.innerHTML = i ? w.TEXT_OPEN : w.TEXT_CLOSED)
                            }
                        }, load: {
                            get: function () {
                                return t.load
                            }
                        }, useLocalStorage: {
                            get: function () {
                                return i
                            }, set: function (t) {
                                y && (i = t, t ? p.bind(window, "unload", a) : p.unbind(window, "unload", a), localStorage.setItem(A(e, "isLocal"), t))
                            }
                        }
                    }), f.isUndefined(t.parent)) {
                    if (t.closed = !1, p.addClass(this.domElement, w.CLASS_MAIN), p.makeSelectable(this.domElement, !1), y && i) {
                        e.useLocalStorage = !0;
                        var n = localStorage.getItem(A(this, "gui"));
                        n && (t.load = JSON.parse(n))
                    }
                    this.__closeButton = document.createElement("div"), this.__closeButton.innerHTML = w.TEXT_CLOSED, p.addClass(this.__closeButton, w.CLASS_CLOSE_BUTTON), this.domElement.appendChild(this.__closeButton), p.bind(this.__closeButton, "click", function () {
                        e.closed = !e.closed
                    })
                } else {
                    void 0 === t.closed && (t.closed = !0);
                    var r = document.createTextNode(t.name);
                    p.addClass(r, "controller-name");
                    var o = M(e, r);
                    p.addClass(this.__ul, w.CLASS_CLOSED), p.addClass(o, "title"), p.bind(o, "click", function (t) {
                        return t.preventDefault(), e.closed = !e.closed, !1
                    }), t.closed || (this.closed = !1)
                }
                function a() {
                    localStorage.setItem(A(e, "gui"), JSON.stringify(e.getSaveObject()))
                }

                t.autoPlace && (f.isUndefined(t.parent) && (_ && (g = document.createElement("div"), p.addClass(g, "dg"), p.addClass(g, w.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(g), _ = !1), g.appendChild(this.domElement), p.addClass(this.domElement, w.CLASS_AUTO_PLACE)), this.parent || P(e, t.width)), p.bind(window, "resize", function () {
                    e.onResize()
                }), p.bind(this.__ul, "webkitTransitionEnd", function () {
                    e.onResize()
                }), p.bind(this.__ul, "transitionend", function () {
                    e.onResize()
                }), p.bind(this.__ul, "oTransitionEnd", function () {
                    e.onResize()
                }), this.onResize(), t.resizable && function (t) {
                    var e;

                    function i(i) {
                        return i.preventDefault(), e = i.clientX, p.addClass(t.__closeButton, w.CLASS_DRAG), p.bind(window, "mousemove", n), p.bind(window, "mouseup", r), !1
                    }

                    function n(i) {
                        return i.preventDefault(), t.width += e - i.clientX, t.onResize(), e = i.clientX, !1
                    }

                    function r() {
                        p.removeClass(t.__closeButton, w.CLASS_DRAG), p.unbind(window, "mousemove", n), p.unbind(window, "mouseup", r)
                    }

                    t.__resize_handle = document.createElement("div"), f.extend(t.__resize_handle.style, {
                        width: "6px",
                        marginLeft: "-3px",
                        height: "200px",
                        cursor: "ew-resize",
                        position: "absolute"
                    }), p.bind(t.__resize_handle, "mousedown", i), p.bind(t.__closeButton, "mousedown", i), t.domElement.insertBefore(t.__resize_handle, t.domElement.firstElementChild)
                }(this);
                e.getRoot();
                t.parent || function () {
                    var t = e.getRoot();
                    t.width += 1, f.defer(function () {
                        t.width -= 1
                    })
                }()
            };

            function S(t, e, i, c) {
                if (void 0 === e[i])throw new Error("Object " + e + ' has no property "' + i + '"');
                var h;
                if (c.color) h = new u(e, i); else {
                    var d = [e, i].concat(c.factoryArgs);
                    h = n.apply(t, d)
                }
                c.before instanceof r && (c.before = c.before.__li), T(t, h), p.addClass(h.domElement, "c");
                var m = document.createElement("span");
                p.addClass(m, "property-name"), m.innerHTML = h.property;
                var g = document.createElement("div");
                g.appendChild(m), g.appendChild(h.domElement);
                var v = M(t, g, c.before);
                return p.addClass(v, w.CLASS_CONTROLLER_ROW), p.addClass(v, typeof h.getValue()), function (t, e, i) {
                    if (i.__li = e, i.__gui = t, f.extend(i, {
                            options: function (e) {
                                return arguments.length > 1 ? (i.remove(), S(t, i.object, i.property, {
                                    before: i.__li.nextElementSibling,
                                    factoryArgs: [f.toArray(arguments)]
                                })) : f.isArray(e) || f.isObject(e) ? (i.remove(), S(t, i.object, i.property, {
                                    before: i.__li.nextElementSibling,
                                    factoryArgs: [e]
                                })) : void 0
                            }, name: function (t) {
                                return i.__li.firstElementChild.firstElementChild.innerHTML = t, i
                            }, listen: function () {
                                return i.__gui.listen(i), i
                            }, remove: function () {
                                return i.__gui.remove(i), i
                            }
                        }), i instanceof l) {
                        var n = new s(i.object, i.property, {min: i.__min, max: i.__max, step: i.__step});
                        f.each(["updateDisplay", "onChange", "onFinishChange"], function (t) {
                            var e = i[t], r = n[t];
                            i[t] = n[t] = function () {
                                var t = Array.prototype.slice.call(arguments);
                                return e.apply(i, t), r.apply(n, t)
                            }
                        }), p.addClass(e, "has-slider"), i.domElement.insertBefore(n.domElement, i.domElement.firstElementChild)
                    } else if (i instanceof s) {
                        var r = function (e) {
                            return f.isNumber(i.__min) && f.isNumber(i.__max) ? (i.remove(), S(t, i.object, i.property, {
                                before: i.__li.nextElementSibling,
                                factoryArgs: [i.__min, i.__max, i.__step]
                            })) : e
                        };
                        i.min = f.compose(r, i.min), i.max = f.compose(r, i.max)
                    } else i instanceof o ? (p.bind(e, "click", function () {
                        p.fakeEvent(i.__checkbox, "click")
                    }), p.bind(i.__checkbox, "click", function (t) {
                        t.stopPropagation()
                    })) : i instanceof a ? (p.bind(e, "click", function () {
                        p.fakeEvent(i.__button, "click")
                    }), p.bind(e, "mouseover", function () {
                        p.addClass(i.__button, "hover")
                    }), p.bind(e, "mouseout", function () {
                        p.removeClass(i.__button, "hover")
                    })) : i instanceof u && (p.addClass(e, "color"), i.updateDisplay = f.compose(function (t) {
                            return e.style.borderLeftColor = i.__color.toString(), t
                        }, i.updateDisplay), i.updateDisplay());
                    i.setValue = f.compose(function (e) {
                        return t.getRoot().__preset_select && i.isModified() && O(t.getRoot(), !0), e
                    }, i.setValue)
                }(t, v, h), t.__controllers.push(h), h
            }

            function M(t, e, i) {
                var n = document.createElement("li");
                return e && n.appendChild(e), i ? t.__ul.insertBefore(n, params.before) : t.__ul.appendChild(n), t.onResize(), n
            }

            function T(t, e) {
                var i = t.getRoot(), n = i.__rememberedObjects.indexOf(e.object);
                if (-1 != n) {
                    var r = i.__rememberedObjectIndecesToControllers[n];
                    if (void 0 === r && (r = {}, i.__rememberedObjectIndecesToControllers[n] = r), r[e.property] = e, i.load && i.load.remembered) {
                        var o, a = i.load.remembered;
                        if (a[t.preset]) o = a[t.preset]; else {
                            if (!a[v])return;
                            o = a[v]
                        }
                        if (o[n] && void 0 !== o[n][e.property]) {
                            var s = o[n][e.property];
                            e.initialValue = s, e.setValue(s)
                        }
                    }
                }
            }

            function A(t, e) {
                return document.location.href + "." + e
            }

            function P(t, e) {
                t.domElement.style.width = e + "px", t.__save_row && t.autoPlace && (t.__save_row.style.width = e + "px"), t.__closeButton && (t.__closeButton.style.width = e + "px")
            }

            function E(t, e) {
                var i = {};
                return f.each(t.__rememberedObjects, function (n, r) {
                    var o = {}, a = t.__rememberedObjectIndecesToControllers[r];
                    f.each(a, function (t, i) {
                        o[i] = e ? t.initialValue : t.getValue()
                    }), i[r] = o
                }), i
            }

            function C(t, e, i) {
                var n = document.createElement("option");
                n.innerHTML = e, n.value = e, t.__preset_select.appendChild(n), i && (t.__preset_select.selectedIndex = t.__preset_select.length - 1)
            }

            function O(t, e) {
                var i = t.__preset_select[t.__preset_select.selectedIndex];
                i.innerHTML = e ? i.value + "*" : i.value
            }

            return w.toggleHide = function () {
                x = !x, f.each(b, function (t) {
                    t.domElement.style.zIndex = x ? -999 : 999, t.domElement.style.opacity = x ? 0 : 1
                })
            }, w.CLASS_AUTO_PLACE = "a", w.CLASS_AUTO_PLACE_CONTAINER = "ac", w.CLASS_MAIN = "main", w.CLASS_CONTROLLER_ROW = "cr", w.CLASS_TOO_TALL = "taller-than-window", w.CLASS_CLOSED = "closed", w.CLASS_CLOSE_BUTTON = "close-button", w.CLASS_DRAG = "drag", w.DEFAULT_WIDTH = 245, w.TEXT_CLOSED = "Close Controls", w.TEXT_OPEN = "Open Controls", p.bind(window, "keydown", function (t) {
                "text" === document.activeElement.type || 72 !== t.which && 72 != t.keyCode || w.toggleHide()
            }, !1), f.extend(w.prototype, {
                add: function (t, e) {
                    return S(this, t, e, {factoryArgs: Array.prototype.slice.call(arguments, 2)})
                }, addColor: function (t, e) {
                    return S(this, t, e, {color: !0})
                }, remove: function (t) {
                    this.__ul.removeChild(t.__li), this.__controllers.slice(this.__controllers.indexOf(t), 1);
                    var e = this;
                    f.defer(function () {
                        e.onResize()
                    })
                }, destroy: function () {
                    this.autoPlace && g.removeChild(this.domElement)
                }, addFolder: function (t) {
                    if (void 0 !== this.__folders[t])throw new Error('You already have a folder in this GUI by the name "' + t + '"');
                    var e = {name: t, parent: this};
                    e.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[t] && (e.closed = this.load.folders[t].closed, e.load = this.load.folders[t]);
                    var i = new w(e);
                    this.__folders[t] = i;
                    var n = M(this, i.domElement);
                    return p.addClass(n, "folder"), i
                }, open: function () {
                    this.closed = !1
                }, close: function () {
                    this.closed = !0
                }, onResize: function () {
                    var t = this.getRoot();
                    if (t.scrollable) {
                        var e = p.getOffset(t.__ul).top, i = 0;
                        f.each(t.__ul.childNodes, function (e) {
                            t.autoPlace && e === t.__save_row || (i += p.getHeight(e))
                        }), window.innerHeight - e - 20 < i ? (p.addClass(t.domElement, w.CLASS_TOO_TALL), t.__ul.style.height = window.innerHeight - e - 20 + "px") : (p.removeClass(t.domElement, w.CLASS_TOO_TALL), t.__ul.style.height = "auto")
                    }
                    t.__resize_handle && f.defer(function () {
                        t.__resize_handle.style.height = t.__ul.offsetHeight + "px"
                    }), t.__closeButton && (t.__closeButton.style.width = t.width + "px")
                }, remember: function () {
                    if (f.isUndefined(m) && ((m = new d).domElement.innerHTML = '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'), this.parent)throw new Error("You can only call remember on a top level GUI.");
                    var t = this;
                    f.each(Array.prototype.slice.call(arguments), function (e) {
                        0 == t.__rememberedObjects.length && function (t) {
                            var e = t.__save_row = document.createElement("li");
                            p.addClass(t.domElement, "has-save"), t.__ul.insertBefore(e, t.__ul.firstChild), p.addClass(e, "save-row");
                            var i = document.createElement("span");
                            i.innerHTML = "&nbsp;", p.addClass(i, "button gears");
                            var n = document.createElement("span");
                            n.innerHTML = "Save", p.addClass(n, "button"), p.addClass(n, "save");
                            var r = document.createElement("span");
                            r.innerHTML = "New", p.addClass(r, "button"), p.addClass(r, "save-as");
                            var o = document.createElement("span");
                            o.innerHTML = "Revert", p.addClass(o, "button"), p.addClass(o, "revert");
                            var a = t.__preset_select = document.createElement("select");
                            t.load && t.load.remembered ? f.each(t.load.remembered, function (e, i) {
                                C(t, i, i == t.preset)
                            }) : C(t, v, !1);
                            if (p.bind(a, "change", function () {
                                    for (var e = 0; e < t.__preset_select.length; e++)t.__preset_select[e].innerHTML = t.__preset_select[e].value;
                                    t.preset = this.value
                                }), e.appendChild(a), e.appendChild(i), e.appendChild(n), e.appendChild(r), e.appendChild(o), y) {
                                var s = document.getElementById("dg-save-locally"),
                                    l = document.getElementById("dg-local-explain");
                                s.style.display = "block";
                                var c = document.getElementById("dg-local-storage");

                                function u() {
                                    l.style.display = t.useLocalStorage ? "block" : "none"
                                }

                                "true" === localStorage.getItem(A(t, "isLocal")) && c.setAttribute("checked", "checked"), u(), p.bind(c, "change", function () {
                                    t.useLocalStorage = !t.useLocalStorage, u()
                                })
                            }
                            var h = document.getElementById("dg-new-constructor");
                            p.bind(h, "keydown", function (t) {
                                !t.metaKey || 67 !== t.which && 67 != t.keyCode || m.hide()
                            }), p.bind(i, "click", function () {
                                h.innerHTML = JSON.stringify(t.getSaveObject(), void 0, 2), m.show(), h.focus(), h.select()
                            }), p.bind(n, "click", function () {
                                t.save()
                            }), p.bind(r, "click", function () {
                                var e = prompt("Enter a new preset name.");
                                e && t.saveAs(e)
                            }), p.bind(o, "click", function () {
                                t.revert()
                            })
                        }(t), -1 == t.__rememberedObjects.indexOf(e) && t.__rememberedObjects.push(e)
                    }), this.autoPlace && P(this, this.width)
                }, getRoot: function () {
                    for (var t = this; t.parent;)t = t.parent;
                    return t
                }, getSaveObject: function () {
                    var t = this.load;
                    return t.closed = this.closed, this.__rememberedObjects.length > 0 && (t.preset = this.preset, t.remembered || (t.remembered = {}), t.remembered[this.preset] = E(this)), t.folders = {}, f.each(this.__folders, function (e, i) {
                        t.folders[i] = e.getSaveObject()
                    }), t
                }, save: function () {
                    this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = E(this), O(this, !1)
                }, saveAs: function (t) {
                    this.load.remembered || (this.load.remembered = {}, this.load.remembered[v] = E(this, !0)), this.load.remembered[t] = E(this), this.preset = t, C(this, t, !0)
                }, revert: function (t) {
                    f.each(this.__controllers, function (e) {
                        this.getRoot().load.remembered ? T(t || this.getRoot(), e) : e.setValue(e.initialValue)
                    }, this), f.each(this.__folders, function (t) {
                        t.revert(t)
                    }), t || O(this.getRoot(), !1)
                }, listen: function (t) {
                    var e = 0 == this.__listening.length;
                    this.__listening.push(t), e && function t(e) {
                        0 != e.length && h(function () {
                            t(e)
                        });
                        f.each(e, function (t) {
                            t.updateDisplay()
                        })
                    }(this.__listening)
                }
            }), w
        }(l.utils.css, 0, 0, l.controllers.factory = function (t, e, i, n, r, o, a) {
            return function (s, l) {
                var c = s[l];
                return a.isArray(arguments[2]) || a.isObject(arguments[2]) ? new t(s, l, arguments[2]) : a.isNumber(c) ? a.isNumber(arguments[2]) && a.isNumber(arguments[3]) ? new i(s, l, arguments[2], arguments[3]) : new e(s, l, {
                    min: arguments[2],
                    max: arguments[3]
                }) : a.isString(c) ? new n(s, l) : a.isFunction(c) ? new r(s, l, "") : a.isBoolean(c) ? new o(s, l) : void 0
            }
        }(l.controllers.OptionController, l.controllers.NumberControllerBox, l.controllers.NumberControllerSlider, l.controllers.StringController = function (t, e, i) {
            var n = function (t, i) {
                n.superclass.call(this, t, i);
                var r = this;

                function o() {
                    r.setValue(r.__input.value)
                }

                this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), e.bind(this.__input, "keyup", o), e.bind(this.__input, "change", o), e.bind(this.__input, "blur", function () {
                    r.__onFinishChange && r.__onFinishChange.call(r, r.getValue())
                }), e.bind(this.__input, "keydown", function (t) {
                    13 === t.keyCode && this.blur()
                }), this.updateDisplay(), this.domElement.appendChild(this.__input)
            };
            return n.superclass = t, i.extend(n.prototype, t.prototype, {
                updateDisplay: function () {
                    return e.isActive(this.__input) || (this.__input.value = this.getValue()), n.superclass.prototype.updateDisplay.call(this)
                }
            }), n
        }(l.controllers.Controller, l.dom.dom, l.utils.common), l.controllers.FunctionController, l.controllers.BooleanController, l.utils.common), l.controllers.Controller, l.controllers.BooleanController, l.controllers.FunctionController, l.controllers.NumberControllerBox, l.controllers.NumberControllerSlider, l.controllers.OptionController, l.controllers.ColorController = function (t, e, i, n, r) {
            var o = function (t, a) {
                o.superclass.call(this, t, a), this.__color = new i(this.getValue()), this.__temp = new i(0);
                var l = this;
                this.domElement = document.createElement("div"), e.makeSelectable(this.domElement, !1), this.__selector = document.createElement("div"), this.__selector.className = "selector", this.__saturation_field = document.createElement("div"), this.__saturation_field.className = "saturation-field", this.__field_knob = document.createElement("div"), this.__field_knob.className = "field-knob", this.__field_knob_border = "2px solid ", this.__hue_knob = document.createElement("div"), this.__hue_knob.className = "hue-knob", this.__hue_field = document.createElement("div"), this.__hue_field.className = "hue-field", this.__input = document.createElement("input"), this.__input.type = "text", this.__input_textShadow = "0 1px 1px ", e.bind(this.__input, "keydown", function (t) {
                    13 === t.keyCode && p.call(this)
                }), e.bind(this.__input, "blur", p), e.bind(this.__selector, "mousedown", function (t) {
                    e.addClass(this, "drag").bind(window, "mouseup", function (t) {
                        e.removeClass(l.__selector, "drag")
                    })
                });
                var c, u = document.createElement("div");

                function h(t) {
                    m(t), e.bind(window, "mousemove", m), e.bind(window, "mouseup", d)
                }

                function d() {
                    e.unbind(window, "mousemove", m), e.unbind(window, "mouseup", d)
                }

                function p() {
                    var t = n(this.value);
                    !1 !== t ? (l.__color.__state = t, l.setValue(l.__color.toOriginal())) : this.value = l.__color.toString()
                }

                function f() {
                    e.unbind(window, "mousemove", g), e.unbind(window, "mouseup", f)
                }

                function m(t) {
                    t.preventDefault();
                    var i = e.getWidth(l.__saturation_field), n = e.getOffset(l.__saturation_field),
                        r = (t.clientX - n.left + document.body.scrollLeft) / i,
                        o = 1 - (t.clientY - n.top + document.body.scrollTop) / i;
                    return o > 1 ? o = 1 : o < 0 && (o = 0), r > 1 ? r = 1 : r < 0 && (r = 0), l.__color.v = o, l.__color.s = r, l.setValue(l.__color.toOriginal()), !1
                }

                function g(t) {
                    t.preventDefault();
                    var i = e.getHeight(l.__hue_field), n = e.getOffset(l.__hue_field),
                        r = 1 - (t.clientY - n.top + document.body.scrollTop) / i;
                    return r > 1 ? r = 1 : r < 0 && (r = 0), l.__color.h = 360 * r, l.setValue(l.__color.toOriginal()), !1
                }

                r.extend(this.__selector.style, {
                    width: "122px",
                    height: "102px",
                    padding: "3px",
                    backgroundColor: "#222",
                    boxShadow: "0px 1px 3px rgba(0,0,0,0.3)"
                }), r.extend(this.__field_knob.style, {
                    position: "absolute",
                    width: "12px",
                    height: "12px",
                    border: this.__field_knob_border + (this.__color.v < .5 ? "#fff" : "#000"),
                    boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
                    borderRadius: "12px",
                    zIndex: 1
                }), r.extend(this.__hue_knob.style, {
                    position: "absolute",
                    width: "15px",
                    height: "2px",
                    borderRight: "4px solid #fff",
                    zIndex: 1
                }), r.extend(this.__saturation_field.style, {
                    width: "100px",
                    height: "100px",
                    border: "1px solid #555",
                    marginRight: "3px",
                    display: "inline-block",
                    cursor: "pointer"
                }), r.extend(u.style, {
                    width: "100%",
                    height: "100%",
                    background: "none"
                }), s(u, "top", "rgba(0,0,0,0)", "#000"), r.extend(this.__hue_field.style, {
                    width: "15px",
                    height: "100px",
                    display: "inline-block",
                    border: "1px solid #555",
                    cursor: "ns-resize"
                }), (c = this.__hue_field).style.background = "", c.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);", c.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", c.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", c.style.cssText += "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", c.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", r.extend(this.__input.style, {
                    outline: "none",
                    textAlign: "center",
                    color: "#fff",
                    border: 0,
                    fontWeight: "bold",
                    textShadow: this.__input_textShadow + "rgba(0,0,0,0.7)"
                }), e.bind(this.__saturation_field, "mousedown", h), e.bind(this.__field_knob, "mousedown", h), e.bind(this.__hue_field, "mousedown", function (t) {
                    g(t), e.bind(window, "mousemove", g), e.bind(window, "mouseup", f)
                }), this.__saturation_field.appendChild(u), this.__selector.appendChild(this.__field_knob), this.__selector.appendChild(this.__saturation_field), this.__selector.appendChild(this.__hue_field), this.__hue_field.appendChild(this.__hue_knob), this.domElement.appendChild(this.__input), this.domElement.appendChild(this.__selector), this.updateDisplay()
            };
            o.superclass = t, r.extend(o.prototype, t.prototype, {
                updateDisplay: function () {
                    var t = n(this.getValue());
                    if (!1 !== t) {
                        var e = !1;
                        r.each(i.COMPONENTS, function (i) {
                            if (!r.isUndefined(t[i]) && !r.isUndefined(this.__color.__state[i]) && t[i] !== this.__color.__state[i])return e = !0, {}
                        }, this), e && r.extend(this.__color.__state, t)
                    }
                    r.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1;
                    var o = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0, a = 255 - o;
                    r.extend(this.__field_knob.style, {
                        marginLeft: 100 * this.__color.s - 7 + "px",
                        marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                        backgroundColor: this.__temp.toString(),
                        border: this.__field_knob_border + "rgb(" + o + "," + o + "," + o + ")"
                    }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + "px", this.__temp.s = 1, this.__temp.v = 1, s(this.__saturation_field, "left", "#fff", this.__temp.toString()), r.extend(this.__input.style, {
                        backgroundColor: this.__input.value = this.__color.toString(),
                        color: "rgb(" + o + "," + o + "," + o + ")",
                        textShadow: this.__input_textShadow + "rgba(" + a + "," + a + "," + a + ",.7)"
                    })
                }
            });
            var a = ["-moz-", "-o-", "-webkit-", "-ms-", ""];

            function s(t, e, i, n) {
                t.style.background = "", r.each(a, function (r) {
                    t.style.cssText += "background: " + r + "linear-gradient(" + e + ", " + i + " 0%, " + n + " 100%); "
                })
            }

            return o
        }(l.controllers.Controller, l.dom.dom, l.color.Color = function (t, e, i, n) {
            var r = function () {
                if (this.__state = t.apply(this, arguments), !1 === this.__state)throw"Failed to interpret color arguments";
                this.__state.a = this.__state.a || 1
            };

            function o(t, e, i) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "RGB" === this.__state.space ? this.__state[e] : (s(this, e, i), this.__state[e])
                    }, set: function (t) {
                        "RGB" !== this.__state.space && (s(this, e, i), this.__state.space = "RGB"), this.__state[e] = t
                    }
                })
            }

            function a(t, e) {
                Object.defineProperty(t, e, {
                    get: function () {
                        return "HSV" === this.__state.space ? this.__state[e] : (l(this), this.__state[e])
                    }, set: function (t) {
                        "HSV" !== this.__state.space && (l(this), this.__state.space = "HSV"), this.__state[e] = t
                    }
                })
            }

            function s(t, i, r) {
                if ("HEX" === t.__state.space) t.__state[i] = e.component_from_hex(t.__state.hex, r); else {
                    if ("HSV" !== t.__state.space)throw"Corrupted color state";
                    n.extend(t.__state, e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v))
                }
            }

            function l(t) {
                var i = e.rgb_to_hsv(t.r, t.g, t.b);
                n.extend(t.__state, {
                    s: i.s,
                    v: i.v
                }), n.isNaN(i.h) ? n.isUndefined(t.__state.h) && (t.__state.h = 0) : t.__state.h = i.h
            }

            return r.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], n.extend(r.prototype, {
                toString: function () {
                    return i(this)
                }, toOriginal: function () {
                    return this.__state.conversion.write(this)
                }
            }), o(r.prototype, "r", 2), o(r.prototype, "g", 1), o(r.prototype, "b", 0), a(r.prototype, "h"), a(r.prototype, "s"), a(r.prototype, "v"), Object.defineProperty(r.prototype, "a", {
                get: function () {
                    return this.__state.a
                }, set: function (t) {
                    this.__state.a = t
                }
            }), Object.defineProperty(r.prototype, "hex", {
                get: function () {
                    return "HEX" !== !this.__state.space && (this.__state.hex = e.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex
                }, set: function (t) {
                    this.__state.space = "HEX", this.__state.hex = t
                }
            }), r
        }(l.color.interpret, l.color.math = {
            hsv_to_rgb: function (t, e, i) {
                var n = Math.floor(t / 60) % 6, r = t / 60 - Math.floor(t / 60), o = i * (1 - e), a = i * (1 - r * e),
                    s = i * (1 - (1 - r) * e),
                    l = [[i, s, o], [a, i, o], [o, i, s], [o, a, i], [s, o, i], [i, o, a]][n];
                return {r: 255 * l[0], g: 255 * l[1], b: 255 * l[2]}
            }, rgb_to_hsv: function (t, e, i) {
                var n, r = Math.min(t, e, i), o = Math.max(t, e, i), a = o - r;
                return 0 == o ? {
                    h: NaN,
                    s: 0,
                    v: 0
                } : (n = t == o ? (e - i) / a : e == o ? 2 + (i - t) / a : 4 + (t - e) / a, (n /= 6) < 0 && (n += 1), {
                    h: 360 * n,
                    s: a / o,
                    v: o / 255
                })
            }, rgb_to_hex: function (t, e, i) {
                var n = this.hex_with_component(0, 2, t);
                return n = this.hex_with_component(n, 1, e), n = this.hex_with_component(n, 0, i)
            }, component_from_hex: function (t, e) {
                return t >> 8 * e & 255
            }, hex_with_component: function (t, e, i) {
                return i << (s = 8 * e) | t & ~(255 << s)
            }
        }, l.color.toString, l.utils.common), l.color.interpret, l.utils.common), l.utils.requestAnimationFrame = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t, e) {
                window.setTimeout(t, 1e3 / 60)
            }, l.dom.CenteredDiv = function (t, e) {
            var i = function () {
                this.backgroundElement = document.createElement("div"), e.extend(this.backgroundElement.style, {
                    backgroundColor: "rgba(0,0,0,0.8)",
                    top: 0,
                    left: 0,
                    display: "none",
                    zIndex: "1000",
                    opacity: 0,
                    WebkitTransition: "opacity 0.2s linear"
                }), t.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = "fixed", this.domElement = document.createElement("div"), e.extend(this.domElement.style, {
                    position: "fixed",
                    display: "none",
                    zIndex: "1001",
                    opacity: 0,
                    WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear"
                }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement);
                var i = this;
                t.bind(this.backgroundElement, "click", function () {
                    i.hide()
                })
            };
            return i.prototype.show = function () {
                var t = this;
                this.backgroundElement.style.display = "block", this.domElement.style.display = "block", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)", this.layout(), e.defer(function () {
                    t.backgroundElement.style.opacity = 1, t.domElement.style.opacity = 1, t.domElement.style.webkitTransform = "scale(1)"
                })
            }, i.prototype.hide = function () {
                var e = this, i = function () {
                    e.domElement.style.display = "none", e.backgroundElement.style.display = "none", t.unbind(e.domElement, "webkitTransitionEnd", i), t.unbind(e.domElement, "transitionend", i), t.unbind(e.domElement, "oTransitionEnd", i)
                };
                t.bind(this.domElement, "webkitTransitionEnd", i), t.bind(this.domElement, "transitionend", i), t.bind(this.domElement, "oTransitionEnd", i), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)"
            }, i.prototype.layout = function () {
                this.domElement.style.left = window.innerWidth / 2 - t.getWidth(this.domElement) / 2 + "px", this.domElement.style.top = window.innerHeight / 2 - t.getHeight(this.domElement) / 2 + "px"
            }, i
        }(l.dom.dom, l.utils.common), l.dom.dom, l.utils.common)
    }, {}],
    195: [function (t, e, i) {
        var n, r;
        n = this, r = function () {
            return function (t) {
                var e = {};

                function i(n) {
                    if (e[n])return e[n].exports;
                    var r = e[n] = {exports: {}, id: n, loaded: !1};
                    return t[n].call(r.exports, r, r.exports, i), r.loaded = !0, r.exports
                }

                return i.m = t, i.c = e, i.p = "", i(0)
            }([function (t, e, i) {
                "use strict";
                var n, r = i(1), o = (n = r) && n.__esModule ? n : {default: n};
                t.exports = o.default
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = v(i(2)), r = v(i(6)), o = v(i(3)), a = v(i(7)), s = v(i(8)), l = v(i(10)), c = v(i(11)),
                    u = v(i(12)), h = v(i(13)), d = v(i(14)), p = v(i(15)), f = v(i(16)), m = v(i(9)), g = v(i(17));

                function v(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                e.default = {
                    color: {Color: n.default, math: r.default, interpret: o.default},
                    controllers: {
                        Controller: a.default,
                        BooleanController: s.default,
                        OptionController: l.default,
                        StringController: c.default,
                        NumberController: u.default,
                        NumberControllerBox: h.default,
                        NumberControllerSlider: d.default,
                        FunctionController: p.default,
                        ColorController: f.default
                    },
                    dom: {dom: m.default},
                    gui: {GUI: g.default},
                    GUI: g.default
                }
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = s(i(3)), r = s(i(6)), o = s(i(4)), a = s(i(5));

                function s(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var l = function () {
                    function t() {
                        if (function (t, e) {
                                if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                            }(this, t), this.__state = n.default.apply(this, arguments), !1 === this.__state)throw new Error("Failed to interpret color arguments");
                        this.__state.a = this.__state.a || 1
                    }

                    return t.prototype.toString = function () {
                        return (0, o.default)(this)
                    }, t.prototype.toHexString = function () {
                        return (0, o.default)(this, !0)
                    }, t.prototype.toOriginal = function () {
                        return this.__state.conversion.write(this)
                    }, t
                }();

                function c(t, e, i) {
                    Object.defineProperty(t, e, {
                        get: function () {
                            return "RGB" === this.__state.space ? this.__state[e] : (l.recalculateRGB(this, e, i), this.__state[e])
                        }, set: function (t) {
                            "RGB" !== this.__state.space && (l.recalculateRGB(this, e, i), this.__state.space = "RGB"), this.__state[e] = t
                        }
                    })
                }

                function u(t, e) {
                    Object.defineProperty(t, e, {
                        get: function () {
                            return "HSV" === this.__state.space ? this.__state[e] : (l.recalculateHSV(this), this.__state[e])
                        }, set: function (t) {
                            "HSV" !== this.__state.space && (l.recalculateHSV(this), this.__state.space = "HSV"), this.__state[e] = t
                        }
                    })
                }

                l.recalculateRGB = function (t, e, i) {
                    if ("HEX" === t.__state.space) t.__state[e] = r.default.component_from_hex(t.__state.hex, i); else {
                        if ("HSV" !== t.__state.space)throw new Error("Corrupted color state");
                        a.default.extend(t.__state, r.default.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v))
                    }
                }, l.recalculateHSV = function (t) {
                    var e = r.default.rgb_to_hsv(t.r, t.g, t.b);
                    a.default.extend(t.__state, {
                        s: e.s,
                        v: e.v
                    }), a.default.isNaN(e.h) ? a.default.isUndefined(t.__state.h) && (t.__state.h = 0) : t.__state.h = e.h
                }, l.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], c(l.prototype, "r", 2), c(l.prototype, "g", 1), c(l.prototype, "b", 0), u(l.prototype, "h"), u(l.prototype, "s"), u(l.prototype, "v"), Object.defineProperty(l.prototype, "a", {
                    get: function () {
                        return this.__state.a
                    }, set: function (t) {
                        this.__state.a = t
                    }
                }), Object.defineProperty(l.prototype, "hex", {
                    get: function () {
                        return "HEX" !== !this.__state.space && (this.__state.hex = r.default.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex
                    }, set: function (t) {
                        this.__state.space = "HEX", this.__state.hex = t
                    }
                }), e.default = l
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = o(i(4)), r = o(i(5));

                function o(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var a = [{
                    litmus: r.default.isString, conversions: {
                        THREE_CHAR_HEX: {
                            read: function (t) {
                                var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                                return null !== e && {
                                        space: "HEX",
                                        hex: parseInt("0x" + e[1].toString() + e[1].toString() + e[2].toString() + e[2].toString() + e[3].toString() + e[3].toString(), 0)
                                    }
                            }, write: n.default
                        }, SIX_CHAR_HEX: {
                            read: function (t) {
                                var e = t.match(/^#([A-F0-9]{6})$/i);
                                return null !== e && {space: "HEX", hex: parseInt("0x" + e[1].toString(), 0)}
                            }, write: n.default
                        }, CSS_RGB: {
                            read: function (t) {
                                var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                                return null !== e && {
                                        space: "RGB",
                                        r: parseFloat(e[1]),
                                        g: parseFloat(e[2]),
                                        b: parseFloat(e[3])
                                    }
                            }, write: n.default
                        }, CSS_RGBA: {
                            read: function (t) {
                                var e = t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                                return null !== e && {
                                        space: "RGB",
                                        r: parseFloat(e[1]),
                                        g: parseFloat(e[2]),
                                        b: parseFloat(e[3]),
                                        a: parseFloat(e[4])
                                    }
                            }, write: n.default
                        }
                    }
                }, {
                    litmus: r.default.isNumber, conversions: {
                        HEX: {
                            read: function (t) {
                                return {space: "HEX", hex: t, conversionName: "HEX"}
                            }, write: function (t) {
                                return t.hex
                            }
                        }
                    }
                }, {
                    litmus: r.default.isArray, conversions: {
                        RGB_ARRAY: {
                            read: function (t) {
                                return 3 === t.length && {space: "RGB", r: t[0], g: t[1], b: t[2]}
                            }, write: function (t) {
                                return [t.r, t.g, t.b]
                            }
                        }, RGBA_ARRAY: {
                            read: function (t) {
                                return 4 === t.length && {space: "RGB", r: t[0], g: t[1], b: t[2], a: t[3]}
                            }, write: function (t) {
                                return [t.r, t.g, t.b, t.a]
                            }
                        }
                    }
                }, {
                    litmus: r.default.isObject, conversions: {
                        RGBA_OBJ: {
                            read: function (t) {
                                return !!(r.default.isNumber(t.r) && r.default.isNumber(t.g) && r.default.isNumber(t.b) && r.default.isNumber(t.a)) && {
                                        space: "RGB",
                                        r: t.r,
                                        g: t.g,
                                        b: t.b,
                                        a: t.a
                                    }
                            }, write: function (t) {
                                return {r: t.r, g: t.g, b: t.b, a: t.a}
                            }
                        }, RGB_OBJ: {
                            read: function (t) {
                                return !!(r.default.isNumber(t.r) && r.default.isNumber(t.g) && r.default.isNumber(t.b)) && {
                                        space: "RGB",
                                        r: t.r,
                                        g: t.g,
                                        b: t.b
                                    }
                            }, write: function (t) {
                                return {r: t.r, g: t.g, b: t.b}
                            }
                        }, HSVA_OBJ: {
                            read: function (t) {
                                return !!(r.default.isNumber(t.h) && r.default.isNumber(t.s) && r.default.isNumber(t.v) && r.default.isNumber(t.a)) && {
                                        space: "HSV",
                                        h: t.h,
                                        s: t.s,
                                        v: t.v,
                                        a: t.a
                                    }
                            }, write: function (t) {
                                return {h: t.h, s: t.s, v: t.v, a: t.a}
                            }
                        }, HSV_OBJ: {
                            read: function (t) {
                                return !!(r.default.isNumber(t.h) && r.default.isNumber(t.s) && r.default.isNumber(t.v)) && {
                                        space: "HSV",
                                        h: t.h,
                                        s: t.s,
                                        v: t.v
                                    }
                            }, write: function (t) {
                                return {h: t.h, s: t.s, v: t.v}
                            }
                        }
                    }
                }], s = void 0, l = void 0;
                e.default = function () {
                    l = !1;
                    var t = arguments.length > 1 ? r.default.toArray(arguments) : arguments[0];
                    return r.default.each(a, function (e) {
                        if (e.litmus(t))return r.default.each(e.conversions, function (e, i) {
                            if (s = e.read(t), !1 === l && !1 !== s)return l = s, s.conversionName = i, s.conversion = e, r.default.BREAK
                        }), r.default.BREAK
                    }), l
                }
            }, function (t, e) {
                "use strict";
                e.__esModule = !0, e.default = function (t, e) {
                    var i = t.__state.conversionName.toString(), n = Math.round(t.r), r = Math.round(t.g),
                        o = Math.round(t.b), a = t.a, s = Math.round(t.h), l = t.s.toFixed(1), c = t.v.toFixed(1);
                    if (e || "THREE_CHAR_HEX" === i || "SIX_CHAR_HEX" === i) {
                        for (var u = t.hex.toString(16); u.length < 6;)u = "0" + u;
                        return "#" + u
                    }
                    return "CSS_RGB" === i ? "rgb(" + n + "," + r + "," + o + ")" : "CSS_RGBA" === i ? "rgba(" + n + "," + r + "," + o + "," + a + ")" : "HEX" === i ? "0x" + t.hex.toString(16) : "RGB_ARRAY" === i ? "[" + n + "," + r + "," + o + "]" : "RGBA_ARRAY" === i ? "[" + n + "," + r + "," + o + "," + a + "]" : "RGB_OBJ" === i ? "{r:" + n + ",g:" + r + ",b:" + o + "}" : "RGBA_OBJ" === i ? "{r:" + n + ",g:" + r + ",b:" + o + ",a:" + a + "}" : "HSV_OBJ" === i ? "{h:" + s + ",s:" + l + ",v:" + c + "}" : "HSVA_OBJ" === i ? "{h:" + s + ",s:" + l + ",v:" + c + ",a:" + a + "}" : "unknown format"
                }
            }, function (t, e) {
                "use strict";
                e.__esModule = !0;
                var i = Array.prototype.forEach, n = Array.prototype.slice, r = {
                    BREAK: {}, extend: function (t) {
                        return this.each(n.call(arguments, 1), function (e) {
                            (this.isObject(e) ? Object.keys(e) : []).forEach(function (i) {
                                this.isUndefined(e[i]) || (t[i] = e[i])
                            }.bind(this))
                        }, this), t
                    }, defaults: function (t) {
                        return this.each(n.call(arguments, 1), function (e) {
                            (this.isObject(e) ? Object.keys(e) : []).forEach(function (i) {
                                this.isUndefined(t[i]) && (t[i] = e[i])
                            }.bind(this))
                        }, this), t
                    }, compose: function () {
                        var t = n.call(arguments);
                        return function () {
                            for (var e = n.call(arguments), i = t.length - 1; i >= 0; i--)e = [t[i].apply(this, e)];
                            return e[0]
                        }
                    }, each: function (t, e, n) {
                        if (t)if (i && t.forEach && t.forEach === i) t.forEach(e, n); else if (t.length === t.length + 0) {
                            var r, o = void 0;
                            for (o = 0, r = t.length; o < r; o++)if (o in t && e.call(n, t[o], o) === this.BREAK)return
                        } else for (var a in t)if (e.call(n, t[a], a) === this.BREAK)return
                    }, defer: function (t) {
                        setTimeout(t, 0)
                    }, debounce: function (t, e) {
                        var i = void 0;
                        return function () {
                            var n = arguments;
                            var r = !i;
                            clearTimeout(i), i = setTimeout(function () {
                                i = null
                            }, e), r && t.apply(this, n)
                        }
                    }, toArray: function (t) {
                        return t.toArray ? t.toArray() : n.call(t)
                    }, isUndefined: function (t) {
                        return void 0 === t
                    }, isNull: function (t) {
                        return null === t
                    }, isNaN: function (t) {
                        function e(e) {
                            return t.apply(this, arguments)
                        }

                        return e.toString = function () {
                            return t.toString()
                        }, e
                    }(function (t) {
                        return isNaN(t)
                    }), isArray: Array.isArray || function (t) {
                        return t.constructor === Array
                    }, isObject: function (t) {
                        return t === Object(t)
                    }, isNumber: function (t) {
                        return t === t + 0
                    }, isString: function (t) {
                        return t === t + ""
                    }, isBoolean: function (t) {
                        return !1 === t || !0 === t
                    }, isFunction: function (t) {
                        return "[object Function]" === Object.prototype.toString.call(t)
                    }
                };
                e.default = r
            }, function (t, e) {
                "use strict";
                e.__esModule = !0;
                var i = void 0, n = {
                    hsv_to_rgb: function (t, e, i) {
                        var n = Math.floor(t / 60) % 6, r = t / 60 - Math.floor(t / 60), o = i * (1 - e),
                            a = i * (1 - r * e), s = i * (1 - (1 - r) * e),
                            l = [[i, s, o], [a, i, o], [o, i, s], [o, a, i], [s, o, i], [i, o, a]][n];
                        return {r: 255 * l[0], g: 255 * l[1], b: 255 * l[2]}
                    }, rgb_to_hsv: function (t, e, i) {
                        var n = Math.min(t, e, i), r = Math.max(t, e, i), o = r - n, a = void 0;
                        return 0 === r ? {
                            h: NaN,
                            s: 0,
                            v: 0
                        } : (a = t === r ? (e - i) / o : e === r ? 2 + (i - t) / o : 4 + (t - e) / o, (a /= 6) < 0 && (a += 1), {
                            h: 360 * a,
                            s: o / r,
                            v: r / 255
                        })
                    }, rgb_to_hex: function (t, e, i) {
                        var n = this.hex_with_component(0, 2, t);
                        return n = this.hex_with_component(n, 1, e), n = this.hex_with_component(n, 0, i)
                    }, component_from_hex: function (t, e) {
                        return t >> 8 * e & 255
                    }, hex_with_component: function (t, e, n) {
                        return n << (i = 8 * e) | t & ~(255 << i)
                    }
                };
                e.default = n
            }, function (t, e) {
                "use strict";
                e.__esModule = !0;
                var i = function () {
                    function t(e, i) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, t), this.initialValue = e[i], this.domElement = document.createElement("div"), this.object = e, this.property = i, this.__onChange = void 0, this.__onFinishChange = void 0
                    }

                    return t.prototype.onChange = function (t) {
                        return this.__onChange = t, this
                    }, t.prototype.onFinishChange = function (t) {
                        return this.__onFinishChange = t, this
                    }, t.prototype.setValue = function (t) {
                        return this.object[this.property] = t, this.__onChange && this.__onChange.call(this, t), this.updateDisplay(), this
                    }, t.prototype.getValue = function () {
                        return this.object[this.property]
                    }, t.prototype.updateDisplay = function () {
                        return this
                    }, t.prototype.isModified = function () {
                        return this.initialValue !== this.getValue()
                    }, t
                }();
                e.default = i
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = o(i(7)), r = o(i(9));

                function o(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var a = function (t) {
                    function e(i, n) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var o = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n)), a = o;
                        return o.__prev = o.getValue(), o.__checkbox = document.createElement("input"), o.__checkbox.setAttribute("type", "checkbox"), r.default.bind(o.__checkbox, "change", function () {
                            a.setValue(!a.__prev)
                        }, !1), o.domElement.appendChild(o.__checkbox), o.updateDisplay(), o
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.setValue = function (e) {
                        var i = t.prototype.setValue.call(this, e);
                        return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), i
                    }, e.prototype.updateDisplay = function () {
                        return !0 === this.getValue() ? (this.__checkbox.setAttribute("checked", "checked"), this.__checkbox.checked = !0) : this.__checkbox.checked = !1, t.prototype.updateDisplay.call(this)
                    }, e
                }(n.default);
                e.default = a
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n, r = i(5), o = (n = r) && n.__esModule ? n : {default: n};
                var a = {};
                o.default.each({
                    HTMLEvents: ["change"],
                    MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"],
                    KeyboardEvents: ["keydown"]
                }, function (t, e) {
                    o.default.each(t, function (t) {
                        a[t] = e
                    })
                });
                var s = /(\d+(\.\d+)?)px/;

                function l(t) {
                    if ("0" === t || o.default.isUndefined(t))return 0;
                    var e = t.match(s);
                    return o.default.isNull(e) ? 0 : parseFloat(e[1])
                }

                var c = {
                    makeSelectable: function (t, e) {
                        void 0 !== t && void 0 !== t.style && (t.onselectstart = e ? function () {
                            return !1
                        } : function () {
                        }, t.style.MozUserSelect = e ? "auto" : "none", t.style.KhtmlUserSelect = e ? "auto" : "none", t.unselectable = e ? "on" : "off")
                    }, makeFullscreen: function (t, e, i) {
                        var n = i, r = e;
                        o.default.isUndefined(r) && (r = !0), o.default.isUndefined(n) && (n = !0), t.style.position = "absolute", r && (t.style.left = 0, t.style.right = 0), n && (t.style.top = 0, t.style.bottom = 0)
                    }, fakeEvent: function (t, e, i, n) {
                        var r = i || {}, s = a[e];
                        if (!s)throw new Error("Event type " + e + " not supported.");
                        var l = document.createEvent(s);
                        switch (s) {
                            case"MouseEvents":
                                var c = r.x || r.clientX || 0, u = r.y || r.clientY || 0;
                                l.initMouseEvent(e, r.bubbles || !1, r.cancelable || !0, window, r.clickCount || 1, 0, 0, c, u, !1, !1, !1, !1, 0, null);
                                break;
                            case"KeyboardEvents":
                                var h = l.initKeyboardEvent || l.initKeyEvent;
                                o.default.defaults(r, {
                                    cancelable: !0,
                                    ctrlKey: !1,
                                    altKey: !1,
                                    shiftKey: !1,
                                    metaKey: !1,
                                    keyCode: void 0,
                                    charCode: void 0
                                }), h(e, r.bubbles || !1, r.cancelable, window, r.ctrlKey, r.altKey, r.shiftKey, r.metaKey, r.keyCode, r.charCode);
                                break;
                            default:
                                l.initEvent(e, r.bubbles || !1, r.cancelable || !0)
                        }
                        o.default.defaults(l, n), t.dispatchEvent(l)
                    }, bind: function (t, e, i, n) {
                        var r = n || !1;
                        return t.addEventListener ? t.addEventListener(e, i, r) : t.attachEvent && t.attachEvent("on" + e, i), c
                    }, unbind: function (t, e, i, n) {
                        var r = n || !1;
                        return t.removeEventListener ? t.removeEventListener(e, i, r) : t.detachEvent && t.detachEvent("on" + e, i), c
                    }, addClass: function (t, e) {
                        if (void 0 === t.className) t.className = e; else if (t.className !== e) {
                            var i = t.className.split(/ +/);
                            -1 === i.indexOf(e) && (i.push(e), t.className = i.join(" ").replace(/^\s+/, "").replace(/\s+$/, ""))
                        }
                        return c
                    }, removeClass: function (t, e) {
                        if (e)if (t.className === e) t.removeAttribute("class"); else {
                            var i = t.className.split(/ +/), n = i.indexOf(e);
                            -1 !== n && (i.splice(n, 1), t.className = i.join(" "))
                        } else t.className = void 0;
                        return c
                    }, hasClass: function (t, e) {
                        return new RegExp("(?:^|\\s+)" + e + "(?:\\s+|$)").test(t.className) || !1
                    }, getWidth: function (t) {
                        var e = getComputedStyle(t);
                        return l(e["border-left-width"]) + l(e["border-right-width"]) + l(e["padding-left"]) + l(e["padding-right"]) + l(e.width)
                    }, getHeight: function (t) {
                        var e = getComputedStyle(t);
                        return l(e["border-top-width"]) + l(e["border-bottom-width"]) + l(e["padding-top"]) + l(e["padding-bottom"]) + l(e.height)
                    }, getOffset: function (t) {
                        var e = t, i = {left: 0, top: 0};
                        if (e.offsetParent)do {
                            i.left += e.offsetLeft, i.top += e.offsetTop, e = e.offsetParent
                        } while (e);
                        return i
                    }, isActive: function (t) {
                        return t === document.activeElement && (t.type || t.href)
                    }
                };
                e.default = c
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = a(i(7)), r = a(i(9)), o = a(i(5));

                function a(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var s = function (t) {
                    function e(i, n, a) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var s, l = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n)), c = a, u = l;
                        return l.__select = document.createElement("select"), o.default.isArray(c) && (s = {}, o.default.each(c, function (t) {
                            s[t] = t
                        }), c = s), o.default.each(c, function (t, e) {
                            var i = document.createElement("option");
                            i.innerHTML = e, i.setAttribute("value", t), u.__select.appendChild(i)
                        }), l.updateDisplay(), r.default.bind(l.__select, "change", function () {
                            var t = this.options[this.selectedIndex].value;
                            u.setValue(t)
                        }), l.domElement.appendChild(l.__select), l
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.setValue = function (e) {
                        var i = t.prototype.setValue.call(this, e);
                        return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), i
                    }, e.prototype.updateDisplay = function () {
                        return r.default.isActive(this.__select) ? this : (this.__select.value = this.getValue(), t.prototype.updateDisplay.call(this))
                    }, e
                }(n.default);
                e.default = s
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = o(i(7)), r = o(i(9));

                function o(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var a = function (t) {
                    function e(i, n) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var o = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n)), a = o;

                        function s() {
                            a.setValue(a.__input.value)
                        }

                        return o.__input = document.createElement("input"), o.__input.setAttribute("type", "text"), r.default.bind(o.__input, "keyup", s), r.default.bind(o.__input, "change", s), r.default.bind(o.__input, "blur", function () {
                            a.__onFinishChange && a.__onFinishChange.call(a, a.getValue())
                        }), r.default.bind(o.__input, "keydown", function (t) {
                            13 === t.keyCode && this.blur()
                        }), o.updateDisplay(), o.domElement.appendChild(o.__input), o
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.updateDisplay = function () {
                        return r.default.isActive(this.__input) || (this.__input.value = this.getValue()), t.prototype.updateDisplay.call(this)
                    }, e
                }(n.default);
                e.default = a
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = o(i(7)), r = o(i(5));

                function o(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                function a(t) {
                    var e = t.toString();
                    return e.indexOf(".") > -1 ? e.length - e.indexOf(".") - 1 : 0
                }

                var s = function (t) {
                    function e(i, n, o) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var s = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n)), l = o || {};
                        return s.__min = l.min, s.__max = l.max, s.__step = l.step, r.default.isUndefined(s.__step) ? 0 === s.initialValue ? s.__impliedStep = 1 : s.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(s.initialValue)) / Math.LN10)) / 10 : s.__impliedStep = s.__step, s.__precision = a(s.__impliedStep), s
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.setValue = function (e) {
                        var i = e;
                        return void 0 !== this.__min && i < this.__min ? i = this.__min : void 0 !== this.__max && i > this.__max && (i = this.__max), void 0 !== this.__step && i % this.__step != 0 && (i = Math.round(i / this.__step) * this.__step), t.prototype.setValue.call(this, i)
                    }, e.prototype.min = function (t) {
                        return this.__min = t, this
                    }, e.prototype.max = function (t) {
                        return this.__max = t, this
                    }, e.prototype.step = function (t) {
                        return this.__step = t, this.__impliedStep = t, this.__precision = a(t), this
                    }, e
                }(n.default);
                e.default = s
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = a(i(12)), r = a(i(9)), o = a(i(5));

                function a(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var s = function (t) {
                    function e(i, n, a) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var s = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n, a));
                        s.__truncationSuspended = !1;
                        var l = s, c = void 0;

                        function u() {
                            l.__onFinishChange && l.__onFinishChange.call(l, l.getValue())
                        }

                        function h(t) {
                            var e = c - t.clientY;
                            l.setValue(l.getValue() + e * l.__impliedStep), c = t.clientY
                        }

                        function d() {
                            r.default.unbind(window, "mousemove", h), r.default.unbind(window, "mouseup", d), u()
                        }

                        return s.__input = document.createElement("input"), s.__input.setAttribute("type", "text"), r.default.bind(s.__input, "change", function () {
                            var t = parseFloat(l.__input.value);
                            o.default.isNaN(t) || l.setValue(t)
                        }), r.default.bind(s.__input, "blur", function () {
                            u()
                        }), r.default.bind(s.__input, "mousedown", function (t) {
                            r.default.bind(window, "mousemove", h), r.default.bind(window, "mouseup", d), c = t.clientY
                        }), r.default.bind(s.__input, "keydown", function (t) {
                            13 === t.keyCode && (l.__truncationSuspended = !0, this.blur(), l.__truncationSuspended = !1, u())
                        }), s.updateDisplay(), s.domElement.appendChild(s.__input), s
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.updateDisplay = function () {
                        var e, i, n;
                        return this.__input.value = this.__truncationSuspended ? this.getValue() : (e = this.getValue(), i = this.__precision, n = Math.pow(10, i), Math.round(e * n) / n), t.prototype.updateDisplay.call(this)
                    }, e
                }(n.default);
                e.default = s
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = o(i(12)), r = o(i(9));

                function o(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var a = function (t) {
                    function e(i, n, o, a, s) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var l = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n, {min: o, max: a, step: s})), c = l;

                        function u(t) {
                            t.preventDefault();
                            var e, i, n, r, o, a = c.__background.getBoundingClientRect();
                            return c.setValue((e = t.clientX, i = a.left, n = a.right, r = c.__min, o = c.__max, r + (e - i) / (n - i) * (o - r))), !1
                        }

                        function h() {
                            r.default.unbind(window, "mousemove", u), r.default.unbind(window, "mouseup", h), c.__onFinishChange && c.__onFinishChange.call(c, c.getValue())
                        }

                        return l.__background = document.createElement("div"), l.__foreground = document.createElement("div"), r.default.bind(l.__background, "mousedown", function (t) {
                            document.activeElement.blur(), r.default.bind(window, "mousemove", u), r.default.bind(window, "mouseup", h), u(t)
                        }), r.default.addClass(l.__background, "slider"), r.default.addClass(l.__foreground, "slider-fg"), l.updateDisplay(), l.__background.appendChild(l.__foreground), l.domElement.appendChild(l.__background), l
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.updateDisplay = function () {
                        var e = (this.getValue() - this.__min) / (this.__max - this.__min);
                        return this.__foreground.style.width = 100 * e + "%", t.prototype.updateDisplay.call(this)
                    }, e
                }(n.default);
                e.default = a
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = o(i(7)), r = o(i(9));

                function o(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var a = function (t) {
                    function e(i, n, o) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var a = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n)), s = a;
                        return a.__button = document.createElement("div"), a.__button.innerHTML = void 0 === o ? "Fire" : o, r.default.bind(a.__button, "click", function (t) {
                            return t.preventDefault(), s.fire(), !1
                        }), r.default.addClass(a.__button, "button"), a.domElement.appendChild(a.__button), a
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.fire = function () {
                        this.__onChange && this.__onChange.call(this), this.getValue().call(this.object), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue())
                    }, e
                }(n.default);
                e.default = a
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = l(i(7)), r = l(i(9)), o = l(i(2)), a = l(i(3)), s = l(i(5));

                function l(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var c = function (t) {
                    function e(i, n) {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, e);
                        var l = function (t, e) {
                            if (!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return !e || "object" != typeof e && "function" != typeof e ? t : e
                        }(this, t.call(this, i, n));
                        l.__color = new o.default(l.getValue()), l.__temp = new o.default(0);
                        var c = l;
                        l.domElement = document.createElement("div"), r.default.makeSelectable(l.domElement, !1), l.__selector = document.createElement("div"), l.__selector.className = "selector", l.__saturation_field = document.createElement("div"), l.__saturation_field.className = "saturation-field", l.__field_knob = document.createElement("div"), l.__field_knob.className = "field-knob", l.__field_knob_border = "2px solid ", l.__hue_knob = document.createElement("div"), l.__hue_knob.className = "hue-knob", l.__hue_field = document.createElement("div"), l.__hue_field.className = "hue-field", l.__input = document.createElement("input"), l.__input.type = "text", l.__input_textShadow = "0 1px 1px ", r.default.bind(l.__input, "keydown", function (t) {
                            13 === t.keyCode && m.call(this)
                        }), r.default.bind(l.__input, "blur", m), r.default.bind(l.__selector, "mousedown", function () {
                            r.default.addClass(this, "drag").bind(window, "mouseup", function () {
                                r.default.removeClass(c.__selector, "drag")
                            })
                        });
                        var u, d = document.createElement("div");

                        function p(t) {
                            y(t), r.default.bind(window, "mousemove", y), r.default.bind(window, "mouseup", f)
                        }

                        function f() {
                            r.default.unbind(window, "mousemove", y), r.default.unbind(window, "mouseup", f), v()
                        }

                        function m() {
                            var t = (0, a.default)(this.value);
                            !1 !== t ? (c.__color.__state = t, c.setValue(c.__color.toOriginal())) : this.value = c.__color.toString()
                        }

                        function g() {
                            r.default.unbind(window, "mousemove", _), r.default.unbind(window, "mouseup", g), v()
                        }

                        function v() {
                            c.__onFinishChange && c.__onFinishChange.call(c, c.__color.toOriginal())
                        }

                        function y(t) {
                            t.preventDefault();
                            var e = c.__saturation_field.getBoundingClientRect(),
                                i = (t.clientX - e.left) / (e.right - e.left),
                                n = 1 - (t.clientY - e.top) / (e.bottom - e.top);
                            return n > 1 ? n = 1 : n < 0 && (n = 0), i > 1 ? i = 1 : i < 0 && (i = 0), c.__color.v = n, c.__color.s = i, c.setValue(c.__color.toOriginal()), !1
                        }

                        function _(t) {
                            t.preventDefault();
                            var e = c.__hue_field.getBoundingClientRect(),
                                i = 1 - (t.clientY - e.top) / (e.bottom - e.top);
                            return i > 1 ? i = 1 : i < 0 && (i = 0), c.__color.h = 360 * i, c.setValue(c.__color.toOriginal()), !1
                        }

                        return s.default.extend(l.__selector.style, {
                            width: "122px",
                            height: "102px",
                            padding: "3px",
                            backgroundColor: "#222",
                            boxShadow: "0px 1px 3px rgba(0,0,0,0.3)"
                        }), s.default.extend(l.__field_knob.style, {
                            position: "absolute",
                            width: "12px",
                            height: "12px",
                            border: l.__field_knob_border + (l.__color.v < .5 ? "#fff" : "#000"),
                            boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
                            borderRadius: "12px",
                            zIndex: 1
                        }), s.default.extend(l.__hue_knob.style, {
                            position: "absolute",
                            width: "15px",
                            height: "2px",
                            borderRight: "4px solid #fff",
                            zIndex: 1
                        }), s.default.extend(l.__saturation_field.style, {
                            width: "100px",
                            height: "100px",
                            border: "1px solid #555",
                            marginRight: "3px",
                            display: "inline-block",
                            cursor: "pointer"
                        }), s.default.extend(d.style, {
                            width: "100%",
                            height: "100%",
                            background: "none"
                        }), h(d, "top", "rgba(0,0,0,0)", "#000"), s.default.extend(l.__hue_field.style, {
                            width: "15px",
                            height: "100px",
                            border: "1px solid #555",
                            cursor: "ns-resize",
                            position: "absolute",
                            top: "3px",
                            right: "3px"
                        }), (u = l.__hue_field).style.background = "", u.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);", u.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", u.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", u.style.cssText += "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", u.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", s.default.extend(l.__input.style, {
                            outline: "none",
                            textAlign: "center",
                            color: "#fff",
                            border: 0,
                            fontWeight: "bold",
                            textShadow: l.__input_textShadow + "rgba(0,0,0,0.7)"
                        }), r.default.bind(l.__saturation_field, "mousedown", p), r.default.bind(l.__field_knob, "mousedown", p), r.default.bind(l.__hue_field, "mousedown", function (t) {
                            _(t), r.default.bind(window, "mousemove", _), r.default.bind(window, "mouseup", g)
                        }), l.__saturation_field.appendChild(d), l.__selector.appendChild(l.__field_knob), l.__selector.appendChild(l.__saturation_field), l.__selector.appendChild(l.__hue_field), l.__hue_field.appendChild(l.__hue_knob), l.domElement.appendChild(l.__input), l.domElement.appendChild(l.__selector), l.updateDisplay(), l
                    }

                    return function (t, e) {
                        if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, {
                            constructor: {
                                value: t,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }(e, t), e.prototype.updateDisplay = function () {
                        var t = (0, a.default)(this.getValue());
                        if (!1 !== t) {
                            var e = !1;
                            s.default.each(o.default.COMPONENTS, function (i) {
                                if (!s.default.isUndefined(t[i]) && !s.default.isUndefined(this.__color.__state[i]) && t[i] !== this.__color.__state[i])return e = !0, {}
                            }, this), e && s.default.extend(this.__color.__state, t)
                        }
                        s.default.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1;
                        var i = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0, n = 255 - i;
                        s.default.extend(this.__field_knob.style, {
                            marginLeft: 100 * this.__color.s - 7 + "px",
                            marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                            backgroundColor: this.__temp.toHexString(),
                            border: this.__field_knob_border + "rgb(" + i + "," + i + "," + i + ")"
                        }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + "px", this.__temp.s = 1, this.__temp.v = 1, h(this.__saturation_field, "left", "#fff", this.__temp.toHexString()), this.__input.value = this.__color.toString(), s.default.extend(this.__input.style, {
                            backgroundColor: this.__color.toHexString(),
                            color: "rgb(" + i + "," + i + "," + i + ")",
                            textShadow: this.__input_textShadow + "rgba(" + n + "," + n + "," + n + ",.7)"
                        })
                    }, e
                }(n.default), u = ["-moz-", "-o-", "-webkit-", "-ms-", ""];

                function h(t, e, i, n) {
                    t.style.background = "", s.default.each(u, function (r) {
                        t.style.cssText += "background: " + r + "linear-gradient(" + e + ", " + i + " 0%, " + n + " 100%); "
                    })
                }

                e.default = c
            }, function (t, e, i) {
                "use strict";
                var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                        return typeof t
                    } : function (t) {
                        return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                    }, r = y(i(18)), o = y(i(19)), a = y(i(20)), s = y(i(7)), l = y(i(8)), c = y(i(15)), u = y(i(13)),
                    h = y(i(14)), d = y(i(16)), p = y(i(21)), f = y(i(22)), m = y(i(9)), g = y(i(5)), v = y(i(23));

                function y(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                r.default.inject(v.default);
                var _ = "Default", x = function () {
                    try {
                        return "localStorage" in window && null !== window.localStorage
                    } catch (t) {
                        return !1
                    }
                }(), b = void 0, w = !0, S = void 0, M = !1, T = [], A = function t(e) {
                    var i = this, n = e || {};
                    this.domElement = document.createElement("div"), this.__ul = document.createElement("ul"), this.domElement.appendChild(this.__ul), m.default.addClass(this.domElement, "dg"), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], n = g.default.defaults(n, {
                        autoPlace: !0,
                        width: t.DEFAULT_WIDTH
                    }), n = g.default.defaults(n, {
                        resizable: n.autoPlace,
                        hideable: n.autoPlace
                    }), g.default.isUndefined(n.load) ? n.load = {preset: _} : n.preset && (n.load.preset = n.preset), g.default.isUndefined(n.parent) && n.hideable && T.push(this), n.resizable = g.default.isUndefined(n.parent) && n.resizable, n.autoPlace && g.default.isUndefined(n.scrollable) && (n.scrollable = !0);
                    var r, o = x && "true" === localStorage.getItem(L(this, "isLocal")), a = void 0;
                    if (Object.defineProperties(this, {
                            parent: {
                                get: function () {
                                    return n.parent
                                }
                            }, scrollable: {
                                get: function () {
                                    return n.scrollable
                                }
                            }, autoPlace: {
                                get: function () {
                                    return n.autoPlace
                                }
                            }, preset: {
                                get: function () {
                                    return i.parent ? i.getRoot().preset : n.load.preset
                                }, set: function (t) {
                                    i.parent ? i.getRoot().preset = t : n.load.preset = t, function (t) {
                                        for (var e = 0; e < t.__preset_select.length; e++)t.__preset_select[e].value === t.preset && (t.__preset_select.selectedIndex = e)
                                    }(this), i.revert()
                                }
                            }, width: {
                                get: function () {
                                    return n.width
                                }, set: function (t) {
                                    n.width = t, R(i, t)
                                }
                            }, name: {
                                get: function () {
                                    return n.name
                                }, set: function (t) {
                                    n.name = t, titleRowName && (titleRowName.innerHTML = n.name)
                                }
                            }, closed: {
                                get: function () {
                                    return n.closed
                                }, set: function (e) {
                                    n.closed = e, n.closed ? m.default.addClass(i.__ul, t.CLASS_CLOSED) : m.default.removeClass(i.__ul, t.CLASS_CLOSED), this.onResize(), i.__closeButton && (i.__closeButton.innerHTML = e ? t.TEXT_OPEN : t.TEXT_CLOSED)
                                }
                            }, load: {
                                get: function () {
                                    return n.load
                                }
                            }, useLocalStorage: {
                                get: function () {
                                    return o
                                }, set: function (t) {
                                    x && (o = t, t ? m.default.bind(window, "unload", a) : m.default.unbind(window, "unload", a), localStorage.setItem(L(i, "isLocal"), t))
                                }
                            }
                        }), g.default.isUndefined(n.parent)) {
                        if (n.closed = !1, m.default.addClass(this.domElement, t.CLASS_MAIN), m.default.makeSelectable(this.domElement, !1), x && o) {
                            i.useLocalStorage = !0;
                            var s = localStorage.getItem(L(this, "gui"));
                            s && (n.load = JSON.parse(s))
                        }
                        this.__closeButton = document.createElement("div"), this.__closeButton.innerHTML = t.TEXT_CLOSED, m.default.addClass(this.__closeButton, t.CLASS_CLOSE_BUTTON), this.domElement.appendChild(this.__closeButton), m.default.bind(this.__closeButton, "click", function () {
                            i.closed = !i.closed
                        })
                    } else {
                        void 0 === n.closed && (n.closed = !0);
                        var l = document.createTextNode(n.name);
                        m.default.addClass(l, "controller-name");
                        var c = P(i, l);
                        m.default.addClass(this.__ul, t.CLASS_CLOSED), m.default.addClass(c, "title"), m.default.bind(c, "click", function (t) {
                            return t.preventDefault(), i.closed = !i.closed, !1
                        }), n.closed || (this.closed = !1)
                    }
                    n.autoPlace && (g.default.isUndefined(n.parent) && (w && (S = document.createElement("div"), m.default.addClass(S, "dg"), m.default.addClass(S, t.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(S), w = !1), S.appendChild(this.domElement), m.default.addClass(this.domElement, t.CLASS_AUTO_PLACE)), this.parent || R(i, n.width)), this.__resizeHandler = function () {
                        i.onResizeDebounced()
                    }, m.default.bind(window, "resize", this.__resizeHandler), m.default.bind(this.__ul, "webkitTransitionEnd", this.__resizeHandler), m.default.bind(this.__ul, "transitionend", this.__resizeHandler), m.default.bind(this.__ul, "oTransitionEnd", this.__resizeHandler), this.onResize(), n.resizable && N(this), a = function () {
                        x && "true" === localStorage.getItem(L(i, "isLocal")) && localStorage.setItem(L(i, "gui"), JSON.stringify(i.getSaveObject()))
                    }, this.saveToLocalStorageIfPossible = a, n.parent || ((r = i.getRoot()).width += 1, g.default.defer(function () {
                        r.width -= 1
                    }))
                };

                function P(t, e, i) {
                    var n = document.createElement("li");
                    return e && n.appendChild(e), i ? t.__ul.insertBefore(n, i) : t.__ul.appendChild(n), t.onResize(), n
                }

                function E(t, e) {
                    var i = t.__preset_select[t.__preset_select.selectedIndex];
                    i.innerHTML = e ? i.value + "*" : i.value
                }

                function C(t, e) {
                    var i = t.getRoot(), n = i.__rememberedObjects.indexOf(e.object);
                    if (-1 !== n) {
                        var r = i.__rememberedObjectIndecesToControllers[n];
                        if (void 0 === r && (r = {}, i.__rememberedObjectIndecesToControllers[n] = r), r[e.property] = e, i.load && i.load.remembered) {
                            var o = i.load.remembered, a = void 0;
                            if (o[t.preset]) a = o[t.preset]; else {
                                if (!o[_])return;
                                a = o[_]
                            }
                            if (a[n] && void 0 !== a[n][e.property]) {
                                var s = a[n][e.property];
                                e.initialValue = s, e.setValue(s)
                            }
                        }
                    }
                }

                function O(t, e, i, r) {
                    if (void 0 === e[i])throw new Error('Object "' + e + '" has no property "' + i + '"');
                    var o = void 0;
                    if (r.color) o = new d.default(e, i); else {
                        var p = [e, i].concat(r.factoryArgs);
                        o = a.default.apply(t, p)
                    }
                    r.before instanceof s.default && (r.before = r.before.__li), C(t, o), m.default.addClass(o.domElement, "c");
                    var f = document.createElement("span");
                    m.default.addClass(f, "property-name"), f.innerHTML = o.property;
                    var v = document.createElement("div");
                    v.appendChild(f), v.appendChild(o.domElement);
                    var y = P(t, v, r.before);
                    return m.default.addClass(y, A.CLASS_CONTROLLER_ROW), o instanceof d.default ? m.default.addClass(y, "color") : m.default.addClass(y, n(o.getValue())), function (t, e, i) {
                        if (i.__li = e, i.__gui = t, g.default.extend(i, {
                                options: function (e) {
                                    if (arguments.length > 1) {
                                        var n = i.__li.nextElementSibling;
                                        return i.remove(), O(t, i.object, i.property, {
                                            before: n,
                                            factoryArgs: [g.default.toArray(arguments)]
                                        })
                                    }
                                    if (g.default.isArray(e) || g.default.isObject(e)) {
                                        var r = i.__li.nextElementSibling;
                                        return i.remove(), O(t, i.object, i.property, {before: r, factoryArgs: [e]})
                                    }
                                }, name: function (t) {
                                    return i.__li.firstElementChild.firstElementChild.innerHTML = t, i
                                }, listen: function () {
                                    return i.__gui.listen(i), i
                                }, remove: function () {
                                    return i.__gui.remove(i), i
                                }
                            }), i instanceof h.default) r = new u.default(i.object, i.property, {
                            min: i.__min,
                            max: i.__max,
                            step: i.__step
                        }), g.default.each(["updateDisplay", "onChange", "onFinishChange", "step"], function (t) {
                            var e = i[t], n = r[t];
                            i[t] = r[t] = function () {
                                var t = Array.prototype.slice.call(arguments);
                                return n.apply(r, t), e.apply(i, t)
                            }
                        }), m.default.addClass(e, "has-slider"), i.domElement.insertBefore(r.domElement, i.domElement.firstElementChild); else if (i instanceof u.default) {
                            var n = function (e) {
                                if (g.default.isNumber(i.__min) && g.default.isNumber(i.__max)) {
                                    var n = i.__li.firstElementChild.firstElementChild.innerHTML,
                                        r = i.__gui.__listening.indexOf(i) > -1;
                                    i.remove();
                                    var o = O(t, i.object, i.property, {
                                        before: i.__li.nextElementSibling,
                                        factoryArgs: [i.__min, i.__max, i.__step]
                                    });
                                    return o.name(n), r && o.listen(), o
                                }
                                return e
                            };
                            i.min = g.default.compose(n, i.min), i.max = g.default.compose(n, i.max)
                        } else i instanceof l.default ? (m.default.bind(e, "click", function () {
                            m.default.fakeEvent(i.__checkbox, "click")
                        }), m.default.bind(i.__checkbox, "click", function (t) {
                            t.stopPropagation()
                        })) : i instanceof c.default ? (m.default.bind(e, "click", function () {
                            m.default.fakeEvent(i.__button, "click")
                        }), m.default.bind(e, "mouseover", function () {
                            m.default.addClass(i.__button, "hover")
                        }), m.default.bind(e, "mouseout", function () {
                            m.default.removeClass(i.__button, "hover")
                        })) : i instanceof d.default && (m.default.addClass(e, "color"), i.updateDisplay = g.default.compose(function (t) {
                                return e.style.borderLeftColor = i.__color.toString(), t
                            }, i.updateDisplay), i.updateDisplay());
                        var r;
                        i.setValue = g.default.compose(function (e) {
                            return t.getRoot().__preset_select && i.isModified() && E(t.getRoot(), !0), e
                        }, i.setValue)
                    }(t, y, o), t.__controllers.push(o), o
                }

                function L(t, e) {
                    return document.location.href + "." + e
                }

                function k(t, e, i) {
                    var n = document.createElement("option");
                    n.innerHTML = e, n.value = e, t.__preset_select.appendChild(n), i && (t.__preset_select.selectedIndex = t.__preset_select.length - 1)
                }

                function I(t, e) {
                    e.style.display = t.useLocalStorage ? "block" : "none"
                }

                function N(t) {
                    var e = void 0;

                    function i(i) {
                        return i.preventDefault(), t.width += e - i.clientX, t.onResize(), e = i.clientX, !1
                    }

                    function n() {
                        m.default.removeClass(t.__closeButton, A.CLASS_DRAG), m.default.unbind(window, "mousemove", i), m.default.unbind(window, "mouseup", n)
                    }

                    function r(r) {
                        return r.preventDefault(), e = r.clientX, m.default.addClass(t.__closeButton, A.CLASS_DRAG), m.default.bind(window, "mousemove", i), m.default.bind(window, "mouseup", n), !1
                    }

                    t.__resize_handle = document.createElement("div"), g.default.extend(t.__resize_handle.style, {
                        width: "6px",
                        marginLeft: "-3px",
                        height: "200px",
                        cursor: "ew-resize",
                        position: "absolute"
                    }), m.default.bind(t.__resize_handle, "mousedown", r), m.default.bind(t.__closeButton, "mousedown", r), t.domElement.insertBefore(t.__resize_handle, t.domElement.firstElementChild)
                }

                function R(t, e) {
                    t.domElement.style.width = e + "px", t.__save_row && t.autoPlace && (t.__save_row.style.width = e + "px"), t.__closeButton && (t.__closeButton.style.width = e + "px")
                }

                function D(t, e) {
                    var i = {};
                    return g.default.each(t.__rememberedObjects, function (n, r) {
                        var o = {}, a = t.__rememberedObjectIndecesToControllers[r];
                        g.default.each(a, function (t, i) {
                            o[i] = e ? t.initialValue : t.getValue()
                        }), i[r] = o
                    }), i
                }

                A.toggleHide = function () {
                    M = !M, g.default.each(T, function (t) {
                        t.domElement.style.display = M ? "none" : ""
                    })
                }, A.CLASS_AUTO_PLACE = "a", A.CLASS_AUTO_PLACE_CONTAINER = "ac", A.CLASS_MAIN = "main", A.CLASS_CONTROLLER_ROW = "cr", A.CLASS_TOO_TALL = "taller-than-window", A.CLASS_CLOSED = "closed", A.CLASS_CLOSE_BUTTON = "close-button", A.CLASS_DRAG = "drag", A.DEFAULT_WIDTH = 245, A.TEXT_CLOSED = "Close Controls", A.TEXT_OPEN = "Open Controls", A._keydownHandler = function (t) {
                    "text" === document.activeElement.type || 72 !== t.which && 72 !== t.keyCode || A.toggleHide()
                }, m.default.bind(window, "keydown", A._keydownHandler, !1), g.default.extend(A.prototype, {
                    add: function (t, e) {
                        return O(this, t, e, {factoryArgs: Array.prototype.slice.call(arguments, 2)})
                    }, addColor: function (t, e) {
                        return O(this, t, e, {color: !0})
                    }, remove: function (t) {
                        this.__ul.removeChild(t.__li), this.__controllers.splice(this.__controllers.indexOf(t), 1);
                        var e = this;
                        g.default.defer(function () {
                            e.onResize()
                        })
                    }, destroy: function () {
                        var t = this;
                        g.default.each(this.__folders, function (e) {
                            t.removeFolder(e)
                        }), this.autoPlace && S.removeChild(this.domElement), m.default.unbind(window, "keydown", A._keydownHandler, !1), m.default.unbind(window, "resize", this.__resizeHandler), this.saveToLocalStorageIfPossible && m.default.unbind(window, "unload", this.saveToLocalStorageIfPossible)
                    }, addFolder: function (t) {
                        if (void 0 !== this.__folders[t])throw new Error('You already have a folder in this GUI by the name "' + t + '"');
                        var e = {name: t, parent: this};
                        e.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[t] && (e.closed = this.load.folders[t].closed, e.load = this.load.folders[t]);
                        var i = new A(e);
                        this.__folders[t] = i;
                        var n = P(this, i.domElement);
                        return m.default.addClass(n, "folder"), i
                    }, removeFolder: function (t) {
                        this.__ul.removeChild(t.domElement.parentElement), delete this.__folders[t.name], this.load && this.load.folders && this.load.folders[t.name] && delete this.load.folders[t.name];
                        var e = this;
                        g.default.defer(function () {
                            e.onResize()
                        })
                    }, open: function () {
                        this.closed = !1
                    }, close: function () {
                        this.closed = !0
                    }, onResize: function () {
                        var t = this.getRoot();
                        if (t.scrollable) {
                            var e = m.default.getOffset(t.__ul).top, i = 0;
                            g.default.each(t.__ul.childNodes, function (e) {
                                t.autoPlace && e === t.__save_row || (i += m.default.getHeight(e))
                            }), window.innerHeight - e - 20 < i ? (m.default.addClass(t.domElement, A.CLASS_TOO_TALL), t.__ul.style.height = window.innerHeight - e - 20 + "px") : (m.default.removeClass(t.domElement, A.CLASS_TOO_TALL), t.__ul.style.height = "auto")
                        }
                        t.__resize_handle && g.default.defer(function () {
                            t.__resize_handle.style.height = t.__ul.offsetHeight + "px"
                        }), t.__closeButton && (t.__closeButton.style.width = t.width + "px")
                    }, onResizeDebounced: g.default.debounce(function () {
                        this.onResize()
                    }, 200), remember: function () {
                        if (g.default.isUndefined(b) && ((b = new f.default).domElement.innerHTML = o.default), this.parent)throw new Error("You can only call remember on a top level GUI.");
                        var t = this;
                        g.default.each(Array.prototype.slice.call(arguments), function (e) {
                            0 === t.__rememberedObjects.length && function (t) {
                                var e = t.__save_row = document.createElement("li");
                                m.default.addClass(t.domElement, "has-save"), t.__ul.insertBefore(e, t.__ul.firstChild), m.default.addClass(e, "save-row");
                                var i = document.createElement("span");
                                i.innerHTML = "&nbsp;", m.default.addClass(i, "button gears");
                                var n = document.createElement("span");
                                n.innerHTML = "Save", m.default.addClass(n, "button"), m.default.addClass(n, "save");
                                var r = document.createElement("span");
                                r.innerHTML = "New", m.default.addClass(r, "button"), m.default.addClass(r, "save-as");
                                var o = document.createElement("span");
                                o.innerHTML = "Revert", m.default.addClass(o, "button"), m.default.addClass(o, "revert");
                                var a = t.__preset_select = document.createElement("select");
                                t.load && t.load.remembered ? g.default.each(t.load.remembered, function (e, i) {
                                    k(t, i, i === t.preset)
                                }) : k(t, _, !1);
                                m.default.bind(a, "change", function () {
                                    for (var e = 0; e < t.__preset_select.length; e++)t.__preset_select[e].innerHTML = t.__preset_select[e].value;
                                    t.preset = this.value
                                }), e.appendChild(a), e.appendChild(i), e.appendChild(n), e.appendChild(r), e.appendChild(o), x && (s = document.getElementById("dg-local-explain"), l = document.getElementById("dg-local-storage"), document.getElementById("dg-save-locally").style.display = "block", "true" === localStorage.getItem(L(t, "isLocal")) && l.setAttribute("checked", "checked"), I(t, s), m.default.bind(l, "change", function () {
                                    t.useLocalStorage = !t.useLocalStorage, I(t, s)
                                }));
                                var s, l;
                                var c = document.getElementById("dg-new-constructor");
                                m.default.bind(c, "keydown", function (t) {
                                    !t.metaKey || 67 !== t.which && 67 !== t.keyCode || b.hide()
                                }), m.default.bind(i, "click", function () {
                                    c.innerHTML = JSON.stringify(t.getSaveObject(), void 0, 2), b.show(), c.focus(), c.select()
                                }), m.default.bind(n, "click", function () {
                                    t.save()
                                }), m.default.bind(r, "click", function () {
                                    var e = prompt("Enter a new preset name.");
                                    e && t.saveAs(e)
                                }), m.default.bind(o, "click", function () {
                                    t.revert()
                                })
                            }(t), -1 === t.__rememberedObjects.indexOf(e) && t.__rememberedObjects.push(e)
                        }), this.autoPlace && R(this, this.width)
                    }, getRoot: function () {
                        for (var t = this; t.parent;)t = t.parent;
                        return t
                    }, getSaveObject: function () {
                        var t = this.load;
                        return t.closed = this.closed, this.__rememberedObjects.length > 0 && (t.preset = this.preset, t.remembered || (t.remembered = {}), t.remembered[this.preset] = D(this)), t.folders = {}, g.default.each(this.__folders, function (e, i) {
                            t.folders[i] = e.getSaveObject()
                        }), t
                    }, save: function () {
                        this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = D(this), E(this, !1), this.saveToLocalStorageIfPossible()
                    }, saveAs: function (t) {
                        this.load.remembered || (this.load.remembered = {}, this.load.remembered[_] = D(this, !0)), this.load.remembered[t] = D(this), this.preset = t, k(this, t, !0), this.saveToLocalStorageIfPossible()
                    }, revert: function (t) {
                        g.default.each(this.__controllers, function (e) {
                            this.getRoot().load.remembered ? C(t || this.getRoot(), e) : e.setValue(e.initialValue), e.__onFinishChange && e.__onFinishChange.call(e, e.getValue())
                        }, this), g.default.each(this.__folders, function (t) {
                            t.revert(t)
                        }), t || E(this.getRoot(), !1)
                    }, listen: function (t) {
                        var e = 0 === this.__listening.length;
                        this.__listening.push(t), e && function t(e) {
                            0 !== e.length && p.default.call(window, function () {
                                t(e)
                            });
                            g.default.each(e, function (t) {
                                t.updateDisplay()
                            })
                        }(this.__listening)
                    }, updateDisplay: function () {
                        g.default.each(this.__controllers, function (t) {
                            t.updateDisplay()
                        }), g.default.each(this.__folders, function (t) {
                            t.updateDisplay()
                        })
                    }
                }), t.exports = A
            }, function (t, e) {
                "use strict";
                t.exports = {
                    load: function (t, e) {
                        var i = e || document, n = i.createElement("link");
                        n.type = "text/css", n.rel = "stylesheet", n.href = t, i.getElementsByTagName("head")[0].appendChild(n)
                    }, inject: function (t, e) {
                        var i = e || document, n = document.createElement("style");
                        n.type = "text/css", n.innerHTML = t;
                        var r = i.getElementsByTagName("head")[0];
                        try {
                            r.appendChild(n)
                        } catch (t) {
                        }
                    }
                }
            }, function (t, e) {
                t.exports = '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = u(i(10)), r = u(i(13)), o = u(i(14)), a = u(i(11)), s = u(i(15)), l = u(i(8)), c = u(i(5));

                function u(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                e.default = function (t, e) {
                    var i = t[e];
                    return c.default.isArray(arguments[2]) || c.default.isObject(arguments[2]) ? new n.default(t, e, arguments[2]) : c.default.isNumber(i) ? c.default.isNumber(arguments[2]) && c.default.isNumber(arguments[3]) ? c.default.isNumber(arguments[4]) ? new o.default(t, e, arguments[2], arguments[3], arguments[4]) : new o.default(t, e, arguments[2], arguments[3]) : c.default.isNumber(arguments[4]) ? new r.default(t, e, {
                        min: arguments[2],
                        max: arguments[3],
                        step: arguments[4]
                    }) : new r.default(t, e, {
                        min: arguments[2],
                        max: arguments[3]
                    }) : c.default.isString(i) ? new a.default(t, e) : c.default.isFunction(i) ? new s.default(t, e, "") : c.default.isBoolean(i) ? new l.default(t, e) : null
                }
            }, function (t, e) {
                "use strict";
                e.__esModule = !0, e.default = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) {
                        setTimeout(t, 1e3 / 60)
                    }
            }, function (t, e, i) {
                "use strict";
                e.__esModule = !0;
                var n = o(i(9)), r = o(i(5));

                function o(t) {
                    return t && t.__esModule ? t : {default: t}
                }

                var a = function () {
                    function t() {
                        !function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, t), this.backgroundElement = document.createElement("div"), r.default.extend(this.backgroundElement.style, {
                            backgroundColor: "rgba(0,0,0,0.8)",
                            top: 0,
                            left: 0,
                            display: "none",
                            zIndex: "1000",
                            opacity: 0,
                            WebkitTransition: "opacity 0.2s linear",
                            transition: "opacity 0.2s linear"
                        }), n.default.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = "fixed", this.domElement = document.createElement("div"), r.default.extend(this.domElement.style, {
                            position: "fixed",
                            display: "none",
                            zIndex: "1001",
                            opacity: 0,
                            WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear",
                            transition: "transform 0.2s ease-out, opacity 0.2s linear"
                        }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement);
                        var e = this;
                        n.default.bind(this.backgroundElement, "click", function () {
                            e.hide()
                        })
                    }

                    return t.prototype.show = function () {
                        var t = this;
                        this.backgroundElement.style.display = "block", this.domElement.style.display = "block", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)", this.layout(), r.default.defer(function () {
                            t.backgroundElement.style.opacity = 1, t.domElement.style.opacity = 1, t.domElement.style.webkitTransform = "scale(1)"
                        })
                    }, t.prototype.hide = function () {
                        var t = this, e = function e() {
                            t.domElement.style.display = "none", t.backgroundElement.style.display = "none", n.default.unbind(t.domElement, "webkitTransitionEnd", e), n.default.unbind(t.domElement, "transitionend", e), n.default.unbind(t.domElement, "oTransitionEnd", e)
                        };
                        n.default.bind(this.domElement, "webkitTransitionEnd", e), n.default.bind(this.domElement, "transitionend", e), n.default.bind(this.domElement, "oTransitionEnd", e), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)"
                    }, t.prototype.layout = function () {
                        this.domElement.style.left = window.innerWidth / 2 - n.default.getWidth(this.domElement) / 2 + "px", this.domElement.style.top = window.innerHeight / 2 - n.default.getHeight(this.domElement) / 2 + "px"
                    }, t
                }();
                e.default = a
            }, function (t, e, i) {
                (t.exports = i(24)()).push([t.id, ".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n", ""])
            }, function (t, e) {
                t.exports = function () {
                    var t = [];
                    return t.toString = function () {
                        for (var t = [], e = 0; e < this.length; e++) {
                            var i = this[e];
                            i[2] ? t.push("@media " + i[2] + "{" + i[1] + "}") : t.push(i[1])
                        }
                        return t.join("")
                    }, t.i = function (e, i) {
                        "string" == typeof e && (e = [[null, e, ""]]);
                        for (var n = {}, r = 0; r < this.length; r++) {
                            var o = this[r][0];
                            "number" == typeof o && (n[o] = !0)
                        }
                        for (r = 0; r < e.length; r++) {
                            var a = e[r];
                            "number" == typeof a[0] && n[a[0]] || (i && !a[2] ? a[2] = i : i && (a[2] = "(" + a[2] + ") and (" + i + ")"), t.push(a))
                        }
                    }, t
                }
            }])
        }, "object" == typeof i && "object" == typeof e ? e.exports = r() : "function" == typeof define && define.amd ? define([], r) : "object" == typeof i ? i.dat = r() : n.dat = r()
    }, {}],
    196: [function (t, e, i) {
        !function (t, i) {
            void 0 !== e ? e.exports = i() : "function" == typeof define && "object" == typeof define.amd ? define(i) : this.domready = i()
        }(0, function () {
            var t, e = [], i = document,
                n = (i.documentElement.doScroll ? /^loaded|^c/ : /^loaded|^i|^c/).test(i.readyState);
            return n || i.addEventListener("DOMContentLoaded", t = function () {
                for (i.removeEventListener("DOMContentLoaded", t), n = 1; t = e.shift();)t()
            }), function (t) {
                n ? setTimeout(t, 0) : e.push(t)
            }
        })
    }, {}],
    197: [function (t, e, i) {
        "use strict";
        e.exports = t("./is-implemented")() ? Object.assign : t("./shim")
    }, {"./is-implemented": 198, "./shim": 199}],
    198: [function (t, e, i) {
        "use strict";
        e.exports = function () {
            var t, e = Object.assign;
            return "function" == typeof e && (e(t = {foo: "raz"}, {bar: "dwa"}, {trzy: "trzy"}), t.foo + t.bar + t.trzy === "razdwatrzy")
        }
    }, {}],
    199: [function (t, e, i) {
        "use strict";
        var n = t("../keys"), r = t("../valid-value"), o = Math.max;
        e.exports = function (t, e) {
            var i, a, s, l = o(arguments.length, 2);
            for (t = Object(r(t)), s = function (n) {
                try {
                    t[n] = e[n]
                } catch (t) {
                    i || (i = t)
                }
            }, a = 1; a < l; ++a)e = arguments[a], n(e).forEach(s);
            if (void 0 !== i)throw i;
            return t
        }
    }, {"../keys": 201, "../valid-value": 206}],
    200: [function (t, e, i) {
        "use strict";
        e.exports = function (t) {
            return "function" == typeof t
        }
    }, {}],
    201: [function (t, e, i) {
        "use strict";
        e.exports = t("./is-implemented")() ? Object.keys : t("./shim")
    }, {"./is-implemented": 202, "./shim": 203}],
    202: [function (t, e, i) {
        "use strict";
        e.exports = function () {
            try {
                return Object.keys("primitive"), !0
            } catch (t) {
                return !1
            }
        }
    }, {}],
    203: [function (t, e, i) {
        "use strict";
        var n = Object.keys;
        e.exports = function (t) {
            return n(null == t ? t : Object(t))
        }
    }, {}],
    204: [function (t, e, i) {
        "use strict";
        var n = Array.prototype.forEach, r = Object.create;
        e.exports = function (t) {
            var e = r(null);
            return n.call(arguments, function (t) {
                null != t && function (t, e) {
                    var i;
                    for (i in t)e[i] = t[i]
                }(Object(t), e)
            }), e
        }
    }, {}],
    205: [function (t, e, i) {
        "use strict";
        e.exports = function (t) {
            if ("function" != typeof t)throw new TypeError(t + " is not a function");
            return t
        }
    }, {}],
    206: [function (t, e, i) {
        "use strict";
        e.exports = function (t) {
            if (null == t)throw new TypeError("Cannot use null or undefined");
            return t
        }
    }, {}],
    207: [function (t, e, i) {
        "use strict";
        e.exports = t("./is-implemented")() ? String.prototype.contains : t("./shim")
    }, {"./is-implemented": 208, "./shim": 209}],
    208: [function (t, e, i) {
        "use strict";
        var n = "razdwatrzy";
        e.exports = function () {
            return "function" == typeof n.contains && (!0 === n.contains("dwa") && !1 === n.contains("foo"))
        }
    }, {}],
    209: [function (t, e, i) {
        "use strict";
        var n = String.prototype.indexOf;
        e.exports = function (t) {
            return n.call(this, t, arguments[1]) > -1
        }
    }, {}],
    210: [function (t, e, i) {
        "use strict";
        var n, r, o, a, s, l, c, u = t("d"), h = t("es5-ext/object/valid-callable"), d = Function.prototype.apply,
            p = Function.prototype.call, f = Object.create, m = Object.defineProperty, g = Object.defineProperties,
            v = Object.prototype.hasOwnProperty, y = {configurable: !0, enumerable: !1, writable: !0};
        s = {
            on: n = function (t, e) {
                var i;
                return h(e), v.call(this, "__ee__") ? i = this.__ee__ : (i = y.value = f(null), m(this, "__ee__", y), y.value = null), i[t] ? "object" == typeof i[t] ? i[t].push(e) : i[t] = [i[t], e] : i[t] = e, this
            }, once: r = function (t, e) {
                var i, r;
                return h(e), r = this, n.call(this, t, i = function () {
                    o.call(r, t, i), d.call(e, this, arguments)
                }), i.__eeOnceListener__ = e, this
            }, off: o = function (t, e) {
                var i, n, r, o;
                if (h(e), !v.call(this, "__ee__"))return this;
                if (!(i = this.__ee__)[t])return this;
                if ("object" == typeof(n = i[t]))for (o = 0; r = n[o]; ++o)r !== e && r.__eeOnceListener__ !== e || (2 === n.length ? i[t] = n[o ? 0 : 1] : n.splice(o, 1)); else n !== e && n.__eeOnceListener__ !== e || delete i[t];
                return this
            }, emit: a = function (t) {
                var e, i, n, r, o;
                if (v.call(this, "__ee__") && (r = this.__ee__[t]))if ("object" == typeof r) {
                    for (i = arguments.length, o = new Array(i - 1), e = 1; e < i; ++e)o[e - 1] = arguments[e];
                    for (r = r.slice(), e = 0; n = r[e]; ++e)d.call(n, this, o)
                } else switch (arguments.length) {
                    case 1:
                        p.call(r, this);
                        break;
                    case 2:
                        p.call(r, this, arguments[1]);
                        break;
                    case 3:
                        p.call(r, this, arguments[1], arguments[2]);
                        break;
                    default:
                        for (i = arguments.length, o = new Array(i - 1), e = 1; e < i; ++e)o[e - 1] = arguments[e];
                        d.call(r, this, o)
                }
            }
        }, l = {on: u(n), once: u(r), off: u(o), emit: u(a)}, c = g({}, l), e.exports = i = function (t) {
            return null == t ? f(c) : g(Object(t), l)
        }, i.methods = s
    }, {d: 191, "es5-ext/object/valid-callable": 205}],
    211: [function (t, e, i) {
        (function (t) {
            var i = void 0 !== e && e.exports && void 0 !== t ? t : this || window;
            (i._gsQueue || (i._gsQueue = [])).push(function () {
                "use strict";
                var t, e, n, r, o, a, s, l, c, u, h, d, p, f;
                i._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (t, e, i) {
                    var n = function (t) {
                        var e, i = [], n = t.length;
                        for (e = 0; e !== n; i.push(t[e++]));
                        return i
                    }, r = function (t, e, i) {
                        var n, r, o = t.cycle;
                        for (n in o)r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                        delete t.cycle
                    }, o = function (t, e, n) {
                        i.call(this, t, e, n), this._cycle = 0, this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._dirty = !0, this.render = o.prototype.render
                    }, a = i._internals, s = a.isSelector, l = a.isArray, c = o.prototype = i.to({}, .1, {}), u = [];
                    o.version = "1.19.1", c.constructor = o, c.kill()._gc = !1, o.killTweensOf = o.killDelayedCallsTo = i.killTweensOf, o.getTweensOf = i.getTweensOf, o.lagSmoothing = i.lagSmoothing, o.ticker = i.ticker, o.render = i.render, c.invalidate = function () {
                        return this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), i.prototype.invalidate.call(this)
                    }, c.updateTo = function (t, e) {
                        var n, r = this.ratio, o = this.vars.immediateRender || t.immediateRender;
                        for (n in e && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay)), t)this.vars[n] = t[n];
                        if (this._initted || o)if (e) this._initted = !1, o && this.render(0, !0, !0); else if (this._gc && this._enabled(!0, !1), this._notifyPluginsOfEnabled && this._firstPT && i._onPluginEvent("_onDisable", this), this._time / this._duration > .998) {
                            var a = this._totalTime;
                            this.render(0, !0, !1), this._initted = !1, this.render(a, !0, !1)
                        } else if (this._initted = !1, this._init(), this._time > 0 || o)for (var s, l = 1 / (1 - r), c = this._firstPT; c;)s = c.s + c.c, c.c *= l, c.s = s - c.c, c = c._next;
                        return this
                    }, c.render = function (t, e, i) {
                        this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
                        var n, r, o, s, l, c, u, h, d = this._dirty ? this.totalDuration() : this._totalDuration,
                            p = this._time, f = this._totalTime, m = this._cycle, g = this._duration,
                            v = this._rawPrevTime;
                        if (t >= d - 1e-7 && t >= 0 ? (this._totalTime = d, this._cycle = this._repeat, this._yoyo && 0 != (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = g, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (n = !0, r = "onComplete", i = i || this._timeline.autoRemoveChildren), 0 === g && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0), (v < 0 || t <= 0 && t >= -1e-7 || 1e-10 === v && "isPause" !== this.data) && v !== t && (i = !0, v > 1e-10 && (r = "onReverseComplete")), this._rawPrevTime = h = !e || t || v === t ? t : 1e-10)) : t < 1e-7 ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== f || 0 === g && v > 0) && (r = "onReverseComplete", n = this._reversed), t < 0 && (this._active = !1, 0 === g && (this._initted || !this.vars.lazy || i) && (v >= 0 && (i = !0), this._rawPrevTime = h = !e || t || v === t ? t : 1e-10)), this._initted || (i = !0)) : (this._totalTime = this._time = t, 0 !== this._repeat && (s = g + this._repeatDelay, this._cycle = this._totalTime / s >> 0, 0 !== this._cycle && this._cycle === this._totalTime / s && f <= t && this._cycle--, this._time = this._totalTime - this._cycle * s, this._yoyo && 0 != (1 & this._cycle) && (this._time = g - this._time), this._time > g ? this._time = g : this._time < 0 && (this._time = 0)), this._easeType ? (l = this._time / g, c = this._easeType, u = this._easePower, (1 === c || 3 === c && l >= .5) && (l = 1 - l), 3 === c && (l *= 2), 1 === u ? l *= l : 2 === u ? l *= l * l : 3 === u ? l *= l * l * l : 4 === u && (l *= l * l * l * l), 1 === c ? this.ratio = 1 - l : 2 === c ? this.ratio = l : this._time / g < .5 ? this.ratio = l / 2 : this.ratio = 1 - l / 2) : this.ratio = this._ease.getRatio(this._time / g)), p !== this._time || i || m !== this._cycle) {
                            if (!this._initted) {
                                if (this._init(), !this._initted || this._gc)return;
                                if (!i && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration))return this._time = p, this._totalTime = f, this._rawPrevTime = v, this._cycle = m, a.lazyTweens.push(this), void(this._lazy = [t, e]);
                                this._time && !n ? this.ratio = this._ease.getRatio(this._time / g) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                            }
                            for (!1 !== this._lazy && (this._lazy = !1), this._active || !this._paused && this._time !== p && t >= 0 && (this._active = !0), 0 === f && (2 === this._initted && t > 0 && this._init(), this._startAt && (t >= 0 ? this._startAt.render(t, e, i) : r || (r = "_dummyGS")), this.vars.onStart && (0 === this._totalTime && 0 !== g || e || this._callback("onStart"))), o = this._firstPT; o;)o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                            this._onUpdate && (t < 0 && this._startAt && this._startTime && this._startAt.render(t, e, i), e || (this._totalTime !== f || r) && this._callback("onUpdate")), this._cycle !== m && (e || this._gc || this.vars.onRepeat && this._callback("onRepeat")), r && (this._gc && !i || (t < 0 && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(t, e, i), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[r] && this._callback(r), 0 === g && 1e-10 === this._rawPrevTime && 1e-10 !== h && (this._rawPrevTime = 0)))
                        } else f !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate"))
                    }, o.to = function (t, e, i) {
                        return new o(t, e, i)
                    }, o.from = function (t, e, i) {
                        return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new o(t, e, i)
                    }, o.fromTo = function (t, e, i, n) {
                        return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new o(t, e, n)
                    }, o.staggerTo = o.allTo = function (t, e, a, c, h, d, p) {
                        c = c || 0;
                        var f, m, g, v, y = 0, _ = [], x = function () {
                            a.onComplete && a.onComplete.apply(a.onCompleteScope || this, arguments), h.apply(p || a.callbackScope || this, d || u)
                        }, b = a.cycle, w = a.startAt && a.startAt.cycle;
                        for (l(t) || ("string" == typeof t && (t = i.selector(t) || t), s(t) && (t = n(t))), t = t || [], c < 0 && ((t = n(t)).reverse(), c *= -1), f = t.length - 1, g = 0; g <= f; g++) {
                            for (v in m = {}, a)m[v] = a[v];
                            if (b && (r(m, t, g), null != m.duration && (e = m.duration, delete m.duration)), w) {
                                for (v in w = m.startAt = {}, a.startAt)w[v] = a.startAt[v];
                                r(m.startAt, t, g)
                            }
                            m.delay = y + (m.delay || 0), g === f && h && (m.onComplete = x), _[g] = new o(t[g], e, m), y += c
                        }
                        return _
                    }, o.staggerFrom = o.allFrom = function (t, e, i, n, r, a, s) {
                        return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, o.staggerTo(t, e, i, n, r, a, s)
                    }, o.staggerFromTo = o.allFromTo = function (t, e, i, n, r, a, s, l) {
                        return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, o.staggerTo(t, e, n, r, a, s, l)
                    }, o.delayedCall = function (t, e, i, n, r) {
                        return new o(e, 0, {
                            delay: 0,
                            onComplete: e,
                            onCompleteParams: i,
                            callbackScope: n,
                            onReverseComplete: e,
                            onReverseCompleteParams: i,
                            immediateRender: !1,
                            useFrames: r,
                            overwrite: 0
                        })
                    }, o.set = function (t, e) {
                        return new o(t, 0, e)
                    }, o.isTweening = function (t) {
                        return i.getTweensOf(t, !0).length > 0
                    };
                    var h = function (t, e) {
                        for (var n = [], r = 0, o = t._first; o;)o instanceof i ? n[r++] = o : (e && (n[r++] = o), r = (n = n.concat(h(o, e))).length), o = o._next;
                        return n
                    }, d = o.getAllTweens = function (e) {
                        return h(t._rootTimeline, e).concat(h(t._rootFramesTimeline, e))
                    };
                    o.killAll = function (t, i, n, r) {
                        null == i && (i = !0), null == n && (n = !0);
                        var o, a, s, l = d(0 != r), c = l.length, u = i && n && r;
                        for (s = 0; s < c; s++)a = l[s], (u || a instanceof e || (o = a.target === a.vars.onComplete) && n || i && !o) && (t ? a.totalTime(a._reversed ? 0 : a.totalDuration()) : a._enabled(!1, !1))
                    }, o.killChildTweensOf = function (t, e) {
                        if (null != t) {
                            var r, c, u, h, d, p = a.tweenLookup;
                            if ("string" == typeof t && (t = i.selector(t) || t), s(t) && (t = n(t)), l(t))for (h = t.length; --h > -1;)o.killChildTweensOf(t[h], e); else {
                                for (u in r = [], p)for (c = p[u].target.parentNode; c;)c === t && (r = r.concat(p[u].tweens)), c = c.parentNode;
                                for (d = r.length, h = 0; h < d; h++)e && r[h].totalTime(r[h].totalDuration()), r[h]._enabled(!1, !1)
                            }
                        }
                    };
                    var p = function (t, i, n, r) {
                        i = !1 !== i, n = !1 !== n;
                        for (var o, a, s = d(r = !1 !== r), l = i && n && r, c = s.length; --c > -1;)a = s[c], (l || a instanceof e || (o = a.target === a.vars.onComplete) && n || i && !o) && a.paused(t)
                    };
                    return o.pauseAll = function (t, e, i) {
                        p(!0, t, e, i)
                    }, o.resumeAll = function (t, e, i) {
                        p(!1, t, e, i)
                    }, o.globalTimeScale = function (e) {
                        var n = t._rootTimeline, r = i.ticker.time;
                        return arguments.length ? (e = e || 1e-10, n._startTime = r - (r - n._startTime) * n._timeScale / e, n = t._rootFramesTimeline, r = i.ticker.frame, n._startTime = r - (r - n._startTime) * n._timeScale / e, n._timeScale = t._rootTimeline._timeScale = e, e) : n._timeScale
                    }, c.progress = function (t, e) {
                        return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
                    }, c.totalProgress = function (t, e) {
                        return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
                    }, c.time = function (t, e) {
                        return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                    }, c.duration = function (e) {
                        return arguments.length ? t.prototype.duration.call(this, e) : this._duration
                    }, c.totalDuration = function (t) {
                        return arguments.length ? -1 === this._repeat ? this : this.duration((t - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration)
                    }, c.repeat = function (t) {
                        return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                    }, c.repeatDelay = function (t) {
                        return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                    }, c.yoyo = function (t) {
                        return arguments.length ? (this._yoyo = t, this) : this._yoyo
                    }, o
                }, !0), i._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (t, e, n) {
                    var r = function (t) {
                            e.call(this, t), this._labels = {}, this.autoRemoveChildren = !0 === this.vars.autoRemoveChildren, this.smoothChildTiming = !0 === this.vars.smoothChildTiming, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
                            var i, n, r = this.vars;
                            for (n in r)i = r[n], l(i) && -1 !== i.join("").indexOf("{self}") && (r[n] = this._swapSelfInParams(i));
                            l(r.tweens) && this.add(r.tweens, 0, r.align, r.stagger)
                        }, o = n._internals, a = r._internals = {}, s = o.isSelector, l = o.isArray, c = o.lazyTweens,
                        u = o.lazyRender, h = i._gsDefine.globals, d = function (t) {
                            var e, i = {};
                            for (e in t)i[e] = t[e];
                            return i
                        }, p = function (t, e, i) {
                            var n, r, o = t.cycle;
                            for (n in o)r = o[n], t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
                            delete t.cycle
                        }, f = a.pauseCallback = function () {
                        }, m = function (t) {
                            var e, i = [], n = t.length;
                            for (e = 0; e !== n; i.push(t[e++]));
                            return i
                        }, g = r.prototype = new e;
                    return r.version = "1.19.1", g.constructor = r, g.kill()._gc = g._forcingPlayhead = g._hasPause = !1, g.to = function (t, e, i, r) {
                        var o = i.repeat && h.TweenMax || n;
                        return e ? this.add(new o(t, e, i), r) : this.set(t, i, r)
                    }, g.from = function (t, e, i, r) {
                        return this.add((i.repeat && h.TweenMax || n).from(t, e, i), r)
                    }, g.fromTo = function (t, e, i, r, o) {
                        var a = r.repeat && h.TweenMax || n;
                        return e ? this.add(a.fromTo(t, e, i, r), o) : this.set(t, r, o)
                    }, g.staggerTo = function (t, e, i, o, a, l, c, u) {
                        var h, f, g = new r({
                            onComplete: l,
                            onCompleteParams: c,
                            callbackScope: u,
                            smoothChildTiming: this.smoothChildTiming
                        }), v = i.cycle;
                        for ("string" == typeof t && (t = n.selector(t) || t), s(t = t || []) && (t = m(t)), (o = o || 0) < 0 && ((t = m(t)).reverse(), o *= -1), f = 0; f < t.length; f++)(h = d(i)).startAt && (h.startAt = d(h.startAt), h.startAt.cycle && p(h.startAt, t, f)), v && (p(h, t, f), null != h.duration && (e = h.duration, delete h.duration)), g.to(t[f], e, h, f * o);
                        return this.add(g, a)
                    }, g.staggerFrom = function (t, e, i, n, r, o, a, s) {
                        return i.immediateRender = 0 != i.immediateRender, i.runBackwards = !0, this.staggerTo(t, e, i, n, r, o, a, s)
                    }, g.staggerFromTo = function (t, e, i, n, r, o, a, s, l) {
                        return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, this.staggerTo(t, e, n, r, o, a, s, l)
                    }, g.call = function (t, e, i, r) {
                        return this.add(n.delayedCall(0, t, e, i), r)
                    }, g.set = function (t, e, i) {
                        return i = this._parseTimeOrLabel(i, 0, !0), null == e.immediateRender && (e.immediateRender = i === this._time && !this._paused), this.add(new n(t, 0, e), i)
                    }, r.exportRoot = function (t, e) {
                        null == (t = t || {}).smoothChildTiming && (t.smoothChildTiming = !0);
                        var i, o, a = new r(t), s = a._timeline;
                        for (null == e && (e = !0), s._remove(a, !0), a._startTime = 0, a._rawPrevTime = a._time = a._totalTime = s._time, i = s._first; i;)o = i._next, e && i instanceof n && i.target === i.vars.onComplete || a.add(i, i._startTime - i._delay), i = o;
                        return s.add(a, 0), a
                    }, g.add = function (i, o, a, s) {
                        var c, u, h, d, p, f;
                        if ("number" != typeof o && (o = this._parseTimeOrLabel(o, 0, !0, i)), !(i instanceof t)) {
                            if (i instanceof Array || i && i.push && l(i)) {
                                for (a = a || "normal", s = s || 0, c = o, u = i.length, h = 0; h < u; h++)l(d = i[h]) && (d = new r({tweens: d})), this.add(d, c), "string" != typeof d && "function" != typeof d && ("sequence" === a ? c = d._startTime + d.totalDuration() / d._timeScale : "start" === a && (d._startTime -= d.delay())), c += s;
                                return this._uncache(!0)
                            }
                            if ("string" == typeof i)return this.addLabel(i, o);
                            if ("function" != typeof i)throw"Cannot add " + i + " into the timeline; it is not a tween, timeline, function, or string.";
                            i = n.delayedCall(0, i)
                        }
                        if (e.prototype.add.call(this, i, o), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())for (f = (p = this).rawTime() > i._startTime; p._timeline;)f && p._timeline.smoothChildTiming ? p.totalTime(p._totalTime, !0) : p._gc && p._enabled(!0, !1), p = p._timeline;
                        return this
                    }, g.remove = function (e) {
                        if (e instanceof t) {
                            this._remove(e, !1);
                            var i = e._timeline = e.vars.useFrames ? t._rootFramesTimeline : t._rootTimeline;
                            return e._startTime = (e._paused ? e._pauseTime : i._time) - (e._reversed ? e.totalDuration() - e._totalTime : e._totalTime) / e._timeScale, this
                        }
                        if (e instanceof Array || e && e.push && l(e)) {
                            for (var n = e.length; --n > -1;)this.remove(e[n]);
                            return this
                        }
                        return "string" == typeof e ? this.removeLabel(e) : this.kill(null, e)
                    }, g._remove = function (t, i) {
                        return e.prototype._remove.call(this, t, i), this._last ? this._time > this.duration() && (this._time = this._duration, this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this
                    }, g.append = function (t, e) {
                        return this.add(t, this._parseTimeOrLabel(null, e, !0, t))
                    }, g.insert = g.insertMultiple = function (t, e, i, n) {
                        return this.add(t, e || 0, i, n)
                    }, g.appendMultiple = function (t, e, i, n) {
                        return this.add(t, this._parseTimeOrLabel(null, e, !0, t), i, n)
                    }, g.addLabel = function (t, e) {
                        return this._labels[t] = this._parseTimeOrLabel(e), this
                    }, g.addPause = function (t, e, i, r) {
                        var o = n.delayedCall(0, f, i, r || this);
                        return o.vars.onComplete = o.vars.onReverseComplete = e, o.data = "isPause", this._hasPause = !0, this.add(o, t)
                    }, g.removeLabel = function (t) {
                        return delete this._labels[t], this
                    }, g.getLabelTime = function (t) {
                        return null != this._labels[t] ? this._labels[t] : -1
                    }, g._parseTimeOrLabel = function (e, i, n, r) {
                        var o;
                        if (r instanceof t && r.timeline === this) this.remove(r); else if (r && (r instanceof Array || r.push && l(r)))for (o = r.length; --o > -1;)r[o] instanceof t && r[o].timeline === this && this.remove(r[o]);
                        if ("string" == typeof i)return this._parseTimeOrLabel(i, n && "number" == typeof e && null == this._labels[i] ? e - this.duration() : 0, n);
                        if (i = i || 0, "string" != typeof e || !isNaN(e) && null == this._labels[e]) null == e && (e = this.duration()); else {
                            if (-1 === (o = e.indexOf("=")))return null == this._labels[e] ? n ? this._labels[e] = this.duration() + i : i : this._labels[e] + i;
                            i = parseInt(e.charAt(o - 1) + "1", 10) * Number(e.substr(o + 1)), e = o > 1 ? this._parseTimeOrLabel(e.substr(0, o - 1), 0, n) : this.duration()
                        }
                        return Number(e) + i
                    }, g.seek = function (t, e) {
                        return this.totalTime("number" == typeof t ? t : this._parseTimeOrLabel(t), !1 !== e)
                    }, g.stop = function () {
                        return this.paused(!0)
                    }, g.gotoAndPlay = function (t, e) {
                        return this.play(t, e)
                    }, g.gotoAndStop = function (t, e) {
                        return this.pause(t, e)
                    }, g.render = function (t, e, i) {
                        this._gc && this._enabled(!0, !1);
                        var n, r, o, a, s, l, h, d = this._dirty ? this.totalDuration() : this._totalDuration,
                            p = this._time, f = this._startTime, m = this._timeScale, g = this._paused;
                        if (t >= d - 1e-7 && t >= 0) this._totalTime = this._time = d, this._reversed || this._hasPausedChild() || (r = !0, a = "onComplete", s = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || this._rawPrevTime < 0 || 1e-10 === this._rawPrevTime) && this._rawPrevTime !== t && this._first && (s = !0, this._rawPrevTime > 1e-10 && (a = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, t = d + 1e-4; else if (t < 1e-7)if (this._totalTime = this._time = 0, (0 !== p || 0 === this._duration && 1e-10 !== this._rawPrevTime && (this._rawPrevTime > 0 || t < 0 && this._rawPrevTime >= 0)) && (a = "onReverseComplete", r = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (s = r = !0, a = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (s = !0), this._rawPrevTime = t; else {
                            if (this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, 0 === t && r)for (n = this._first; n && 0 === n._startTime;)n._duration || (r = !1), n = n._next;
                            t = 0, this._initted || (s = !0)
                        } else {
                            if (this._hasPause && !this._forcingPlayhead && !e) {
                                if (t >= p)for (n = this._first; n && n._startTime <= t && !l;)n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (l = n), n = n._next; else for (n = this._last; n && n._startTime >= t && !l;)n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (l = n), n = n._prev;
                                l && (this._time = t = l._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                            }
                            this._totalTime = this._time = this._rawPrevTime = t
                        }
                        if (this._time !== p && this._first || i || s || l) {
                            if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== p && t > 0 && (this._active = !0), 0 === p && this.vars.onStart && (0 === this._time && this._duration || e || this._callback("onStart")), (h = this._time) >= p)for (n = this._first; n && (o = n._next, h === this._time && (!this._paused || g));)(n._active || n._startTime <= h && !n._paused && !n._gc) && (l === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)), n = o; else for (n = this._last; n && (o = n._prev, h === this._time && (!this._paused || g));) {
                                if (n._active || n._startTime <= p && !n._paused && !n._gc) {
                                    if (l === n) {
                                        for (l = n._prev; l && l.endTime() > this._time;)l.render(l._reversed ? l.totalDuration() - (t - l._startTime) * l._timeScale : (t - l._startTime) * l._timeScale, e, i), l = l._prev;
                                        l = null, this.pause()
                                    }
                                    n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                                }
                                n = o
                            }
                            this._onUpdate && (e || (c.length && u(), this._callback("onUpdate"))), a && (this._gc || f !== this._startTime && m === this._timeScale || (0 === this._time || d >= this.totalDuration()) && (r && (c.length && u(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[a] && this._callback(a)))
                        }
                    }, g._hasPausedChild = function () {
                        for (var t = this._first; t;) {
                            if (t._paused || t instanceof r && t._hasPausedChild())return !0;
                            t = t._next
                        }
                        return !1
                    }, g.getChildren = function (t, e, i, r) {
                        r = r || -9999999999;
                        for (var o = [], a = this._first, s = 0; a;)a._startTime < r || (a instanceof n ? !1 !== e && (o[s++] = a) : (!1 !== i && (o[s++] = a), !1 !== t && (s = (o = o.concat(a.getChildren(!0, e, i))).length))), a = a._next;
                        return o
                    }, g.getTweensOf = function (t, e) {
                        var i, r, o = this._gc, a = [], s = 0;
                        for (o && this._enabled(!0, !0), r = (i = n.getTweensOf(t)).length; --r > -1;)(i[r].timeline === this || e && this._contains(i[r])) && (a[s++] = i[r]);
                        return o && this._enabled(!1, !0), a
                    }, g.recent = function () {
                        return this._recent
                    }, g._contains = function (t) {
                        for (var e = t.timeline; e;) {
                            if (e === this)return !0;
                            e = e.timeline
                        }
                        return !1
                    }, g.shiftChildren = function (t, e, i) {
                        i = i || 0;
                        for (var n, r = this._first, o = this._labels; r;)r._startTime >= i && (r._startTime += t), r = r._next;
                        if (e)for (n in o)o[n] >= i && (o[n] += t);
                        return this._uncache(!0)
                    }, g._kill = function (t, e) {
                        if (!t && !e)return this._enabled(!1, !1);
                        for (var i = e ? this.getTweensOf(e) : this.getChildren(!0, !0, !1), n = i.length, r = !1; --n > -1;)i[n]._kill(t, e) && (r = !0);
                        return r
                    }, g.clear = function (t) {
                        var e = this.getChildren(!1, !0, !0), i = e.length;
                        for (this._time = this._totalTime = 0; --i > -1;)e[i]._enabled(!1, !1);
                        return !1 !== t && (this._labels = {}), this._uncache(!0)
                    }, g.invalidate = function () {
                        for (var e = this._first; e;)e.invalidate(), e = e._next;
                        return t.prototype.invalidate.call(this)
                    }, g._enabled = function (t, i) {
                        if (t === this._gc)for (var n = this._first; n;)n._enabled(t, !0), n = n._next;
                        return e.prototype._enabled.call(this, t, i)
                    }, g.totalTime = function (e, i, n) {
                        this._forcingPlayhead = !0;
                        var r = t.prototype.totalTime.apply(this, arguments);
                        return this._forcingPlayhead = !1, r
                    }, g.duration = function (t) {
                        return arguments.length ? (0 !== this.duration() && 0 !== t && this.timeScale(this._duration / t), this) : (this._dirty && this.totalDuration(), this._duration)
                    }, g.totalDuration = function (t) {
                        if (!arguments.length) {
                            if (this._dirty) {
                                for (var e, i, n = 0, r = this._last, o = 999999999999; r;)e = r._prev, r._dirty && r.totalDuration(), r._startTime > o && this._sortChildren && !r._paused ? this.add(r, r._startTime - r._delay) : o = r._startTime, r._startTime < 0 && !r._paused && (n -= r._startTime, this._timeline.smoothChildTiming && (this._startTime += r._startTime / this._timeScale), this.shiftChildren(-r._startTime, !1, -9999999999), o = 0), (i = r._startTime + r._totalDuration / r._timeScale) > n && (n = i), r = e;
                                this._duration = this._totalDuration = n, this._dirty = !1
                            }
                            return this._totalDuration
                        }
                        return t && this.totalDuration() ? this.timeScale(this._totalDuration / t) : this
                    }, g.paused = function (e) {
                        if (!e)for (var i = this._first, n = this._time; i;)i._startTime === n && "isPause" === i.data && (i._rawPrevTime = 0), i = i._next;
                        return t.prototype.paused.apply(this, arguments)
                    }, g.usesFrames = function () {
                        for (var e = this._timeline; e._timeline;)e = e._timeline;
                        return e === t._rootFramesTimeline
                    }, g.rawTime = function (t) {
                        return t && (this._paused || this._repeat && this.time() > 0 && this.totalProgress() < 1) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(t) - this._startTime) * this._timeScale
                    }, r
                }, !0), i._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function (t, e, n) {
                    var r = function (e) {
                            t.call(this, e), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = !0 === this.vars.yoyo, this._dirty = !0
                        }, o = e._internals, a = o.lazyTweens, s = o.lazyRender, l = i._gsDefine.globals,
                        c = new n(null, null, 1, 0), u = r.prototype = new t;
                    return u.constructor = r, u.kill()._gc = !1, r.version = "1.19.1", u.invalidate = function () {
                        return this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), t.prototype.invalidate.call(this)
                    }, u.addCallback = function (t, i, n, r) {
                        return this.add(e.delayedCall(0, t, n, r), i)
                    }, u.removeCallback = function (t, e) {
                        if (t)if (null == e) this._kill(null, t); else for (var i = this.getTweensOf(t, !1), n = i.length, r = this._parseTimeOrLabel(e); --n > -1;)i[n]._startTime === r && i[n]._enabled(!1, !1);
                        return this
                    }, u.removePause = function (e) {
                        return this.removeCallback(t._internals.pauseCallback, e)
                    }, u.tweenTo = function (t, i) {
                        i = i || {};
                        var n, r, o, a = {ease: c, useFrames: this.usesFrames(), immediateRender: !1},
                            s = i.repeat && l.TweenMax || e;
                        for (r in i)a[r] = i[r];
                        return a.time = this._parseTimeOrLabel(t), n = Math.abs(Number(a.time) - this._time) / this._timeScale || .001, o = new s(this, n, a), a.onStart = function () {
                            o.target.paused(!0), o.vars.time !== o.target.time() && n === o.duration() && o.duration(Math.abs(o.vars.time - o.target.time()) / o.target._timeScale), i.onStart && i.onStart.apply(i.onStartScope || i.callbackScope || o, i.onStartParams || [])
                        }, o
                    }, u.tweenFromTo = function (t, e, i) {
                        i = i || {}, t = this._parseTimeOrLabel(t), i.startAt = {
                            onComplete: this.seek,
                            onCompleteParams: [t],
                            callbackScope: this
                        }, i.immediateRender = !1 !== i.immediateRender;
                        var n = this.tweenTo(e, i);
                        return n.duration(Math.abs(n.vars.time - t) / this._timeScale || .001)
                    }, u.render = function (t, e, i) {
                        this._gc && this._enabled(!0, !1);
                        var n, r, o, l, c, u, h, d, p = this._dirty ? this.totalDuration() : this._totalDuration,
                            f = this._duration, m = this._time, g = this._totalTime, v = this._startTime,
                            y = this._timeScale, _ = this._rawPrevTime, x = this._paused, b = this._cycle;
                        if (t >= p - 1e-7 && t >= 0) this._locked || (this._totalTime = p, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (r = !0, l = "onComplete", c = !!this._timeline.autoRemoveChildren, 0 === this._duration && (t <= 0 && t >= -1e-7 || _ < 0 || 1e-10 === _) && _ !== t && this._first && (c = !0, _ > 1e-10 && (l = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : 1e-10, this._yoyo && 0 != (1 & this._cycle) ? this._time = t = 0 : (this._time = f, t = f + 1e-4); else if (t < 1e-7)if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== m || 0 === f && 1e-10 !== _ && (_ > 0 || t < 0 && _ >= 0) && !this._locked) && (l = "onReverseComplete", r = this._reversed), t < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (c = r = !0, l = "onReverseComplete") : _ >= 0 && this._first && (c = !0), this._rawPrevTime = t; else {
                            if (this._rawPrevTime = f || !e || t || this._rawPrevTime === t ? t : 1e-10, 0 === t && r)for (n = this._first; n && 0 === n._startTime;)n._duration || (r = !1), n = n._next;
                            t = 0, this._initted || (c = !0)
                        } else if (0 === f && _ < 0 && (c = !0), this._time = this._rawPrevTime = t, this._locked || (this._totalTime = t, 0 !== this._repeat && (u = f + this._repeatDelay, this._cycle = this._totalTime / u >> 0, 0 !== this._cycle && this._cycle === this._totalTime / u && g <= t && this._cycle--, this._time = this._totalTime - this._cycle * u, this._yoyo && 0 != (1 & this._cycle) && (this._time = f - this._time), this._time > f ? (this._time = f, t = f + 1e-4) : this._time < 0 ? this._time = t = 0 : t = this._time)), this._hasPause && !this._forcingPlayhead && !e && t < f) {
                            if ((t = this._time) >= m || this._repeat && b !== this._cycle)for (n = this._first; n && n._startTime <= t && !h;)n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (h = n), n = n._next; else for (n = this._last; n && n._startTime >= t && !h;)n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (h = n), n = n._prev;
                            h && (this._time = t = h._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                        }
                        if (this._cycle !== b && !this._locked) {
                            var w = this._yoyo && 0 != (1 & b), S = w === (this._yoyo && 0 != (1 & this._cycle)),
                                M = this._totalTime, T = this._cycle, A = this._rawPrevTime, P = this._time;
                            if (this._totalTime = b * f, this._cycle < b ? w = !w : this._totalTime += f, this._time = m, this._rawPrevTime = 0 === f ? _ - 1e-4 : _, this._cycle = b, this._locked = !0, m = w ? 0 : f, this.render(m, e, 0 === f), e || this._gc || this.vars.onRepeat && (this._cycle = T, this._locked = !1, this._callback("onRepeat")), m !== this._time)return;
                            if (S && (this._cycle = b, this._locked = !0, m = w ? f + 1e-4 : -1e-4, this.render(m, !0, !1)), this._locked = !1, this._paused && !x)return;
                            this._time = P, this._totalTime = M, this._cycle = T, this._rawPrevTime = A
                        }
                        if (this._time !== m && this._first || i || c || h) {
                            if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== g && t > 0 && (this._active = !0), 0 === g && this.vars.onStart && (0 === this._totalTime && this._totalDuration || e || this._callback("onStart")), (d = this._time) >= m)for (n = this._first; n && (o = n._next, d === this._time && (!this._paused || x));)(n._active || n._startTime <= this._time && !n._paused && !n._gc) && (h === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)), n = o; else for (n = this._last; n && (o = n._prev, d === this._time && (!this._paused || x));) {
                                if (n._active || n._startTime <= m && !n._paused && !n._gc) {
                                    if (h === n) {
                                        for (h = n._prev; h && h.endTime() > this._time;)h.render(h._reversed ? h.totalDuration() - (t - h._startTime) * h._timeScale : (t - h._startTime) * h._timeScale, e, i), h = h._prev;
                                        h = null, this.pause()
                                    }
                                    n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                                }
                                n = o
                            }
                            this._onUpdate && (e || (a.length && s(), this._callback("onUpdate"))), l && (this._locked || this._gc || v !== this._startTime && y === this._timeScale || (0 === this._time || p >= this.totalDuration()) && (r && (a.length && s(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[l] && this._callback(l)))
                        } else g !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate"))
                    }, u.getActive = function (t, e, i) {
                        null == t && (t = !0), null == e && (e = !0), null == i && (i = !1);
                        var n, r, o = [], a = this.getChildren(t, e, i), s = 0, l = a.length;
                        for (n = 0; n < l; n++)(r = a[n]).isActive() && (o[s++] = r);
                        return o
                    }, u.getLabelAfter = function (t) {
                        t || 0 !== t && (t = this._time);
                        var e, i = this.getLabelsArray(), n = i.length;
                        for (e = 0; e < n; e++)if (i[e].time > t)return i[e].name;
                        return null
                    }, u.getLabelBefore = function (t) {
                        null == t && (t = this._time);
                        for (var e = this.getLabelsArray(), i = e.length; --i > -1;)if (e[i].time < t)return e[i].name;
                        return null
                    }, u.getLabelsArray = function () {
                        var t, e = [], i = 0;
                        for (t in this._labels)e[i++] = {time: this._labels[t], name: t};
                        return e.sort(function (t, e) {
                            return t.time - e.time
                        }), e
                    }, u.invalidate = function () {
                        return this._locked = !1, t.prototype.invalidate.call(this)
                    }, u.progress = function (t, e) {
                        return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
                    }, u.totalProgress = function (t, e) {
                        return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
                    }, u.totalDuration = function (e) {
                        return arguments.length ? -1 !== this._repeat && e ? this.timeScale(this.totalDuration() / e) : this : (this._dirty && (t.prototype.totalDuration.call(this), this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
                    }, u.time = function (t, e) {
                        return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time
                    }, u.repeat = function (t) {
                        return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat
                    }, u.repeatDelay = function (t) {
                        return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay
                    }, u.yoyo = function (t) {
                        return arguments.length ? (this._yoyo = t, this) : this._yoyo
                    }, u.currentLabel = function (t) {
                        return arguments.length ? this.seek(t, !0) : this.getLabelBefore(this._time + 1e-8)
                    }, r
                }, !0), t = 180 / Math.PI, e = [], n = [], r = [], o = {}, a = i._gsDefine.globals, s = function (t, e, i, n) {
                    i === n && (i = n - (n - e) / 1e6), t === e && (e = t + (i - t) / 1e6), this.a = t, this.b = e, this.c = i, this.d = n, this.da = n - t, this.ca = i - t, this.ba = e - t
                }, l = function (t, e, i, n) {
                    var r = {a: t}, o = {}, a = {}, s = {c: n}, l = (t + e) / 2, c = (e + i) / 2, u = (i + n) / 2,
                        h = (l + c) / 2, d = (c + u) / 2, p = (d - h) / 8;
                    return r.b = l + (t - l) / 4, o.b = h + p, r.c = o.a = (r.b + o.b) / 2, o.c = a.a = (h + d) / 2, a.b = d - p, s.b = u + (n - u) / 4, a.c = s.a = (a.b + s.b) / 2, [r, o, a, s]
                }, c = function (t, i, o, a, s) {
                    var c, u, h, d, p, f, m, g, v, y, _, x, b, w = t.length - 1, S = 0, M = t[0].a;
                    for (c = 0; c < w; c++)u = (p = t[S]).a, h = p.d, d = t[S + 1].d, s ? (_ = e[c], b = ((x = n[c]) + _) * i * .25 / (a ? .5 : r[c] || .5), g = h - ((f = h - (h - u) * (a ? .5 * i : 0 !== _ ? b / _ : 0)) + (((m = h + (d - h) * (a ? .5 * i : 0 !== x ? b / x : 0)) - f) * (3 * _ / (_ + x) + .5) / 4 || 0))) : g = h - ((f = h - (h - u) * i * .5) + (m = h + (d - h) * i * .5)) / 2, f += g, m += g, p.c = v = f, p.b = 0 !== c ? M : M = p.a + .6 * (p.c - p.a), p.da = h - u, p.ca = v - u, p.ba = M - u, o ? (y = l(u, M, v, h), t.splice(S, 1, y[0], y[1], y[2], y[3]), S += 4) : S++, M = m;
                    (p = t[S]).b = M, p.c = M + .4 * (p.d - M), p.da = p.d - p.a, p.ca = p.c - p.a, p.ba = M - p.a, o && (y = l(p.a, M, p.c, p.d), t.splice(S, 1, y[0], y[1], y[2], y[3]))
                }, u = function (t, i, r, o) {
                    var a, l, c, u, h, d, p = [];
                    if (o)for (l = (t = [o].concat(t)).length; --l > -1;)"string" == typeof(d = t[l][i]) && "=" === d.charAt(1) && (t[l][i] = o[i] + Number(d.charAt(0) + d.substr(2)));
                    if ((a = t.length - 2) < 0)return p[0] = new s(t[0][i], 0, 0, t[a < -1 ? 0 : 1][i]), p;
                    for (l = 0; l < a; l++)c = t[l][i], u = t[l + 1][i], p[l] = new s(c, 0, 0, u), r && (h = t[l + 2][i], e[l] = (e[l] || 0) + (u - c) * (u - c), n[l] = (n[l] || 0) + (h - u) * (h - u));
                    return p[l] = new s(t[l][i], 0, 0, t[l + 1][i]), p
                }, h = function (t, i, a, s, l, h) {
                    var d, p, f, m, g, v, y, _, x = {}, b = [], w = h || t[0];
                    for (p in l = "string" == typeof l ? "," + l + "," : ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,", null == i && (i = 1), t[0])b.push(p);
                    if (t.length > 1) {
                        for (_ = t[t.length - 1], y = !0, d = b.length; --d > -1;)if (p = b[d], Math.abs(w[p] - _[p]) > .05) {
                            y = !1;
                            break
                        }
                        y && (t = t.concat(), h && t.unshift(h), t.push(t[1]), h = t[t.length - 3])
                    }
                    for (e.length = n.length = r.length = 0, d = b.length; --d > -1;)p = b[d], o[p] = -1 !== l.indexOf("," + p + ","), x[p] = u(t, p, o[p], h);
                    for (d = e.length; --d > -1;)e[d] = Math.sqrt(e[d]), n[d] = Math.sqrt(n[d]);
                    if (!s) {
                        for (d = b.length; --d > -1;)if (o[p])for (v = (f = x[b[d]]).length - 1, m = 0; m < v; m++)g = f[m + 1].da / n[m] + f[m].da / e[m] || 0, r[m] = (r[m] || 0) + g * g;
                        for (d = r.length; --d > -1;)r[d] = Math.sqrt(r[d])
                    }
                    for (d = b.length, m = a ? 4 : 1; --d > -1;)f = x[p = b[d]], c(f, i, a, s, o[p]), y && (f.splice(0, m), f.splice(f.length - m, m));
                    return x
                }, d = function (t, e, i) {
                    for (var n, r, o, a, s, l, c, u, h, d, p, f = 1 / i, m = t.length; --m > -1;)for (o = (d = t[m]).a, a = d.d - o, s = d.c - o, l = d.b - o, n = r = 0, u = 1; u <= i; u++)n = r - (r = ((c = f * u) * c * a + 3 * (h = 1 - c) * (c * s + h * l)) * c), e[p = m * i + u - 1] = (e[p] || 0) + n * n
                }, p = i._gsDefine.plugin({
                    propName: "bezier",
                    priority: -1,
                    version: "1.3.7",
                    API: 2,
                    global: !0,
                    init: function (t, e, i) {
                        this._target = t, e instanceof Array && (e = {values: e}), this._func = {}, this._mod = {}, this._props = [], this._timeRes = null == e.timeResolution ? 6 : parseInt(e.timeResolution, 10);
                        var n, r, o, a, l, c = e.values || [], u = {}, p = c[0],
                            f = e.autoRotate || i.vars.orientToBezier;
                        for (n in this._autoRotate = f ? f instanceof Array ? f : [["x", "y", "rotation", !0 === f ? 0 : Number(f) || 0]] : null, p)this._props.push(n);
                        for (o = this._props.length; --o > -1;)n = this._props[o], this._overwriteProps.push(n), r = this._func[n] = "function" == typeof t[n], u[n] = r ? t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)]() : parseFloat(t[n]), l || u[n] !== c[0][n] && (l = u);
                        if (this._beziers = "cubic" !== e.type && "quadratic" !== e.type && "soft" !== e.type ? h(c, isNaN(e.curviness) ? 1 : e.curviness, !1, "thruBasic" === e.type, e.correlate, l) : function (t, e, i) {
                                var n, r, o, a, l, c, u, h, d, p, f, m = {}, g = "cubic" === (e = e || "soft") ? 3 : 2,
                                    v = "soft" === e, y = [];
                                if (v && i && (t = [i].concat(t)), null == t || t.length < g + 1)throw"invalid Bezier data";
                                for (d in t[0])y.push(d);
                                for (c = y.length; --c > -1;) {
                                    for (m[d = y[c]] = l = [], p = 0, h = t.length, u = 0; u < h; u++)n = null == i ? t[u][d] : "string" == typeof(f = t[u][d]) && "=" === f.charAt(1) ? i[d] + Number(f.charAt(0) + f.substr(2)) : Number(f), v && u > 1 && u < h - 1 && (l[p++] = (n + l[p - 2]) / 2), l[p++] = n;
                                    for (h = p - g + 1, p = 0, u = 0; u < h; u += g)n = l[u], r = l[u + 1], o = l[u + 2], a = 2 === g ? 0 : l[u + 3], l[p++] = f = 3 === g ? new s(n, r, o, a) : new s(n, (2 * r + n) / 3, (2 * r + o) / 3, o);
                                    l.length = p
                                }
                                return m
                            }(c, e.type, u), this._segCount = this._beziers[n].length, this._timeRes) {
                            var m = function (t, e) {
                                var i, n, r, o, a = [], s = [], l = 0, c = 0, u = (e = e >> 0 || 6) - 1, h = [], p = [];
                                for (i in t)d(t[i], a, e);
                                for (r = a.length, n = 0; n < r; n++)l += Math.sqrt(a[n]), p[o = n % e] = l, o === u && (c += l, h[o = n / e >> 0] = p, s[o] = c, l = 0, p = []);
                                return {length: c, lengths: s, segments: h}
                            }(this._beziers, this._timeRes);
                            this._length = m.length, this._lengths = m.lengths, this._segments = m.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length
                        }
                        if (f = this._autoRotate)for (this._initialRotations = [], f[0] instanceof Array || (this._autoRotate = f = [f]), o = f.length; --o > -1;) {
                            for (a = 0; a < 3; a++)n = f[o][a], this._func[n] = "function" == typeof t[n] && t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)];
                            n = f[o][2], this._initialRotations[o] = (this._func[n] ? this._func[n].call(this._target) : this._target[n]) || 0, this._overwriteProps.push(n)
                        }
                        return this._startRatio = i.vars.runBackwards ? 1 : 0, !0
                    },
                    set: function (e) {
                        var i, n, r, o, a, s, l, c, u, h, d = this._segCount, p = this._func, f = this._target,
                            m = e !== this._startRatio;
                        if (this._timeRes) {
                            if (u = this._lengths, h = this._curSeg, e *= this._length, r = this._li, e > this._l2 && r < d - 1) {
                                for (c = d - 1; r < c && (this._l2 = u[++r]) <= e;);
                                this._l1 = u[r - 1], this._li = r, this._curSeg = h = this._segments[r], this._s2 = h[this._s1 = this._si = 0]
                            } else if (e < this._l1 && r > 0) {
                                for (; r > 0 && (this._l1 = u[--r]) >= e;);
                                0 === r && e < this._l1 ? this._l1 = 0 : r++, this._l2 = u[r], this._li = r, this._curSeg = h = this._segments[r], this._s1 = h[(this._si = h.length - 1) - 1] || 0, this._s2 = h[this._si]
                            }
                            if (i = r, e -= this._l1, r = this._si, e > this._s2 && r < h.length - 1) {
                                for (c = h.length - 1; r < c && (this._s2 = h[++r]) <= e;);
                                this._s1 = h[r - 1], this._si = r
                            } else if (e < this._s1 && r > 0) {
                                for (; r > 0 && (this._s1 = h[--r]) >= e;);
                                0 === r && e < this._s1 ? this._s1 = 0 : r++, this._s2 = h[r], this._si = r
                            }
                            s = (r + (e - this._s1) / (this._s2 - this._s1)) * this._prec || 0
                        } else s = (e - (i = e < 0 ? 0 : e >= 1 ? d - 1 : d * e >> 0) * (1 / d)) * d;
                        for (n = 1 - s, r = this._props.length; --r > -1;)o = this._props[r], l = (s * s * (a = this._beziers[o][i]).da + 3 * n * (s * a.ca + n * a.ba)) * s + a.a, this._mod[o] && (l = this._mod[o](l, f)), p[o] ? f[o](l) : f[o] = l;
                        if (this._autoRotate) {
                            var g, v, y, _, x, b, w, S = this._autoRotate;
                            for (r = S.length; --r > -1;)o = S[r][2], b = S[r][3] || 0, w = !0 === S[r][4] ? 1 : t, a = this._beziers[S[r][0]], g = this._beziers[S[r][1]], a && g && (a = a[i], g = g[i], v = a.a + (a.b - a.a) * s, v += ((_ = a.b + (a.c - a.b) * s) - v) * s, _ += (a.c + (a.d - a.c) * s - _) * s, y = g.a + (g.b - g.a) * s, y += ((x = g.b + (g.c - g.b) * s) - y) * s, x += (g.c + (g.d - g.c) * s - x) * s, l = m ? Math.atan2(x - y, _ - v) * w + b : this._initialRotations[r], this._mod[o] && (l = this._mod[o](l, f)), p[o] ? f[o](l) : f[o] = l)
                        }
                    }
                }), f = p.prototype, p.bezierThrough = h, p.cubicToQuadratic = l, p._autoCSS = !0, p.quadraticToCubic = function (t, e, i) {
                    return new s(t, (2 * e + t) / 3, (2 * e + i) / 3, i)
                }, p._cssRegister = function () {
                    var t = a.CSSPlugin;
                    if (t) {
                        var e = t._internals, i = e._parseToProxy, n = e._setPluginRatio, r = e.CSSPropTween;
                        e._registerComplexSpecialProp("bezier", {
                            parser: function (t, e, o, a, s, l) {
                                e instanceof Array && (e = {values: e}), l = new p;
                                var c, u, h, d = e.values, f = d.length - 1, m = [], g = {};
                                if (f < 0)return s;
                                for (c = 0; c <= f; c++)h = i(t, d[c], a, s, l, f !== c), m[c] = h.end;
                                for (u in e)g[u] = e[u];
                                return g.values = m, (s = new r(t, "bezier", 0, 0, h.pt, 2)).data = h, s.plugin = l, s.setRatio = n, 0 === g.autoRotate && (g.autoRotate = !0), !g.autoRotate || g.autoRotate instanceof Array || (c = !0 === g.autoRotate ? 0 : Number(g.autoRotate), g.autoRotate = null != h.end.left ? [["left", "top", "rotation", c, !1]] : null != h.end.x && [["x", "y", "rotation", c, !1]]), g.autoRotate && (a._transform || a._enableTransforms(!1), h.autoRotate = a._target._gsTransform, h.proxy.rotation = h.autoRotate.rotation || 0, a._overwriteProps.push("rotation")), l._onInitTween(h.proxy, g, a._tween), s
                            }
                        })
                    }
                }, f._mod = function (t) {
                    for (var e, i = this._overwriteProps, n = i.length; --n > -1;)(e = t[i[n]]) && "function" == typeof e && (this._mod[i[n]] = e)
                }, f._kill = function (t) {
                    var e, i, n = this._props;
                    for (e in this._beziers)if (e in t)for (delete this._beziers[e], delete this._func[e], i = n.length; --i > -1;)n[i] === e && n.splice(i, 1);
                    if (n = this._autoRotate)for (i = n.length; --i > -1;)t[n[i][2]] && n.splice(i, 1);
                    return this._super._kill.call(this, t)
                }, i._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function (t, e) {
                    var n, r, o, a, s = function () {
                        t.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = s.prototype.setRatio
                    }, l = i._gsDefine.globals, c = {}, u = s.prototype = new t("css");
                    u.constructor = s, s.version = "1.19.1", s.API = 2, s.defaultTransformPerspective = 0, s.defaultSkewType = "compensated", s.defaultSmoothOrigin = !0, u = "px", s.suffixMap = {
                        top: u,
                        right: u,
                        bottom: u,
                        left: u,
                        width: u,
                        height: u,
                        fontSize: u,
                        padding: u,
                        margin: u,
                        perspective: u,
                        lineHeight: ""
                    };
                    var h, d, p, f, m, g, v, y, _ = /(?:\-|\.|\b)(\d|\.|e\-)+/g,
                        x = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                        b = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                        w = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, S = /(?:\d|\-|\+|=|#|\.)*/g,
                        M = /opacity *= *([^)]*)/i, T = /opacity:([^;]*)/i, A = /alpha\(opacity *=.+?\)/i,
                        P = /^(rgb|hsl)/, E = /([A-Z])/g, C = /-([a-z])/gi,
                        O = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, L = function (t, e) {
                            return e.toUpperCase()
                        }, k = /(?:Left|Right|Width)/i, I = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
                        N = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, R = /,(?=[^\)]*(?:\(|$))/gi,
                        D = /[\s,\(]/i, z = Math.PI / 180, j = 180 / Math.PI, F = {}, B = {style: {}},
                        U = i.document || {
                                createElement: function () {
                                    return B
                                }
                            }, G = function (t, e) {
                            return U.createElementNS ? U.createElementNS(e || "http://www.w3.org/1999/xhtml", t) : U.createElement(t)
                        }, $ = G("div"), V = G("img"), W = s._internals = {_specialProps: c},
                        H = (i.navigator || {}).userAgent || "", X = function () {
                            var t = H.indexOf("Android"), e = G("a");
                            return p = -1 !== H.indexOf("Safari") && -1 === H.indexOf("Chrome") && (-1 === t || parseFloat(H.substr(t + 8, 2)) > 3), m = p && parseFloat(H.substr(H.indexOf("Version/") + 8, 2)) < 6, f = -1 !== H.indexOf("Firefox"), (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H)) && (g = parseFloat(RegExp.$1)), !!e && (e.style.cssText = "top:1px;opacity:.55;", /^0.55/.test(e.style.opacity))
                        }(), q = function (t) {
                            return M.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
                        }, Y = function (t) {
                            i.console
                        }, J = "", Z = "", K = function (t, e) {
                            var i, n, r = (e = e || $).style;
                            if (void 0 !== r[t])return t;
                            for (t = t.charAt(0).toUpperCase() + t.substr(1), i = ["O", "Moz", "ms", "Ms", "Webkit"], n = 5; --n > -1 && void 0 === r[i[n] + t];);
                            return n >= 0 ? (J = "-" + (Z = 3 === n ? "ms" : i[n]).toLowerCase() + "-", Z + t) : null
                        }, Q = U.defaultView ? U.defaultView.getComputedStyle : function () {
                        }, tt = s.getStyle = function (t, e, i, n, r) {
                            var o;
                            return X || "opacity" !== e ? (!n && t.style[e] ? o = t.style[e] : (i = i || Q(t)) ? o = i[e] || i.getPropertyValue(e) || i.getPropertyValue(e.replace(E, "-$1").toLowerCase()) : t.currentStyle && (o = t.currentStyle[e]), null == r || o && "none" !== o && "auto" !== o && "auto auto" !== o ? o : r) : q(t)
                        }, et = W.convertToPixels = function (t, i, n, r, o) {
                            if ("px" === r || !r)return n;
                            if ("auto" === r || !n)return 0;
                            var a, l, c, u = k.test(i), h = t, d = $.style, p = n < 0, f = 1 === n;
                            if (p && (n = -n), f && (n *= 100), "%" === r && -1 !== i.indexOf("border")) a = n / 100 * (u ? t.clientWidth : t.clientHeight); else {
                                if (d.cssText = "border:0 solid red;position:" + tt(t, "position") + ";line-height:0;", "%" !== r && h.appendChild && "v" !== r.charAt(0) && "rem" !== r) d[u ? "borderLeftWidth" : "borderTopWidth"] = n + r; else {
                                    if (l = (h = t.parentNode || U.body)._gsCache, c = e.ticker.frame, l && u && l.time === c)return l.width * n / 100;
                                    d[u ? "width" : "height"] = n + r
                                }
                                h.appendChild($), a = parseFloat($[u ? "offsetWidth" : "offsetHeight"]), h.removeChild($), u && "%" === r && !1 !== s.cacheWidths && ((l = h._gsCache = h._gsCache || {}).time = c, l.width = a / n * 100), 0 !== a || o || (a = et(t, i, n, r, !0))
                            }
                            return f && (a /= 100), p ? -a : a
                        }, it = W.calculateOffset = function (t, e, i) {
                            if ("absolute" !== tt(t, "position", i))return 0;
                            var n = "left" === e ? "Left" : "Top", r = tt(t, "margin" + n, i);
                            return t["offset" + n] - (et(t, e, parseFloat(r), r.replace(S, "")) || 0)
                        }, nt = function (t, e) {
                            var i, n, r, o = {};
                            if (e = e || Q(t, null))if (i = e.length)for (; --i > -1;)-1 !== (r = e[i]).indexOf("-transform") && Nt !== r || (o[r.replace(C, L)] = e.getPropertyValue(r)); else for (i in e)-1 !== i.indexOf("Transform") && It !== i || (o[i] = e[i]); else if (e = t.currentStyle || t.style)for (i in e)"string" == typeof i && void 0 === o[i] && (o[i.replace(C, L)] = e[i]);
                            return X || (o.opacity = q(t)), n = Xt(t, e, !1), o.rotation = n.rotation, o.skewX = n.skewX, o.scaleX = n.scaleX, o.scaleY = n.scaleY, o.x = n.x, o.y = n.y, Dt && (o.z = n.z, o.rotationX = n.rotationX, o.rotationY = n.rotationY, o.scaleZ = n.scaleZ), o.filters && delete o.filters, o
                        }, rt = function (t, e, i, n, r) {
                            var o, a, s, l = {}, c = t.style;
                            for (a in i)"cssText" !== a && "length" !== a && isNaN(a) && (e[a] !== (o = i[a]) || r && r[a]) && -1 === a.indexOf("Origin") && ("number" != typeof o && "string" != typeof o || (l[a] = "auto" !== o || "left" !== a && "top" !== a ? "" !== o && "auto" !== o && "none" !== o || "string" != typeof e[a] || "" === e[a].replace(w, "") ? o : 0 : it(t, a), void 0 !== c[a] && (s = new _t(c, a, c[a], s))));
                            if (n)for (a in n)"className" !== a && (l[a] = n[a]);
                            return {difs: l, firstMPT: s}
                        }, ot = {width: ["Left", "Right"], height: ["Top", "Bottom"]},
                        at = ["marginLeft", "marginRight", "marginTop", "marginBottom"], st = function (t, e, i) {
                            if ("svg" === (t.nodeName + "").toLowerCase())return (i || Q(t))[e] || 0;
                            if (t.getCTM && Vt(t))return t.getBBox()[e] || 0;
                            var n = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight), r = ot[e], o = r.length;
                            for (i = i || Q(t, null); --o > -1;)n -= parseFloat(tt(t, "padding" + r[o], i, !0)) || 0, n -= parseFloat(tt(t, "border" + r[o] + "Width", i, !0)) || 0;
                            return n
                        }, lt = function (t, e) {
                            if ("contain" === t || "auto" === t || "auto auto" === t)return t + " ";
                            null != t && "" !== t || (t = "0 0");
                            var i, n = t.split(" "),
                                r = -1 !== t.indexOf("left") ? "0%" : -1 !== t.indexOf("right") ? "100%" : n[0],
                                o = -1 !== t.indexOf("top") ? "0%" : -1 !== t.indexOf("bottom") ? "100%" : n[1];
                            if (n.length > 3 && !e) {
                                for (n = t.split(", ").join(",").split(","), t = [], i = 0; i < n.length; i++)t.push(lt(n[i]));
                                return t.join(",")
                            }
                            return null == o ? o = "center" === r ? "50%" : "0" : "center" === o && (o = "50%"), ("center" === r || isNaN(parseFloat(r)) && -1 === (r + "").indexOf("=")) && (r = "50%"), t = r + " " + o + (n.length > 2 ? " " + n[2] : ""), e && (e.oxp = -1 !== r.indexOf("%"), e.oyp = -1 !== o.indexOf("%"), e.oxr = "=" === r.charAt(1), e.oyr = "=" === o.charAt(1), e.ox = parseFloat(r.replace(w, "")), e.oy = parseFloat(o.replace(w, "")), e.v = t), e || t
                        }, ct = function (t, e) {
                            return "function" == typeof t && (t = t(y, v)), "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e) || 0
                        }, ut = function (t, e) {
                            return "function" == typeof t && (t = t(y, v)), null == t ? e : "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) + e : parseFloat(t) || 0
                        }, ht = function (t, e, i, n) {
                            var r, o, a, s, l;
                            return "function" == typeof t && (t = t(y, v)), null == t ? s = e : "number" == typeof t ? s = t : (r = 360, o = t.split("_"), a = ((l = "=" === t.charAt(1)) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(o[0].substr(2)) : parseFloat(o[0])) * (-1 === t.indexOf("rad") ? 1 : j) - (l ? 0 : e), o.length && (n && (n[i] = e + a), -1 !== t.indexOf("short") && (a %= r) !== a % (r / 2) && (a = a < 0 ? a + r : a - r), -1 !== t.indexOf("_cw") && a < 0 ? a = (a + 9999999999 * r) % r - (a / r | 0) * r : -1 !== t.indexOf("ccw") && a > 0 && (a = (a - 9999999999 * r) % r - (a / r | 0) * r)), s = e + a), s < 1e-6 && s > -1e-6 && (s = 0), s
                        }, dt = {
                            aqua: [0, 255, 255],
                            lime: [0, 255, 0],
                            silver: [192, 192, 192],
                            black: [0, 0, 0],
                            maroon: [128, 0, 0],
                            teal: [0, 128, 128],
                            blue: [0, 0, 255],
                            navy: [0, 0, 128],
                            white: [255, 255, 255],
                            fuchsia: [255, 0, 255],
                            olive: [128, 128, 0],
                            yellow: [255, 255, 0],
                            orange: [255, 165, 0],
                            gray: [128, 128, 128],
                            purple: [128, 0, 128],
                            green: [0, 128, 0],
                            red: [255, 0, 0],
                            pink: [255, 192, 203],
                            cyan: [0, 255, 255],
                            transparent: [255, 255, 255, 0]
                        }, pt = function (t, e, i) {
                            return 255 * (6 * (t = t < 0 ? t + 1 : t > 1 ? t - 1 : t) < 1 ? e + (i - e) * t * 6 : t < .5 ? i : 3 * t < 2 ? e + (i - e) * (2 / 3 - t) * 6 : e) + .5 | 0
                        }, ft = s.parseColor = function (t, e) {
                            var i, n, r, o, a, s, l, c, u, h, d;
                            if (t)if ("number" == typeof t) i = [t >> 16, t >> 8 & 255, 255 & t]; else {
                                if ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)), dt[t]) i = dt[t]; else if ("#" === t.charAt(0)) 4 === t.length && (t = "#" + (n = t.charAt(1)) + n + (r = t.charAt(2)) + r + (o = t.charAt(3)) + o), i = [(t = parseInt(t.substr(1), 16)) >> 16, t >> 8 & 255, 255 & t]; else if ("hsl" === t.substr(0, 3))if (i = d = t.match(_), e) {
                                    if (-1 !== t.indexOf("="))return t.match(x)
                                } else a = Number(i[0]) % 360 / 360, s = Number(i[1]) / 100, n = 2 * (l = Number(i[2]) / 100) - (r = l <= .5 ? l * (s + 1) : l + s - l * s), i.length > 3 && (i[3] = Number(t[3])), i[0] = pt(a + 1 / 3, n, r), i[1] = pt(a, n, r), i[2] = pt(a - 1 / 3, n, r); else i = t.match(_) || dt.transparent;
                                i[0] = Number(i[0]), i[1] = Number(i[1]), i[2] = Number(i[2]), i.length > 3 && (i[3] = Number(i[3]))
                            } else i = dt.black;
                            return e && !d && (n = i[0] / 255, r = i[1] / 255, o = i[2] / 255, l = ((c = Math.max(n, r, o)) + (u = Math.min(n, r, o))) / 2, c === u ? a = s = 0 : (h = c - u, s = l > .5 ? h / (2 - c - u) : h / (c + u), a = c === n ? (r - o) / h + (r < o ? 6 : 0) : c === r ? (o - n) / h + 2 : (n - r) / h + 4, a *= 60), i[0] = a + .5 | 0, i[1] = 100 * s + .5 | 0, i[2] = 100 * l + .5 | 0), i
                        }, mt = function (t, e) {
                            var i, n, r, o = t.match(gt) || [], a = 0, s = o.length ? "" : t;
                            for (i = 0; i < o.length; i++)n = o[i], a += (r = t.substr(a, t.indexOf(n, a) - a)).length + n.length, 3 === (n = ft(n, e)).length && n.push(1), s += r + (e ? "hsla(" + n[0] + "," + n[1] + "%," + n[2] + "%," + n[3] : "rgba(" + n.join(",")) + ")";
                            return s + t.substr(a)
                        }, gt = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
                    for (u in dt)gt += "|" + u + "\\b";
                    gt = new RegExp(gt + ")", "gi"), s.colorStringFilter = function (t) {
                        var e, i = t[0] + t[1];
                        gt.test(i) && (e = -1 !== i.indexOf("hsl(") || -1 !== i.indexOf("hsla("), t[0] = mt(t[0], e), t[1] = mt(t[1], e)), gt.lastIndex = 0
                    }, e.defaultStringFilter || (e.defaultStringFilter = s.colorStringFilter);
                    var vt = function (t, e, i, n) {
                        if (null == t)return function (t) {
                            return t
                        };
                        var r, o = e ? (t.match(gt) || [""])[0] : "", a = t.split(o).join("").match(b) || [],
                            s = t.substr(0, t.indexOf(a[0])), l = ")" === t.charAt(t.length - 1) ? ")" : "",
                            c = -1 !== t.indexOf(" ") ? " " : ",", u = a.length, h = u > 0 ? a[0].replace(_, "") : "";
                        return u ? r = e ? function (t) {
                            var e, d, p, f;
                            if ("number" == typeof t) t += h; else if (n && R.test(t)) {
                                for (f = t.replace(R, "|").split("|"), p = 0; p < f.length; p++)f[p] = r(f[p]);
                                return f.join(",")
                            }
                            if (e = (t.match(gt) || [o])[0], p = (d = t.split(e).join("").match(b) || []).length, u > p--)for (; ++p < u;)d[p] = i ? d[(p - 1) / 2 | 0] : a[p];
                            return s + d.join(c) + c + e + l + (-1 !== t.indexOf("inset") ? " inset" : "")
                        } : function (t) {
                            var e, o, d;
                            if ("number" == typeof t) t += h; else if (n && R.test(t)) {
                                for (o = t.replace(R, "|").split("|"), d = 0; d < o.length; d++)o[d] = r(o[d]);
                                return o.join(",")
                            }
                            if (d = (e = t.match(b) || []).length, u > d--)for (; ++d < u;)e[d] = i ? e[(d - 1) / 2 | 0] : a[d];
                            return s + e.join(c) + l
                        } : function (t) {
                            return t
                        }
                    }, yt = function (t) {
                        return t = t.split(","), function (e, i, n, r, o, a, s) {
                            var l, c = (i + "").split(" ");
                            for (s = {}, l = 0; l < 4; l++)s[t[l]] = c[l] = c[l] || c[(l - 1) / 2 >> 0];
                            return r.parse(e, s, o, a)
                        }
                    }, _t = (W._setPluginRatio = function (t) {
                        this.plugin.setRatio(t);
                        for (var e, i, n, r, o, a = this.data, s = a.proxy, l = a.firstMPT; l;)e = s[l.v], l.r ? e = Math.round(e) : e < 1e-6 && e > -1e-6 && (e = 0), l.t[l.p] = e, l = l._next;
                        if (a.autoRotate && (a.autoRotate.rotation = a.mod ? a.mod(s.rotation, this.t) : s.rotation), 1 === t || 0 === t)for (l = a.firstMPT, o = 1 === t ? "e" : "b"; l;) {
                            if ((i = l.t).type) {
                                if (1 === i.type) {
                                    for (r = i.xs0 + i.s + i.xs1, n = 1; n < i.l; n++)r += i["xn" + n] + i["xs" + (n + 1)];
                                    i[o] = r
                                }
                            } else i[o] = i.s + i.xs0;
                            l = l._next
                        }
                    }, function (t, e, i, n, r) {
                        this.t = t, this.p = e, this.v = i, this.r = r, n && (n._prev = this, this._next = n)
                    }), xt = (W._parseToProxy = function (t, e, i, n, r, o) {
                        var a, s, l, c, u, h = n, d = {}, p = {}, f = i._transform, m = F;
                        for (i._transform = null, F = e, n = u = i.parse(t, e, n, r), F = m, o && (i._transform = f, h && (h._prev = null, h._prev && (h._prev._next = null))); n && n !== h;) {
                            if (n.type <= 1 && (p[s = n.p] = n.s + n.c, d[s] = n.s, o || (c = new _t(n, "s", s, c, n.r), n.c = 0), 1 === n.type))for (a = n.l; --a > 0;)l = "xn" + a, p[s = n.p + "_" + l] = n.data[l], d[s] = n[l], o || (c = new _t(n, l, s, c, n.rxp[l]));
                            n = n._next
                        }
                        return {proxy: d, end: p, firstMPT: c, pt: u}
                    }, W.CSSPropTween = function (t, e, i, r, o, s, l, c, u, h, d) {
                        this.t = t, this.p = e, this.s = i, this.c = r, this.n = l || e, t instanceof xt || a.push(this.n), this.r = c, this.type = s || 0, u && (this.pr = u, n = !0), this.b = void 0 === h ? i : h, this.e = void 0 === d ? i + r : d, o && (this._next = o, o._prev = this)
                    }), bt = function (t, e, i, n, r, o) {
                        var a = new xt(t, e, i, n - i, r, -1, o);
                        return a.b = i, a.e = a.xs0 = n, a
                    }, wt = s.parseComplex = function (t, e, i, n, r, o, a, l, c, u) {
                        i = i || o || "", "function" == typeof n && (n = n(y, v)), a = new xt(t, e, 0, 0, a, u ? 2 : 1, null, !1, l, i, n), n += "", r && gt.test(n + i) && (n = [i, n], s.colorStringFilter(n), i = n[0], n = n[1]);
                        var d, p, f, m, g, b, w, S, M, T, A, P, E, C = i.split(", ").join(",").split(" "),
                            O = n.split(", ").join(",").split(" "), L = C.length, k = !1 !== h;
                        for (-1 === n.indexOf(",") && -1 === i.indexOf(",") || (C = C.join(" ").replace(R, ", ").split(" "), O = O.join(" ").replace(R, ", ").split(" "), L = C.length), L !== O.length && (L = (C = (o || "").split(" ")).length), a.plugin = c, a.setRatio = u, gt.lastIndex = 0, d = 0; d < L; d++)if (m = C[d], g = O[d], (S = parseFloat(m)) || 0 === S) a.appendXtra("", S, ct(g, S), g.replace(x, ""), k && -1 !== g.indexOf("px"), !0); else if (r && gt.test(m)) P = ")" + ((P = g.indexOf(")") + 1) ? g.substr(P) : ""), E = -1 !== g.indexOf("hsl") && X, m = ft(m, E), g = ft(g, E), (M = m.length + g.length > 6) && !X && 0 === g[3] ? (a["xs" + a.l] += a.l ? " transparent" : "transparent", a.e = a.e.split(O[d]).join("transparent")) : (X || (M = !1), E ? a.appendXtra(M ? "hsla(" : "hsl(", m[0], ct(g[0], m[0]), ",", !1, !0).appendXtra("", m[1], ct(g[1], m[1]), "%,", !1).appendXtra("", m[2], ct(g[2], m[2]), M ? "%," : "%" + P, !1) : a.appendXtra(M ? "rgba(" : "rgb(", m[0], g[0] - m[0], ",", !0, !0).appendXtra("", m[1], g[1] - m[1], ",", !0).appendXtra("", m[2], g[2] - m[2], M ? "," : P, !0), M && (m = m.length < 4 ? 1 : m[3], a.appendXtra("", m, (g.length < 4 ? 1 : g[3]) - m, P, !1))), gt.lastIndex = 0; else if (b = m.match(_)) {
                            if (!(w = g.match(x)) || w.length !== b.length)return a;
                            for (f = 0, p = 0; p < b.length; p++)A = b[p], T = m.indexOf(A, f), a.appendXtra(m.substr(f, T - f), Number(A), ct(w[p], A), "", k && "px" === m.substr(T + A.length, 2), 0 === p), f = T + A.length;
                            a["xs" + a.l] += m.substr(f)
                        } else a["xs" + a.l] += a.l || a["xs" + a.l] ? " " + g : g;
                        if (-1 !== n.indexOf("=") && a.data) {
                            for (P = a.xs0 + a.data.s, d = 1; d < a.l; d++)P += a["xs" + d] + a.data["xn" + d];
                            a.e = P + a["xs" + d]
                        }
                        return a.l || (a.type = -1, a.xs0 = a.e), a.xfirst || a
                    }, St = 9;
                    for ((u = xt.prototype).l = u.pr = 0; --St > 0;)u["xn" + St] = 0, u["xs" + St] = "";
                    u.xs0 = "", u._next = u._prev = u.xfirst = u.data = u.plugin = u.setRatio = u.rxp = null, u.appendXtra = function (t, e, i, n, r, o) {
                        var a = this, s = a.l;
                        return a["xs" + s] += o && (s || a["xs" + s]) ? " " + t : t || "", i || 0 === s || a.plugin ? (a.l++, a.type = a.setRatio ? 2 : 1, a["xs" + a.l] = n || "", s > 0 ? (a.data["xn" + s] = e + i, a.rxp["xn" + s] = r, a["xn" + s] = e, a.plugin || (a.xfirst = new xt(a, "xn" + s, e, i, a.xfirst || a, 0, a.n, r, a.pr), a.xfirst.xs0 = 0), a) : (a.data = {s: e + i}, a.rxp = {}, a.s = e, a.c = i, a.r = r, a)) : (a["xs" + s] += e + (n || ""), a)
                    };
                    var Mt = function (t, e) {
                        e = e || {}, this.p = e.prefix && K(t) || t, c[t] = c[this.p] = this, this.format = e.formatter || vt(e.defaultValue, e.color, e.collapsible, e.multi), e.parser && (this.parse = e.parser), this.clrs = e.color, this.multi = e.multi, this.keyword = e.keyword, this.dflt = e.defaultValue, this.pr = e.priority || 0
                    }, Tt = W._registerComplexSpecialProp = function (t, e, i) {
                        "object" != typeof e && (e = {parser: i});
                        var n, r = t.split(","), o = e.defaultValue;
                        for (i = i || [o], n = 0; n < r.length; n++)e.prefix = 0 === n && e.prefix, e.defaultValue = i[n] || o, new Mt(r[n], e)
                    }, At = W._registerPluginProp = function (t) {
                        if (!c[t]) {
                            var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                            Tt(t, {
                                parser: function (t, i, n, r, o, a, s) {
                                    var u = l.com.greensock.plugins[e];
                                    return u ? (u._cssRegister(), c[n].parse(t, i, n, r, o, a, s)) : (Y(), o)
                                }
                            })
                        }
                    };
                    (u = Mt.prototype).parseComplex = function (t, e, i, n, r, o) {
                        var a, s, l, c, u, h, d = this.keyword;
                        if (this.multi && (R.test(i) || R.test(e) ? (s = e.replace(R, "|").split("|"), l = i.replace(R, "|").split("|")) : d && (s = [e], l = [i])), l) {
                            for (c = l.length > s.length ? l.length : s.length, a = 0; a < c; a++)e = s[a] = s[a] || this.dflt, i = l[a] = l[a] || this.dflt, d && (u = e.indexOf(d)) !== (h = i.indexOf(d)) && (-1 === h ? s[a] = s[a].split(d).join("") : -1 === u && (s[a] += " " + d));
                            e = s.join(", "), i = l.join(", ")
                        }
                        return wt(t, this.p, e, i, this.clrs, this.dflt, n, this.pr, r, o)
                    }, u.parse = function (t, e, i, n, r, a, s) {
                        return this.parseComplex(t.style, this.format(tt(t, this.p, o, !1, this.dflt)), this.format(e), r, a)
                    }, s.registerSpecialProp = function (t, e, i) {
                        Tt(t, {
                            parser: function (t, n, r, o, a, s, l) {
                                var c = new xt(t, r, 0, 0, a, 2, r, !1, i);
                                return c.plugin = s, c.setRatio = e(t, n, o._tween, r), c
                            }, priority: i
                        })
                    }, s.useSVGTransformAttr = !0;
                    var Pt, Et, Ct, Ot, Lt,
                        kt = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),
                        It = K("transform"), Nt = J + "transform", Rt = K("transformOrigin"),
                        Dt = null !== K("perspective"), zt = W.Transform = function () {
                            this.perspective = parseFloat(s.defaultTransformPerspective) || 0, this.force3D = !(!1 === s.defaultForce3D || !Dt) && (s.defaultForce3D || "auto")
                        }, jt = i.SVGElement, Ft = function (t, e, i) {
                            var n, r = U.createElementNS("http://www.w3.org/2000/svg", t), o = /([a-z])([A-Z])/g;
                            for (n in i)r.setAttributeNS(null, n.replace(o, "$1-$2").toLowerCase(), i[n]);
                            return e.appendChild(r), r
                        }, Bt = U.documentElement || {},
                        Ut = (Lt = g || /Android/i.test(H) && !i.chrome, U.createElementNS && !Lt && (Et = Ft("svg", Bt), Ot = (Ct = Ft("rect", Et, {
                            width: 100,
                            height: 50,
                            x: 100
                        })).getBoundingClientRect().width, Ct.style[Rt] = "50% 50%", Ct.style[It] = "scaleX(0.5)", Lt = Ot === Ct.getBoundingClientRect().width && !(f && Dt), Bt.removeChild(Et)), Lt),
                        Gt = function (t, e, i, n, r, o) {
                            var a, l, c, u, h, d, p, f, m, g, v, y, _, x, b = t._gsTransform, w = Ht(t, !0);
                            b && (_ = b.xOrigin, x = b.yOrigin), (!n || (a = n.split(" ")).length < 2) && (0 === (p = t.getBBox()).x && 0 === p.y && p.width + p.height === 0 && (p = {
                                x: parseFloat(t.hasAttribute("x") ? t.getAttribute("x") : t.hasAttribute("cx") ? t.getAttribute("cx") : 0) || 0,
                                y: parseFloat(t.hasAttribute("y") ? t.getAttribute("y") : t.hasAttribute("cy") ? t.getAttribute("cy") : 0) || 0,
                                width: 0,
                                height: 0
                            }), a = [(-1 !== (e = lt(e).split(" "))[0].indexOf("%") ? parseFloat(e[0]) / 100 * p.width : parseFloat(e[0])) + p.x, (-1 !== e[1].indexOf("%") ? parseFloat(e[1]) / 100 * p.height : parseFloat(e[1])) + p.y]), i.xOrigin = u = parseFloat(a[0]), i.yOrigin = h = parseFloat(a[1]), n && w !== Wt && (d = w[0], p = w[1], f = w[2], m = w[3], g = w[4], v = w[5], (y = d * m - p * f) && (l = u * (m / y) + h * (-f / y) + (f * v - m * g) / y, c = u * (-p / y) + h * (d / y) - (d * v - p * g) / y, u = i.xOrigin = a[0] = l, h = i.yOrigin = a[1] = c)), b && (o && (i.xOffset = b.xOffset, i.yOffset = b.yOffset, b = i), r || !1 !== r && !1 !== s.defaultSmoothOrigin ? (l = u - _, c = h - x, b.xOffset += l * w[0] + c * w[2] - l, b.yOffset += l * w[1] + c * w[3] - c) : b.xOffset = b.yOffset = 0), o || t.setAttribute("data-svg-origin", a.join(" "))
                        }, $t = function (t) {
                            var e, i = G("svg", this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                                n = this.parentNode, r = this.nextSibling, o = this.style.cssText;
                            if (Bt.appendChild(i), i.appendChild(this), this.style.display = "block", t)try {
                                e = this.getBBox(), this._originalGetBBox = this.getBBox, this.getBBox = $t
                            } catch (t) {
                            } else this._originalGetBBox && (e = this._originalGetBBox());
                            return r ? n.insertBefore(this, r) : n.appendChild(this), Bt.removeChild(i), this.style.cssText = o, e
                        }, Vt = function (t) {
                            return !(!(jt && t.getCTM && function (t) {
                                try {
                                    return t.getBBox()
                                } catch (e) {
                                    return $t.call(t, !0)
                                }
                            }(t)) || t.parentNode && !t.ownerSVGElement)
                        }, Wt = [1, 0, 0, 1, 0, 0], Ht = function (t, e) {
                            var i, n, r, o, a, s, l = t._gsTransform || new zt, c = t.style;
                            if (It ? n = tt(t, Nt, null, !0) : t.currentStyle && (n = (n = t.currentStyle.filter.match(I)) && 4 === n.length ? [n[0].substr(4), Number(n[2].substr(4)), Number(n[1].substr(4)), n[3].substr(4), l.x || 0, l.y || 0].join(",") : ""), (i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n) && It && ((s = "none" === Q(t).display) || !t.parentNode) && (s && (o = c.display, c.display = "block"), t.parentNode || (a = 1, Bt.appendChild(t)), i = !(n = tt(t, Nt, null, !0)) || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, o ? c.display = o : s && Zt(c, "display"), a && Bt.removeChild(t)), (l.svg || t.getCTM && Vt(t)) && (i && -1 !== (c[It] + "").indexOf("matrix") && (n = c[It], i = 0), r = t.getAttribute("transform"), i && r && (-1 !== r.indexOf("matrix") ? (n = r, i = 0) : -1 !== r.indexOf("translate") && (n = "matrix(1,0,0,1," + r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")", i = 0))), i)return Wt;
                            for (r = (n || "").match(_) || [], St = r.length; --St > -1;)o = Number(r[St]), r[St] = (a = o - (o |= 0)) ? (1e5 * a + (a < 0 ? -.5 : .5) | 0) / 1e5 + o : o;
                            return e && r.length > 6 ? [r[0], r[1], r[4], r[5], r[12], r[13]] : r
                        }, Xt = W.getTransform = function (t, i, n, r) {
                            if (t._gsTransform && n && !r)return t._gsTransform;
                            var o, a, l, c, u, h, d = n && t._gsTransform || new zt, p = d.scaleX < 0,
                                f = Dt && (parseFloat(tt(t, Rt, i, !1, "0 0 0").split(" ")[2]) || d.zOrigin) || 0,
                                m = parseFloat(s.defaultTransformPerspective) || 0;
                            if (d.svg = !(!t.getCTM || !Vt(t)), d.svg && (Gt(t, tt(t, Rt, i, !1, "50% 50%") + "", d, t.getAttribute("data-svg-origin")), Pt = s.useSVGTransformAttr || Ut), (o = Ht(t)) !== Wt) {
                                if (16 === o.length) {
                                    var g, v, y, _, x, b = o[0], w = o[1], S = o[2], M = o[3], T = o[4], A = o[5], P = o[6],
                                        E = o[7], C = o[8], O = o[9], L = o[10], k = o[12], I = o[13], N = o[14], R = o[11],
                                        D = Math.atan2(P, L);
                                    d.zOrigin && (k = C * (N = -d.zOrigin) - o[12], I = O * N - o[13], N = L * N + d.zOrigin - o[14]), d.rotationX = D * j, D && (g = T * (_ = Math.cos(-D)) + C * (x = Math.sin(-D)), v = A * _ + O * x, y = P * _ + L * x, C = T * -x + C * _, O = A * -x + O * _, L = P * -x + L * _, R = E * -x + R * _, T = g, A = v, P = y), D = Math.atan2(-S, L), d.rotationY = D * j, D && (v = w * (_ = Math.cos(-D)) - O * (x = Math.sin(-D)), y = S * _ - L * x, O = w * x + O * _, L = S * x + L * _, R = M * x + R * _, b = g = b * _ - C * x, w = v, S = y), D = Math.atan2(w, b), d.rotation = D * j, D && (b = b * (_ = Math.cos(-D)) + T * (x = Math.sin(-D)), v = w * _ + A * x, A = w * -x + A * _, P = S * -x + P * _, w = v), d.rotationX && Math.abs(d.rotationX) + Math.abs(d.rotation) > 359.9 && (d.rotationX = d.rotation = 0, d.rotationY = 180 - d.rotationY), d.scaleX = (1e5 * Math.sqrt(b * b + w * w) + .5 | 0) / 1e5, d.scaleY = (1e5 * Math.sqrt(A * A + O * O) + .5 | 0) / 1e5, d.scaleZ = (1e5 * Math.sqrt(P * P + L * L) + .5 | 0) / 1e5, d.rotationX || d.rotationY ? d.skewX = 0 : (d.skewX = T || A ? Math.atan2(T, A) * j + d.rotation : d.skewX || 0, Math.abs(d.skewX) > 90 && Math.abs(d.skewX) < 270 && (p ? (d.scaleX *= -1, d.skewX += d.rotation <= 0 ? 180 : -180, d.rotation += d.rotation <= 0 ? 180 : -180) : (d.scaleY *= -1, d.skewX += d.skewX <= 0 ? 180 : -180))), d.perspective = R ? 1 / (R < 0 ? -R : R) : 0, d.x = k, d.y = I, d.z = N, d.svg && (d.x -= d.xOrigin - (d.xOrigin * b - d.yOrigin * T), d.y -= d.yOrigin - (d.yOrigin * w - d.xOrigin * A))
                                } else if (!Dt || r || !o.length || d.x !== o[4] || d.y !== o[5] || !d.rotationX && !d.rotationY) {
                                    var z = o.length >= 6, F = z ? o[0] : 1, B = o[1] || 0, U = o[2] || 0, G = z ? o[3] : 1;
                                    d.x = o[4] || 0, d.y = o[5] || 0, l = Math.sqrt(F * F + B * B), c = Math.sqrt(G * G + U * U), u = F || B ? Math.atan2(B, F) * j : d.rotation || 0, h = U || G ? Math.atan2(U, G) * j + u : d.skewX || 0, Math.abs(h) > 90 && Math.abs(h) < 270 && (p ? (l *= -1, h += u <= 0 ? 180 : -180, u += u <= 0 ? 180 : -180) : (c *= -1, h += h <= 0 ? 180 : -180)), d.scaleX = l, d.scaleY = c, d.rotation = u, d.skewX = h, Dt && (d.rotationX = d.rotationY = d.z = 0, d.perspective = m, d.scaleZ = 1), d.svg && (d.x -= d.xOrigin - (d.xOrigin * F + d.yOrigin * U), d.y -= d.yOrigin - (d.xOrigin * B + d.yOrigin * G))
                                }
                                for (a in d.zOrigin = f, d)d[a] < 2e-5 && d[a] > -2e-5 && (d[a] = 0)
                            }
                            return n && (t._gsTransform = d, d.svg && (Pt && t.style[It] ? e.delayedCall(.001, function () {
                                Zt(t.style, It)
                            }) : !Pt && t.getAttribute("transform") && e.delayedCall(.001, function () {
                                    t.removeAttribute("transform")
                                }))), d
                        }, qt = function (t) {
                            var e, i, n = this.data, r = -n.rotation * z, o = r + n.skewX * z,
                                a = (Math.cos(r) * n.scaleX * 1e5 | 0) / 1e5, s = (Math.sin(r) * n.scaleX * 1e5 | 0) / 1e5,
                                l = (Math.sin(o) * -n.scaleY * 1e5 | 0) / 1e5, c = (Math.cos(o) * n.scaleY * 1e5 | 0) / 1e5,
                                u = this.t.style, h = this.t.currentStyle;
                            if (h) {
                                i = s, s = -l, l = -i, e = h.filter, u.filter = "";
                                var d, p, f = this.t.offsetWidth, m = this.t.offsetHeight, v = "absolute" !== h.position,
                                    y = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + s + ", M21=" + l + ", M22=" + c,
                                    _ = n.x + f * n.xPercent / 100, x = n.y + m * n.yPercent / 100;
                                if (null != n.ox && (_ += (d = (n.oxp ? f * n.ox * .01 : n.ox) - f / 2) - (d * a + (p = (n.oyp ? m * n.oy * .01 : n.oy) - m / 2) * s), x += p - (d * l + p * c)), y += v ? ", Dx=" + ((d = f / 2) - (d * a + (p = m / 2) * s) + _) + ", Dy=" + (p - (d * l + p * c) + x) + ")" : ", sizingMethod='auto expand')", -1 !== e.indexOf("DXImageTransform.Microsoft.Matrix(") ? u.filter = e.replace(N, y) : u.filter = y + " " + e, 0 !== t && 1 !== t || 1 === a && 0 === s && 0 === l && 1 === c && (v && -1 === y.indexOf("Dx=0, Dy=0") || M.test(e) && 100 !== parseFloat(RegExp.$1) || -1 === e.indexOf(e.indexOf("Alpha")) && u.removeAttribute("filter")), !v) {
                                    var b, w, T, A = g < 8 ? 1 : -1;
                                    for (d = n.ieOffsetX || 0, p = n.ieOffsetY || 0, n.ieOffsetX = Math.round((f - ((a < 0 ? -a : a) * f + (s < 0 ? -s : s) * m)) / 2 + _), n.ieOffsetY = Math.round((m - ((c < 0 ? -c : c) * m + (l < 0 ? -l : l) * f)) / 2 + x), St = 0; St < 4; St++)T = (i = -1 !== (b = h[w = at[St]]).indexOf("px") ? parseFloat(b) : et(this.t, w, parseFloat(b), b.replace(S, "")) || 0) !== n[w] ? St < 2 ? -n.ieOffsetX : -n.ieOffsetY : St < 2 ? d - n.ieOffsetX : p - n.ieOffsetY, u[w] = (n[w] = Math.round(i - T * (0 === St || 2 === St ? 1 : A))) + "px"
                                }
                            }
                        }, Yt = W.set3DTransformRatio = W.setTransformRatio = function (t) {
                            var e, i, n, r, o, a, s, l, c, u, h, d, p, m, g, v, y, _, x, b, w, S = this.data,
                                M = this.t.style, T = S.rotation, A = S.rotationX, P = S.rotationY, E = S.scaleX,
                                C = S.scaleY, O = S.scaleZ, L = S.x, k = S.y, I = S.z, N = S.svg, R = S.perspective,
                                D = S.force3D, j = S.skewY, F = S.skewX;
                            if (j && (F += j, T += j), !((1 !== t && 0 !== t || "auto" !== D || this.tween._totalTime !== this.tween._totalDuration && this.tween._totalTime) && D || I || R || P || A || 1 !== O) || Pt && N || !Dt) T || F || N ? (T *= z, b = F * z, w = 1e5, i = Math.cos(T) * E, o = Math.sin(T) * E, n = Math.sin(T - b) * -C, a = Math.cos(T - b) * C, b && "simple" === S.skewType && (e = Math.tan(b - j * z), n *= e = Math.sqrt(1 + e * e), a *= e, j && (e = Math.tan(j * z), i *= e = Math.sqrt(1 + e * e), o *= e)), N && (L += S.xOrigin - (S.xOrigin * i + S.yOrigin * n) + S.xOffset, k += S.yOrigin - (S.xOrigin * o + S.yOrigin * a) + S.yOffset, Pt && (S.xPercent || S.yPercent) && (g = this.t.getBBox(), L += .01 * S.xPercent * g.width, k += .01 * S.yPercent * g.height), L < (g = 1e-6) && L > -g && (L = 0), k < g && k > -g && (k = 0)), x = (i * w | 0) / w + "," + (o * w | 0) / w + "," + (n * w | 0) / w + "," + (a * w | 0) / w + "," + L + "," + k + ")", N && Pt ? this.t.setAttribute("transform", "matrix(" + x) : M[It] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix(" : "matrix(") + x) : M[It] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix(" : "matrix(") + E + ",0,0," + C + "," + L + "," + k + ")"; else {
                                if (f && (E < (g = 1e-4) && E > -g && (E = O = 2e-5), C < g && C > -g && (C = O = 2e-5), !R || S.z || S.rotationX || S.rotationY || (R = 0)), T || F) T *= z, v = i = Math.cos(T), y = o = Math.sin(T), F && (T -= F * z, v = Math.cos(T), y = Math.sin(T), "simple" === S.skewType && (e = Math.tan((F - j) * z), v *= e = Math.sqrt(1 + e * e), y *= e, S.skewY && (e = Math.tan(j * z), i *= e = Math.sqrt(1 + e * e), o *= e))), n = -y, a = v; else {
                                    if (!(P || A || 1 !== O || R || N))return void(M[It] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) translate3d(" : "translate3d(") + L + "px," + k + "px," + I + "px)" + (1 !== E || 1 !== C ? " scale(" + E + "," + C + ")" : ""));
                                    i = a = 1, n = o = 0
                                }
                                u = 1, r = s = l = c = h = d = 0, p = R ? -1 / R : 0, m = S.zOrigin, g = 1e-6, ",", "0", (T = P * z) && (v = Math.cos(T), l = -(y = Math.sin(T)), h = p * -y, r = i * y, s = o * y, u = v, p *= v, i *= v, o *= v), (T = A * z) && (e = n * (v = Math.cos(T)) + r * (y = Math.sin(T)), _ = a * v + s * y, c = u * y, d = p * y, r = n * -y + r * v, s = a * -y + s * v, u *= v, p *= v, n = e, a = _), 1 !== O && (r *= O, s *= O, u *= O, p *= O), 1 !== C && (n *= C, a *= C, c *= C, d *= C), 1 !== E && (i *= E, o *= E, l *= E, h *= E), (m || N) && (m && (L += r * -m, k += s * -m, I += u * -m + m), N && (L += S.xOrigin - (S.xOrigin * i + S.yOrigin * n) + S.xOffset, k += S.yOrigin - (S.xOrigin * o + S.yOrigin * a) + S.yOffset), L < g && L > -g && (L = "0"), k < g && k > -g && (k = "0"), I < g && I > -g && (I = 0)), x = S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix3d(" : "matrix3d(", x += (i < g && i > -g ? "0" : i) + "," + (o < g && o > -g ? "0" : o) + "," + (l < g && l > -g ? "0" : l), x += "," + (h < g && h > -g ? "0" : h) + "," + (n < g && n > -g ? "0" : n) + "," + (a < g && a > -g ? "0" : a), A || P || 1 !== O ? (x += "," + (c < g && c > -g ? "0" : c) + "," + (d < g && d > -g ? "0" : d) + "," + (r < g && r > -g ? "0" : r), x += "," + (s < g && s > -g ? "0" : s) + "," + (u < g && u > -g ? "0" : u) + "," + (p < g && p > -g ? "0" : p) + ",") : x += ",0,0,0,0,1,0,", x += L + "," + k + "," + I + "," + (R ? 1 + -I / R : 1) + ")", M[It] = x
                            }
                        };
                    (u = zt.prototype).x = u.y = u.z = u.skewX = u.skewY = u.rotation = u.rotationX = u.rotationY = u.zOrigin = u.xPercent = u.yPercent = u.xOffset = u.yOffset = 0, u.scaleX = u.scaleY = u.scaleZ = 1, Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
                        parser: function (t, e, i, n, r, a, l) {
                            if (n._lastParsedTransform === l)return r;
                            n._lastParsedTransform = l;
                            var c, u = l.scale && "function" == typeof l.scale ? l.scale : 0;
                            "function" == typeof l[i] && (c = l[i], l[i] = e), u && (l.scale = u(y, t));
                            var h, d, p, f, m, g, _, x, b, w = t._gsTransform, S = t.style, M = kt.length, T = l,
                                A = {}, P = Xt(t, o, !0, T.parseTransform),
                                E = T.transform && ("function" == typeof T.transform ? T.transform(y, v) : T.transform);
                            if (n._transform = P, E && "string" == typeof E && It) (d = $.style)[It] = E, d.display = "block", d.position = "absolute", U.body.appendChild($), h = Xt($, null, !1), P.svg && (g = P.xOrigin, _ = P.yOrigin, h.x -= P.xOffset, h.y -= P.yOffset, (T.transformOrigin || T.svgOrigin) && (E = {}, Gt(t, lt(T.transformOrigin), E, T.svgOrigin, T.smoothOrigin, !0), g = E.xOrigin, _ = E.yOrigin, h.x -= E.xOffset - P.xOffset, h.y -= E.yOffset - P.yOffset), (g || _) && (x = Ht($, !0), h.x -= g - (g * x[0] + _ * x[2]), h.y -= _ - (g * x[1] + _ * x[3]))), U.body.removeChild($), h.perspective || (h.perspective = P.perspective), null != T.xPercent && (h.xPercent = ut(T.xPercent, P.xPercent)), null != T.yPercent && (h.yPercent = ut(T.yPercent, P.yPercent)); else if ("object" == typeof T) {
                                if (h = {
                                        scaleX: ut(null != T.scaleX ? T.scaleX : T.scale, P.scaleX),
                                        scaleY: ut(null != T.scaleY ? T.scaleY : T.scale, P.scaleY),
                                        scaleZ: ut(T.scaleZ, P.scaleZ),
                                        x: ut(T.x, P.x),
                                        y: ut(T.y, P.y),
                                        z: ut(T.z, P.z),
                                        xPercent: ut(T.xPercent, P.xPercent),
                                        yPercent: ut(T.yPercent, P.yPercent),
                                        perspective: ut(T.transformPerspective, P.perspective)
                                    }, null != (m = T.directionalRotation))if ("object" == typeof m)for (d in m)T[d] = m[d]; else T.rotation = m;
                                "string" == typeof T.x && -1 !== T.x.indexOf("%") && (h.x = 0, h.xPercent = ut(T.x, P.xPercent)), "string" == typeof T.y && -1 !== T.y.indexOf("%") && (h.y = 0, h.yPercent = ut(T.y, P.yPercent)), h.rotation = ht("rotation" in T ? T.rotation : "shortRotation" in T ? T.shortRotation + "_short" : "rotationZ" in T ? T.rotationZ : P.rotation, P.rotation, "rotation", A), Dt && (h.rotationX = ht("rotationX" in T ? T.rotationX : "shortRotationX" in T ? T.shortRotationX + "_short" : P.rotationX || 0, P.rotationX, "rotationX", A), h.rotationY = ht("rotationY" in T ? T.rotationY : "shortRotationY" in T ? T.shortRotationY + "_short" : P.rotationY || 0, P.rotationY, "rotationY", A)), h.skewX = ht(T.skewX, P.skewX), h.skewY = ht(T.skewY, P.skewY)
                            }
                            for (Dt && null != T.force3D && (P.force3D = T.force3D, f = !0), P.skewType = T.skewType || P.skewType || s.defaultSkewType, (p = P.force3D || P.z || P.rotationX || P.rotationY || h.z || h.rotationX || h.rotationY || h.perspective) || null == T.scale || (h.scaleZ = 1); --M > -1;)((E = h[b = kt[M]] - P[b]) > 1e-6 || E < -1e-6 || null != T[b] || null != F[b]) && (f = !0, r = new xt(P, b, P[b], E, r), b in A && (r.e = A[b]), r.xs0 = 0, r.plugin = a, n._overwriteProps.push(r.n));
                            return E = T.transformOrigin, P.svg && (E || T.svgOrigin) && (g = P.xOffset, _ = P.yOffset, Gt(t, lt(E), h, T.svgOrigin, T.smoothOrigin), r = bt(P, "xOrigin", (w ? P : h).xOrigin, h.xOrigin, r, "transformOrigin"), r = bt(P, "yOrigin", (w ? P : h).yOrigin, h.yOrigin, r, "transformOrigin"), g === P.xOffset && _ === P.yOffset || (r = bt(P, "xOffset", w ? g : P.xOffset, P.xOffset, r, "transformOrigin"), r = bt(P, "yOffset", w ? _ : P.yOffset, P.yOffset, r, "transformOrigin")), E = "0px 0px"), (E || Dt && p && P.zOrigin) && (It ? (f = !0, b = Rt, E = (E || tt(t, b, o, !1, "50% 50%")) + "", (r = new xt(S, b, 0, 0, r, -1, "transformOrigin")).b = S[b], r.plugin = a, Dt ? (d = P.zOrigin, E = E.split(" "), P.zOrigin = (E.length > 2 && (0 === d || "0px" !== E[2]) ? parseFloat(E[2]) : d) || 0, r.xs0 = r.e = E[0] + " " + (E[1] || "50%") + " 0px", (r = new xt(P, "zOrigin", 0, 0, r, -1, r.n)).b = d, r.xs0 = r.e = P.zOrigin) : r.xs0 = r.e = E) : lt(E + "", P)), f && (n._transformType = P.svg && Pt || !p && 3 !== this._transformType ? 2 : 3), c && (l[i] = c), u && (l.scale = u), r
                        }, prefix: !0
                    }), Tt("boxShadow", {
                        defaultValue: "0px 0px 0px 0px #999",
                        prefix: !0,
                        color: !0,
                        multi: !0,
                        keyword: "inset"
                    }), Tt("borderRadius", {
                        defaultValue: "0px", parser: function (t, e, i, n, a, s) {
                            e = this.format(e);
                            var l, c, u, h, d, p, f, m, g, v, y, _, x, b, w, S,
                                M = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
                                T = t.style;
                            for (g = parseFloat(t.offsetWidth), v = parseFloat(t.offsetHeight), l = e.split(" "), c = 0; c < M.length; c++)this.p.indexOf("border") && (M[c] = K(M[c])), -1 !== (d = h = tt(t, M[c], o, !1, "0px")).indexOf(" ") && (d = (h = d.split(" "))[0], h = h[1]), p = u = l[c], f = parseFloat(d), _ = d.substr((f + "").length), (x = "=" === p.charAt(1)) ? (m = parseInt(p.charAt(0) + "1", 10), p = p.substr(2), m *= parseFloat(p), y = p.substr((m + "").length - (m < 0 ? 1 : 0)) || "") : (m = parseFloat(p), y = p.substr((m + "").length)), "" === y && (y = r[i] || _), y !== _ && (b = et(t, "borderLeft", f, _), w = et(t, "borderTop", f, _), "%" === y ? (d = b / g * 100 + "%", h = w / v * 100 + "%") : "em" === y ? (d = b / (S = et(t, "borderLeft", 1, "em")) + "em", h = w / S + "em") : (d = b + "px", h = w + "px"), x && (p = parseFloat(d) + m + y, u = parseFloat(h) + m + y)), a = wt(T, M[c], d + " " + h, p + " " + u, !1, "0px", a);
                            return a
                        }, prefix: !0, formatter: vt("0px 0px 0px 0px", !1, !0)
                    }), Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
                        defaultValue: "0px",
                        parser: function (t, e, i, n, r, a) {
                            return wt(t.style, i, this.format(tt(t, i, o, !1, "0px 0px")), this.format(e), !1, "0px", r)
                        },
                        prefix: !0,
                        formatter: vt("0px 0px", !1, !0)
                    }), Tt("backgroundPosition", {
                        defaultValue: "0 0", parser: function (t, e, i, n, r, a) {
                            var s, l, c, u, h, d, p = "background-position", f = o || Q(t, null),
                                m = this.format((f ? g ? f.getPropertyValue(p + "-x") + " " + f.getPropertyValue(p + "-y") : f.getPropertyValue(p) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"),
                                v = this.format(e);
                            if (-1 !== m.indexOf("%") != (-1 !== v.indexOf("%")) && v.split(",").length < 2 && (d = tt(t, "backgroundImage").replace(O, "")) && "none" !== d) {
                                for (s = m.split(" "), l = v.split(" "), V.setAttribute("src", d), c = 2; --c > -1;)(u = -1 !== (m = s[c]).indexOf("%")) !== (-1 !== l[c].indexOf("%")) && (h = 0 === c ? t.offsetWidth - V.width : t.offsetHeight - V.height, s[c] = u ? parseFloat(m) / 100 * h + "px" : parseFloat(m) / h * 100 + "%");
                                m = s.join(" ")
                            }
                            return this.parseComplex(t.style, m, v, r, a)
                        }, formatter: lt
                    }), Tt("backgroundSize", {
                        defaultValue: "0 0", formatter: function (t) {
                            return lt(-1 === (t += "").indexOf(" ") ? t + " " + t : t)
                        }
                    }), Tt("perspective", {
                        defaultValue: "0px",
                        prefix: !0
                    }), Tt("perspectiveOrigin", {
                        defaultValue: "50% 50%",
                        prefix: !0
                    }), Tt("transformStyle", {prefix: !0}), Tt("backfaceVisibility", {prefix: !0}), Tt("userSelect", {prefix: !0}), Tt("margin", {parser: yt("marginTop,marginRight,marginBottom,marginLeft")}), Tt("padding", {parser: yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}), Tt("clip", {
                        defaultValue: "rect(0px,0px,0px,0px)",
                        parser: function (t, e, i, n, r, a) {
                            var s, l, c;
                            return g < 9 ? (l = t.currentStyle, c = g < 8 ? " " : ",", s = "rect(" + l.clipTop + c + l.clipRight + c + l.clipBottom + c + l.clipLeft + ")", e = this.format(e).split(",").join(c)) : (s = this.format(tt(t, this.p, o, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, s, e, r, a)
                        }
                    }), Tt("textShadow", {
                        defaultValue: "0px 0px 0px #999",
                        color: !0,
                        multi: !0
                    }), Tt("autoRound,strictUnits", {
                        parser: function (t, e, i, n, r) {
                            return r
                        }
                    }), Tt("border", {
                        defaultValue: "0px solid #000", parser: function (t, e, i, n, r, a) {
                            var s = tt(t, "borderTopWidth", o, !1, "0px"), l = this.format(e).split(" "),
                                c = l[0].replace(S, "");
                            return "px" !== c && (s = parseFloat(s) / et(t, "borderTopWidth", 1, c) + c), this.parseComplex(t.style, this.format(s + " " + tt(t, "borderTopStyle", o, !1, "solid") + " " + tt(t, "borderTopColor", o, !1, "#000")), l.join(" "), r, a)
                        }, color: !0, formatter: function (t) {
                            var e = t.split(" ");
                            return e[0] + " " + (e[1] || "solid") + " " + (t.match(gt) || ["#000"])[0]
                        }
                    }), Tt("borderWidth", {parser: yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}), Tt("float,cssFloat,styleFloat", {
                        parser: function (t, e, i, n, r, o) {
                            var a = t.style, s = "cssFloat" in a ? "cssFloat" : "styleFloat";
                            return new xt(a, s, 0, 0, r, -1, i, !1, 0, a[s], e)
                        }
                    });
                    var Jt = function (t) {
                        var e, i = this.t, n = i.filter || tt(this.data, "filter") || "", r = this.s + this.c * t | 0;
                        100 === r && (-1 === n.indexOf("atrix(") && -1 === n.indexOf("radient(") && -1 === n.indexOf("oader(") ? (i.removeAttribute("filter"), e = !tt(this.data, "filter")) : (i.filter = n.replace(A, ""), e = !0)), e || (this.xn1 && (i.filter = n = n || "alpha(opacity=" + r + ")"), -1 === n.indexOf("pacity") ? 0 === r && this.xn1 || (i.filter = n + " alpha(opacity=" + r + ")") : i.filter = n.replace(M, "opacity=" + r))
                    };
                    Tt("opacity,alpha,autoAlpha", {
                        defaultValue: "1", parser: function (t, e, i, n, r, a) {
                            var s = parseFloat(tt(t, "opacity", o, !1, "1")), l = t.style, c = "autoAlpha" === i;
                            return "string" == typeof e && "=" === e.charAt(1) && (e = ("-" === e.charAt(0) ? -1 : 1) * parseFloat(e.substr(2)) + s), c && 1 === s && "hidden" === tt(t, "visibility", o) && 0 !== e && (s = 0), X ? r = new xt(l, "opacity", s, e - s, r) : ((r = new xt(l, "opacity", 100 * s, 100 * (e - s), r)).xn1 = c ? 1 : 0, l.zoom = 1, r.type = 2, r.b = "alpha(opacity=" + r.s + ")", r.e = "alpha(opacity=" + (r.s + r.c) + ")", r.data = t, r.plugin = a, r.setRatio = Jt), c && ((r = new xt(l, "visibility", 0, 0, r, -1, null, !1, 0, 0 !== s ? "inherit" : "hidden", 0 === e ? "hidden" : "inherit")).xs0 = "inherit", n._overwriteProps.push(r.n), n._overwriteProps.push(i)), r
                        }
                    });
                    var Zt = function (t, e) {
                        e && (t.removeProperty ? ("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6) || (e = "-" + e), t.removeProperty(e.replace(E, "-$1").toLowerCase())) : t.removeAttribute(e))
                    }, Kt = function (t) {
                        if (this.t._gsClassPT = this, 1 === t || 0 === t) {
                            this.t.setAttribute("class", 0 === t ? this.b : this.e);
                            for (var e = this.data, i = this.t.style; e;)e.v ? i[e.p] = e.v : Zt(i, e.p), e = e._next;
                            1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null)
                        } else this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
                    };
                    Tt("className", {
                        parser: function (t, e, i, r, a, s, l) {
                            var c, u, h, d, p, f = t.getAttribute("class") || "", m = t.style.cssText;
                            if ((a = r._classNamePT = new xt(t, i, 0, 0, a, 2)).setRatio = Kt, a.pr = -11, n = !0, a.b = f, u = nt(t, o), h = t._gsClassPT) {
                                for (d = {}, p = h.data; p;)d[p.p] = 1, p = p._next;
                                h.setRatio(1)
                            }
                            return t._gsClassPT = a, a.e = "=" !== e.charAt(1) ? e : f.replace(new RegExp("(?:\\s|^)" + e.substr(2) + "(?![\\w-])"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""), t.setAttribute("class", a.e), c = rt(t, u, nt(t), l, d), t.setAttribute("class", f), a.data = c.firstMPT, t.style.cssText = m, a = a.xfirst = r.parse(t, c.difs, a, s)
                        }
                    });
                    var Qt = function (t) {
                        if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                            var e, i, n, r, o, a = this.t.style, s = c.transform.parse;
                            if ("all" === this.e) a.cssText = "", r = !0; else for (n = (e = this.e.split(" ").join("").split(",")).length; --n > -1;)i = e[n], c[i] && (c[i].parse === s ? r = !0 : i = "transformOrigin" === i ? Rt : c[i].p), Zt(a, i);
                            r && (Zt(a, It), (o = this.t._gsTransform) && (o.svg && (this.t.removeAttribute("data-svg-origin"), this.t.removeAttribute("transform")), delete this.t._gsTransform))
                        }
                    };
                    for (Tt("clearProps", {
                        parser: function (t, e, i, r, o) {
                            return (o = new xt(t, i, 0, 0, o, 2)).setRatio = Qt, o.e = e, o.pr = -10, o.data = r._tween, n = !0, o
                        }
                    }), u = "bezier,throwProps,physicsProps,physics2D".split(","), St = u.length; St--;)At(u[St]);
                    (u = s.prototype)._firstPT = u._lastParsedTransform = u._transform = null, u._onInitTween = function (t, e, i, l) {
                        if (!t.nodeType)return !1;
                        this._target = v = t, this._tween = i, this._vars = e, y = l, h = e.autoRound, n = !1, r = e.suffixMap || s.suffixMap, o = Q(t, ""), a = this._overwriteProps;
                        var u, f, g, _, x, b, w, S, M, A = t.style;
                        if (d && "" === A.zIndex && ("auto" !== (u = tt(t, "zIndex", o)) && "" !== u || this._addLazySet(A, "zIndex", 0)), "string" == typeof e && (_ = A.cssText, u = nt(t, o), A.cssText = _ + ";" + e, u = rt(t, u, nt(t)).difs, !X && T.test(e) && (u.opacity = parseFloat(RegExp.$1)), e = u, A.cssText = _), e.className ? this._firstPT = f = c.className.parse(t, e.className, "className", this, null, null, e) : this._firstPT = f = this.parse(t, e, null), this._transformType) {
                            for (M = 3 === this._transformType, It ? p && (d = !0, "" === A.zIndex && ("auto" !== (w = tt(t, "zIndex", o)) && "" !== w || this._addLazySet(A, "zIndex", 0)), m && this._addLazySet(A, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (M ? "visible" : "hidden"))) : A.zoom = 1, g = f; g && g._next;)g = g._next;
                            S = new xt(t, "transform", 0, 0, null, 2), this._linkCSSP(S, null, g), S.setRatio = It ? Yt : qt, S.data = this._transform || Xt(t, o, !0), S.tween = i, S.pr = -1, a.pop()
                        }
                        if (n) {
                            for (; f;) {
                                for (b = f._next, g = _; g && g.pr > f.pr;)g = g._next;
                                (f._prev = g ? g._prev : x) ? f._prev._next = f : _ = f, (f._next = g) ? g._prev = f : x = f, f = b
                            }
                            this._firstPT = _
                        }
                        return !0
                    }, u.parse = function (t, e, i, n) {
                        var a, s, l, u, d, p, f, m, g, _, x = t.style;
                        for (a in e)"function" == typeof(p = e[a]) && (p = p(y, v)), (s = c[a]) ? i = s.parse(t, p, a, this, i, n, e) : (d = tt(t, a, o) + "", g = "string" == typeof p, "color" === a || "fill" === a || "stroke" === a || -1 !== a.indexOf("Color") || g && P.test(p) ? (g || (p = ((p = ft(p)).length > 3 ? "rgba(" : "rgb(") + p.join(",") + ")"), i = wt(x, a, d, p, !0, "transparent", i, 0, n)) : g && D.test(p) ? i = wt(x, a, d, p, !0, null, i, 0, n) : (f = (l = parseFloat(d)) || 0 === l ? d.substr((l + "").length) : "", "" !== d && "auto" !== d || ("width" === a || "height" === a ? (l = st(t, a, o), f = "px") : "left" === a || "top" === a ? (l = it(t, a, o), f = "px") : (l = "opacity" !== a ? 0 : 1, f = "")), (_ = g && "=" === p.charAt(1)) ? (u = parseInt(p.charAt(0) + "1", 10), p = p.substr(2), u *= parseFloat(p), m = p.replace(S, "")) : (u = parseFloat(p), m = g ? p.replace(S, "") : ""), "" === m && (m = a in r ? r[a] : f), p = u || 0 === u ? (_ ? u + l : u) + m : e[a], f !== m && "" !== m && (u || 0 === u) && l && (l = et(t, a, l, f), "%" === m ? (l /= et(t, a, 100, "%") / 100, !0 !== e.strictUnits && (d = l + "%")) : "em" === m || "rem" === m || "vw" === m || "vh" === m ? l /= et(t, a, 1, m) : "px" !== m && (u = et(t, a, u, m), m = "px"), _ && (u || 0 === u) && (p = u + l + m)), _ && (u += l), !l && 0 !== l || !u && 0 !== u ? void 0 !== x[a] && (p || p + "" != "NaN" && null != p) ? (i = new xt(x, a, u || l || 0, 0, i, -1, a, !1, 0, d, p)).xs0 = "none" !== p || "display" !== a && -1 === a.indexOf("Style") ? p : d : Y(e[a]) : (i = new xt(x, a, l, u - l, i, 0, a, !1 !== h && ("px" === m || "zIndex" === a), 0, d, p)).xs0 = m)), n && i && !i.plugin && (i.plugin = n);
                        return i
                    }, u.setRatio = function (t) {
                        var e, i, n, r = this._firstPT;
                        if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time)if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || -1e-6 === this._tween._rawPrevTime)for (; r;) {
                            if (e = r.c * t + r.s, r.r ? e = Math.round(e) : e < 1e-6 && e > -1e-6 && (e = 0), r.type)if (1 === r.type)if (2 === (n = r.l)) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2; else if (3 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3; else if (4 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4; else if (5 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4 + r.xn4 + r.xs5; else {
                                for (i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++)i += r["xn" + n] + r["xs" + (n + 1)];
                                r.t[r.p] = i
                            } else-1 === r.type ? r.t[r.p] = r.xs0 : r.setRatio && r.setRatio(t); else r.t[r.p] = e + r.xs0;
                            r = r._next
                        } else for (; r;)2 !== r.type ? r.t[r.p] = r.b : r.setRatio(t), r = r._next; else for (; r;) {
                            if (2 !== r.type)if (r.r && -1 !== r.type)if (e = Math.round(r.s + r.c), r.type) {
                                if (1 === r.type) {
                                    for (n = r.l, i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++)i += r["xn" + n] + r["xs" + (n + 1)];
                                    r.t[r.p] = i
                                }
                            } else r.t[r.p] = e + r.xs0; else r.t[r.p] = r.e; else r.setRatio(t);
                            r = r._next
                        }
                    }, u._enableTransforms = function (t) {
                        this._transform = this._transform || Xt(this._target, o, !0), this._transformType = this._transform.svg && Pt || !t && 3 !== this._transformType ? 2 : 3
                    };
                    var te = function (t) {
                        this.t[this.p] = this.e, this.data._linkCSSP(this, this._next, null, !0)
                    };
                    u._addLazySet = function (t, e, i) {
                        var n = this._firstPT = new xt(t, e, 0, 0, this._firstPT, 2);
                        n.e = i, n.setRatio = te, n.data = this
                    }, u._linkCSSP = function (t, e, i, n) {
                        return t && (e && (e._prev = t), t._next && (t._next._prev = t._prev), t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next, n = !0), i ? i._next = t : n || null !== this._firstPT || (this._firstPT = t), t._next = e, t._prev = i), t
                    }, u._mod = function (t) {
                        for (var e = this._firstPT; e;)"function" == typeof t[e.p] && t[e.p] === Math.round && (e.r = 1), e = e._next
                    }, u._kill = function (e) {
                        var i, n, r, o = e;
                        if (e.autoAlpha || e.alpha) {
                            for (n in o = {}, e)o[n] = e[n];
                            o.opacity = 1, o.autoAlpha && (o.visibility = 1)
                        }
                        for (e.className && (i = this._classNamePT) && ((r = i.xfirst) && r._prev ? this._linkCSSP(r._prev, i._next, r._prev._prev) : r === this._firstPT && (this._firstPT = i._next), i._next && this._linkCSSP(i._next, i._next._next, r._prev), this._classNamePT = null), i = this._firstPT; i;)i.plugin && i.plugin !== n && i.plugin._kill && (i.plugin._kill(e), n = i.plugin), i = i._next;
                        return t.prototype._kill.call(this, o)
                    };
                    var ee = function (t, e, i) {
                        var n, r, o, a;
                        if (t.slice)for (r = t.length; --r > -1;)ee(t[r], e, i); else for (r = (n = t.childNodes).length; --r > -1;)a = (o = n[r]).type, o.style && (e.push(nt(o)), i && i.push(o)), 1 !== a && 9 !== a && 11 !== a || !o.childNodes.length || ee(o, e, i)
                    };
                    return s.cascadeTo = function (t, i, n) {
                        var r, o, a, s, l = e.to(t, i, n), c = [l], u = [], h = [], d = [],
                            p = e._internals.reservedProps;
                        for (t = l._targets || l.target, ee(t, u, d), l.render(i, !0, !0), ee(t, h), l.render(0, !0, !0), l._enabled(!0), r = d.length; --r > -1;)if ((o = rt(d[r], u[r], h[r])).firstMPT) {
                            for (a in o = o.difs, n)p[a] && (o[a] = n[a]);
                            for (a in s = {}, o)s[a] = u[r][a];
                            c.push(e.fromTo(d[r], i, s, o))
                        }
                        return c
                    }, t.activate([s]), s
                }, !0), function () {
                    var t = function (t) {
                        for (; t;)t.f || t.blob || (t.m = Math.round), t = t._next
                    }, e = i._gsDefine.plugin({
                        propName: "roundProps",
                        version: "1.6.0",
                        priority: -1,
                        API: 2,
                        init: function (t, e, i) {
                            return this._tween = i, !0
                        }
                    }).prototype;
                    e._onInitAllProps = function () {
                        for (var e, i, n, r = this._tween, o = r.vars.roundProps.join ? r.vars.roundProps : r.vars.roundProps.split(","), a = o.length, s = {}, l = r._propLookup.roundProps; --a > -1;)s[o[a]] = Math.round;
                        for (a = o.length; --a > -1;)for (e = o[a], i = r._firstPT; i;)n = i._next, i.pg ? i.t._mod(s) : i.n === e && (2 === i.f && i.t ? t(i.t._firstPT) : (this._add(i.t, e, i.s, i.c), n && (n._prev = i._prev), i._prev ? i._prev._next = n : r._firstPT === i && (r._firstPT = n), i._next = i._prev = null, r._propLookup[e] = l)), i = n;
                        return !1
                    }, e._add = function (t, e, i, n) {
                        this._addTween(t, e, i, i + n, e, Math.round), this._overwriteProps.push(e)
                    }
                }(), i._gsDefine.plugin({
                    propName: "attr", API: 2, version: "0.6.0", init: function (t, e, i, n) {
                        var r, o;
                        if ("function" != typeof t.setAttribute)return !1;
                        for (r in e)"function" == typeof(o = e[r]) && (o = o(n, t)), this._addTween(t, "setAttribute", t.getAttribute(r) + "", o + "", r, !1, r), this._overwriteProps.push(r);
                        return !0
                    }
                }), i._gsDefine.plugin({
                    propName: "directionalRotation",
                    version: "0.3.0",
                    API: 2,
                    init: function (t, e, i, n) {
                        "object" != typeof e && (e = {rotation: e}), this.finals = {};
                        var r, o, a, s, l, c, u = !0 === e.useRadians ? 2 * Math.PI : 360;
                        for (r in e)"useRadians" !== r && ("function" == typeof(s = e[r]) && (s = s(n, t)), o = (c = (s + "").split("_"))[0], a = parseFloat("function" != typeof t[r] ? t[r] : t[r.indexOf("set") || "function" != typeof t["get" + r.substr(3)] ? r : "get" + r.substr(3)]()), l = (s = this.finals[r] = "string" == typeof o && "=" === o.charAt(1) ? a + parseInt(o.charAt(0) + "1", 10) * Number(o.substr(2)) : Number(o) || 0) - a, c.length && (-1 !== (o = c.join("_")).indexOf("short") && (l %= u) !== l % (u / 2) && (l = l < 0 ? l + u : l - u), -1 !== o.indexOf("_cw") && l < 0 ? l = (l + 9999999999 * u) % u - (l / u | 0) * u : -1 !== o.indexOf("ccw") && l > 0 && (l = (l - 9999999999 * u) % u - (l / u | 0) * u)), (l > 1e-6 || l < -1e-6) && (this._addTween(t, r, a, a + l, r), this._overwriteProps.push(r)));
                        return !0
                    },
                    set: function (t) {
                        var e;
                        if (1 !== t) this._super.setRatio.call(this, t); else for (e = this._firstPT; e;)e.f ? e.t[e.p](this.finals[e.p]) : e.t[e.p] = this.finals[e.p], e = e._next
                    }
                })._autoCSS = !0, i._gsDefine("easing.Back", ["easing.Ease"], function (t) {
                    var e, n, r, o = i.GreenSockGlobals || i, a = o.com.greensock, s = 2 * Math.PI, l = Math.PI / 2,
                        c = a._class, u = function (e, i) {
                            var n = c("easing." + e, function () {
                            }, !0), r = n.prototype = new t;
                            return r.constructor = n, r.getRatio = i, n
                        }, h = t.register || function () {
                            }, d = function (t, e, i, n, r) {
                            var o = c("easing." + t, {easeOut: new e, easeIn: new i, easeInOut: new n}, !0);
                            return h(o, t), o
                        }, p = function (t, e, i) {
                            this.t = t, this.v = e, i && (this.next = i, i.prev = this, this.c = i.v - e, this.gap = i.t - t)
                        }, f = function (e, i) {
                            var n = c("easing." + e, function (t) {
                                this._p1 = t || 0 === t ? t : 1.70158, this._p2 = 1.525 * this._p1
                            }, !0), r = n.prototype = new t;
                            return r.constructor = n, r.getRatio = i, r.config = function (t) {
                                return new n(t)
                            }, n
                        }, m = d("Back", f("BackOut", function (t) {
                            return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1
                        }), f("BackIn", function (t) {
                            return t * t * ((this._p1 + 1) * t - this._p1)
                        }), f("BackInOut", function (t) {
                            return (t *= 2) < 1 ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2)
                        })), g = c("easing.SlowMo", function (t, e, i) {
                            e = e || 0 === e ? e : .7, null == t ? t = .7 : t > 1 && (t = 1), this._p = 1 !== t ? e : 0, this._p1 = (1 - t) / 2, this._p2 = t, this._p3 = this._p1 + this._p2, this._calcEnd = !0 === i
                        }, !0), v = g.prototype = new t;
                    return v.constructor = g, v.getRatio = function (t) {
                        var e = t + (.5 - t) * this._p;
                        return t < this._p1 ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e
                    }, g.ease = new g(.7, .7), v.config = g.config = function (t, e, i) {
                        return new g(t, e, i)
                    }, (v = (e = c("easing.SteppedEase", function (t) {
                        t = t || 1, this._p1 = 1 / t, this._p2 = t + 1
                    }, !0)).prototype = new t).constructor = e, v.getRatio = function (t) {
                        return t < 0 ? t = 0 : t >= 1 && (t = .999999999), (this._p2 * t >> 0) * this._p1
                    }, v.config = e.config = function (t) {
                        return new e(t)
                    }, (v = (n = c("easing.RoughEase", function (e) {
                        for (var i, n, r, o, a, s, l = (e = e || {}).taper || "none", c = [], u = 0, h = 0 | (e.points || 20), d = h, f = !1 !== e.randomize, m = !0 === e.clamp, g = e.template instanceof t ? e.template : null, v = "number" == typeof e.strength ? .4 * e.strength : .4; --d > -1;)i = f ? Math.random() : 1 / h * d, n = g ? g.getRatio(i) : i, r = "none" === l ? v : "out" === l ? (o = 1 - i) * o * v : "in" === l ? i * i * v : i < .5 ? (o = 2 * i) * o * .5 * v : (o = 2 * (1 - i)) * o * .5 * v, f ? n += Math.random() * r - .5 * r : d % 2 ? n += .5 * r : n -= .5 * r, m && (n > 1 ? n = 1 : n < 0 && (n = 0)), c[u++] = {
                            x: i,
                            y: n
                        };
                        for (c.sort(function (t, e) {
                            return t.x - e.x
                        }), s = new p(1, 1, null), d = h; --d > -1;)a = c[d], s = new p(a.x, a.y, s);
                        this._prev = new p(0, 0, 0 !== s.t ? s : s.next)
                    }, !0)).prototype = new t).constructor = n, v.getRatio = function (t) {
                        var e = this._prev;
                        if (t > e.t) {
                            for (; e.next && t >= e.t;)e = e.next;
                            e = e.prev
                        } else for (; e.prev && t <= e.t;)e = e.prev;
                        return this._prev = e, e.v + (t - e.t) / e.gap * e.c
                    }, v.config = function (t) {
                        return new n(t)
                    }, n.ease = new n, d("Bounce", u("BounceOut", function (t) {
                        return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
                    }), u("BounceIn", function (t) {
                        return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
                    }), u("BounceInOut", function (t) {
                        var e = t < .5;
                        return (t = e ? 1 - 2 * t : 2 * t - 1) < 1 / 2.75 ? t *= 7.5625 * t : t = t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5
                    })), d("Circ", u("CircOut", function (t) {
                        return Math.sqrt(1 - (t -= 1) * t)
                    }), u("CircIn", function (t) {
                        return -(Math.sqrt(1 - t * t) - 1)
                    }), u("CircInOut", function (t) {
                        return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
                    })), d("Elastic", (r = function (e, i, n) {
                        var r = c("easing." + e, function (t, e) {
                            this._p1 = t >= 1 ? t : 1, this._p2 = (e || n) / (t < 1 ? t : 1), this._p3 = this._p2 / s * (Math.asin(1 / this._p1) || 0), this._p2 = s / this._p2
                        }, !0), o = r.prototype = new t;
                        return o.constructor = r, o.getRatio = i, o.config = function (t, e) {
                            return new r(t, e)
                        }, r
                    })("ElasticOut", function (t) {
                        return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * this._p2) + 1
                    }, .3), r("ElasticIn", function (t) {
                        return -this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2)
                    }, .3), r("ElasticInOut", function (t) {
                        return (t *= 2) < 1 ? this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * -.5 : this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * .5 + 1
                    }, .45)), d("Expo", u("ExpoOut", function (t) {
                        return 1 - Math.pow(2, -10 * t)
                    }), u("ExpoIn", function (t) {
                        return Math.pow(2, 10 * (t - 1)) - .001
                    }), u("ExpoInOut", function (t) {
                        return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
                    })), d("Sine", u("SineOut", function (t) {
                        return Math.sin(t * l)
                    }), u("SineIn", function (t) {
                        return 1 - Math.cos(t * l)
                    }), u("SineInOut", function (t) {
                        return -.5 * (Math.cos(Math.PI * t) - 1)
                    })), c("easing.EaseLookup", {
                        find: function (e) {
                            return t.map[e]
                        }
                    }, !0), h(o.SlowMo, "SlowMo", "ease,"), h(n, "RoughEase", "ease,"), h(e, "SteppedEase", "ease,"), m
                }, !0)
            }), i._gsDefine && i._gsQueue.pop()(), function (t, i) {
                "use strict";
                var n = {}, r = t.document, o = t.GreenSockGlobals = t.GreenSockGlobals || t;
                if (!o.TweenLite) {
                    var a, s, l, c, u, h, d, p = function (t) {
                        var e, i = t.split("."), n = o;
                        for (e = 0; e < i.length; e++)n[i[e]] = n = n[i[e]] || {};
                        return n
                    }, f = p("com.greensock"), m = function (t) {
                        var e, i = [], n = t.length;
                        for (e = 0; e !== n; i.push(t[e++]));
                        return i
                    }, g = function () {
                    }, v = (h = Object.prototype.toString, d = h.call([]), function (t) {
                        return null != t && (t instanceof Array || "object" == typeof t && !!t.push && h.call(t) === d)
                    }), y = {}, _ = function (i, r, a, s) {
                        this.sc = y[i] ? y[i].sc : [], y[i] = this, this.gsClass = null, this.func = a;
                        var l = [];
                        this.check = function (c) {
                            for (var u, h, d, f, m, g = r.length, v = g; --g > -1;)(u = y[r[g]] || new _(r[g], [])).gsClass ? (l[g] = u.gsClass, v--) : c && u.sc.push(this);
                            if (0 === v && a) {
                                if (d = (h = ("com.greensock." + i).split(".")).pop(), f = p(h.join("."))[d] = this.gsClass = a.apply(a, l), s)if (o[d] = n[d] = f, !(m = void 0 !== e && e.exports) && "function" == typeof define && define.amd) define((t.GreenSockAMDPath ? t.GreenSockAMDPath + "/" : "") + i.split(".").pop(), [], function () {
                                    return f
                                }); else if (m)if ("TweenMax" === i)for (g in e.exports = n.TweenMax = f, n)f[g] = n[g]; else n.TweenMax && (n.TweenMax[d] = f);
                                for (g = 0; g < this.sc.length; g++)this.sc[g].check()
                            }
                        }, this.check(!0)
                    }, x = t._gsDefine = function (t, e, i, n) {
                        return new _(t, e, i, n)
                    }, b = f._class = function (t, e, i) {
                        return e = e || function () {
                            }, x(t, [], function () {
                            return e
                        }, i), e
                    };
                    x.globals = o;
                    var w = [0, 0, 1, 1], S = b("easing.Ease", function (t, e, i, n) {
                        this._func = t, this._type = i || 0, this._power = n || 0, this._params = e ? w.concat(e) : w
                    }, !0), M = S.map = {}, T = S.register = function (t, e, i, n) {
                        for (var r, o, a, s, l = e.split(","), c = l.length, u = (i || "easeIn,easeOut,easeInOut").split(","); --c > -1;)for (o = l[c], r = n ? b("easing." + o, null, !0) : f.easing[o] || {}, a = u.length; --a > -1;)s = u[a], M[o + "." + s] = M[s + o] = r[s] = t.getRatio ? t : t[s] || new t
                    };
                    for ((l = S.prototype)._calcEnd = !1, l.getRatio = function (t) {
                        if (this._func)return this._params[0] = t, this._func.apply(null, this._params);
                        var e = this._type, i = this._power,
                            n = 1 === e ? 1 - t : 2 === e ? t : t < .5 ? 2 * t : 2 * (1 - t);
                        return 1 === i ? n *= n : 2 === i ? n *= n * n : 3 === i ? n *= n * n * n : 4 === i && (n *= n * n * n * n), 1 === e ? 1 - n : 2 === e ? n : t < .5 ? n / 2 : 1 - n / 2
                    }, s = (a = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"]).length; --s > -1;)l = a[s] + ",Power" + s, T(new S(null, null, 1, s), l, "easeOut", !0), T(new S(null, null, 2, s), l, "easeIn" + (0 === s ? ",easeNone" : "")), T(new S(null, null, 3, s), l, "easeInOut");
                    M.linear = f.easing.Linear.easeIn, M.swing = f.easing.Quad.easeInOut;
                    var A = b("events.EventDispatcher", function (t) {
                        this._listeners = {}, this._eventTarget = t || this
                    });
                    (l = A.prototype).addEventListener = function (t, e, i, n, r) {
                        r = r || 0;
                        var o, a, s = this._listeners[t], l = 0;
                        for (this !== c || u || c.wake(), null == s && (this._listeners[t] = s = []), a = s.length; --a > -1;)(o = s[a]).c === e && o.s === i ? s.splice(a, 1) : 0 === l && o.pr < r && (l = a + 1);
                        s.splice(l, 0, {c: e, s: i, up: n, pr: r})
                    }, l.removeEventListener = function (t, e) {
                        var i, n = this._listeners[t];
                        if (n)for (i = n.length; --i > -1;)if (n[i].c === e)return void n.splice(i, 1)
                    }, l.dispatchEvent = function (t) {
                        var e, i, n, r = this._listeners[t];
                        if (r)for ((e = r.length) > 1 && (r = r.slice(0)), i = this._eventTarget; --e > -1;)(n = r[e]) && (n.up ? n.c.call(n.s || i, {
                            type: t,
                            target: i
                        }) : n.c.call(n.s || i))
                    };
                    var P = t.requestAnimationFrame, E = t.cancelAnimationFrame, C = Date.now || function () {
                            return (new Date).getTime()
                        }, O = C();
                    for (s = (a = ["ms", "moz", "webkit", "o"]).length; --s > -1 && !P;)P = t[a[s] + "RequestAnimationFrame"], E = t[a[s] + "CancelAnimationFrame"] || t[a[s] + "CancelRequestAnimationFrame"];
                    b("Ticker", function (t, e) {
                        var i, n, o, a, s, l = this, h = C(), d = !(!1 === e || !P) && "auto", p = 500, f = 33,
                            m = function (t) {
                                var e, r, c = C() - O;
                                c > p && (h += c - f), O += c, l.time = (O - h) / 1e3, e = l.time - s, (!i || e > 0 || !0 === t) && (l.frame++, s += e + (e >= a ? .004 : a - e), r = !0), !0 !== t && (o = n(m)), r && l.dispatchEvent("tick")
                            };
                        A.call(l), l.time = l.frame = 0, l.tick = function () {
                            m(!0)
                        }, l.lagSmoothing = function (t, e) {
                            p = t || 1e10, f = Math.min(e, p, 0)
                        }, l.sleep = function () {
                            null != o && (d && E ? E(o) : clearTimeout(o), n = g, o = null, l === c && (u = !1))
                        }, l.wake = function (t) {
                            null !== o ? l.sleep() : t ? h += -O + (O = C()) : l.frame > 10 && (O = C() - p + 5), n = 0 === i ? g : d && P ? P : function (t) {
                                return setTimeout(t, 1e3 * (s - l.time) + 1 | 0)
                            }, l === c && (u = !0), m(2)
                        }, l.fps = function (t) {
                            if (!arguments.length)return i;
                            a = 1 / ((i = t) || 60), s = this.time + a, l.wake()
                        }, l.useRAF = function (t) {
                            if (!arguments.length)return d;
                            l.sleep(), d = t, l.fps(i)
                        }, l.fps(t), setTimeout(function () {
                            "auto" === d && l.frame < 5 && "hidden" !== r.visibilityState && l.useRAF(!1)
                        }, 1500)
                    }), (l = f.Ticker.prototype = new f.events.EventDispatcher).constructor = f.Ticker;
                    var L = b("core.Animation", function (t, e) {
                        if (this.vars = e = e || {}, this._duration = this._totalDuration = t || 0, this._delay = Number(e.delay) || 0, this._timeScale = 1, this._active = !0 === e.immediateRender, this.data = e.data, this._reversed = !0 === e.reversed, Y) {
                            u || c.wake();
                            var i = this.vars.useFrames ? q : Y;
                            i.add(this, i._time), this.vars.paused && this.paused(!0)
                        }
                    });
                    c = L.ticker = new f.Ticker, (l = L.prototype)._dirty = l._gc = l._initted = l._paused = !1, l._totalTime = l._time = 0, l._rawPrevTime = -1, l._next = l._last = l._onUpdate = l._timeline = l.timeline = null, l._paused = !1;
                    var k = function () {
                        u && C() - O > 2e3 && c.wake(), setTimeout(k, 2e3)
                    };
                    k(), l.play = function (t, e) {
                        return null != t && this.seek(t, e), this.reversed(!1).paused(!1)
                    }, l.pause = function (t, e) {
                        return null != t && this.seek(t, e), this.paused(!0)
                    }, l.resume = function (t, e) {
                        return null != t && this.seek(t, e), this.paused(!1)
                    }, l.seek = function (t, e) {
                        return this.totalTime(Number(t), !1 !== e)
                    }, l.restart = function (t, e) {
                        return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, !1 !== e, !0)
                    }, l.reverse = function (t, e) {
                        return null != t && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1)
                    }, l.render = function (t, e, i) {
                    }, l.invalidate = function () {
                        return this._time = this._totalTime = 0, this._initted = this._gc = !1, this._rawPrevTime = -1, !this._gc && this.timeline || this._enabled(!0), this
                    }, l.isActive = function () {
                        var t, e = this._timeline, i = this._startTime;
                        return !e || !this._gc && !this._paused && e.isActive() && (t = e.rawTime(!0)) >= i && t < i + this.totalDuration() / this._timeScale
                    }, l._enabled = function (t, e) {
                        return u || c.wake(), this._gc = !t, this._active = this.isActive(), !0 !== e && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)), !1
                    }, l._kill = function (t, e) {
                        return this._enabled(!1, !1)
                    }, l.kill = function (t, e) {
                        return this._kill(t, e), this
                    }, l._uncache = function (t) {
                        for (var e = t ? this : this.timeline; e;)e._dirty = !0, e = e.timeline;
                        return this
                    }, l._swapSelfInParams = function (t) {
                        for (var e = t.length, i = t.concat(); --e > -1;)"{self}" === t[e] && (i[e] = this);
                        return i
                    }, l._callback = function (t) {
                        var e = this.vars, i = e[t], n = e[t + "Params"], r = e[t + "Scope"] || e.callbackScope || this;
                        switch (n ? n.length : 0) {
                            case 0:
                                i.call(r);
                                break;
                            case 1:
                                i.call(r, n[0]);
                                break;
                            case 2:
                                i.call(r, n[0], n[1]);
                                break;
                            default:
                                i.apply(r, n)
                        }
                    }, l.eventCallback = function (t, e, i, n) {
                        if ("on" === (t || "").substr(0, 2)) {
                            var r = this.vars;
                            if (1 === arguments.length)return r[t];
                            null == e ? delete r[t] : (r[t] = e, r[t + "Params"] = v(i) && -1 !== i.join("").indexOf("{self}") ? this._swapSelfInParams(i) : i, r[t + "Scope"] = n), "onUpdate" === t && (this._onUpdate = e)
                        }
                        return this
                    }, l.delay = function (t) {
                        return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay), this._delay = t, this) : this._delay
                    }, l.duration = function (t) {
                        return arguments.length ? (this._duration = this._totalDuration = t, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0), this) : (this._dirty = !1, this._duration)
                    }, l.totalDuration = function (t) {
                        return this._dirty = !1, arguments.length ? this.duration(t) : this._totalDuration
                    }, l.time = function (t, e) {
                        return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(t > this._duration ? this._duration : t, e)) : this._time
                    }, l.totalTime = function (t, e, i) {
                        if (u || c.wake(), !arguments.length)return this._totalTime;
                        if (this._timeline) {
                            if (t < 0 && !i && (t += this.totalDuration()), this._timeline.smoothChildTiming) {
                                this._dirty && this.totalDuration();
                                var n = this._totalDuration, r = this._timeline;
                                if (t > n && !i && (t = n), this._startTime = (this._paused ? this._pauseTime : r._time) - (this._reversed ? n - t : t) / this._timeScale, r._dirty || this._uncache(!1), r._timeline)for (; r._timeline;)r._timeline._time !== (r._startTime + r._totalTime) / r._timeScale && r.totalTime(r._totalTime, !0), r = r._timeline
                            }
                            this._gc && this._enabled(!0, !1), this._totalTime === t && 0 !== this._duration || (D.length && Z(), this.render(t, e, !1), D.length && Z())
                        }
                        return this
                    }, l.progress = l.totalProgress = function (t, e) {
                        var i = this.duration();
                        return arguments.length ? this.totalTime(i * t, e) : i ? this._time / i : this.ratio
                    }, l.startTime = function (t) {
                        return arguments.length ? (t !== this._startTime && (this._startTime = t, this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)), this) : this._startTime
                    }, l.endTime = function (t) {
                        return this._startTime + (0 != t ? this.totalDuration() : this.duration()) / this._timeScale
                    }, l.timeScale = function (t) {
                        if (!arguments.length)return this._timeScale;
                        if (t = t || 1e-10, this._timeline && this._timeline.smoothChildTiming) {
                            var e = this._pauseTime, i = e || 0 === e ? e : this._timeline.totalTime();
                            this._startTime = i - (i - this._startTime) * this._timeScale / t
                        }
                        return this._timeScale = t, this._uncache(!1)
                    }, l.reversed = function (t) {
                        return arguments.length ? (t != this._reversed && (this._reversed = t, this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed
                    }, l.paused = function (t) {
                        if (!arguments.length)return this._paused;
                        var e, i, n = this._timeline;
                        return t != this._paused && n && (u || t || c.wake(), i = (e = n.rawTime()) - this._pauseTime, !t && n.smoothChildTiming && (this._startTime += i, this._uncache(!1)), this._pauseTime = t ? e : null, this._paused = t, this._active = this.isActive(), !t && 0 !== i && this._initted && this.duration() && (e = n.smoothChildTiming ? this._totalTime : (e - this._startTime) / this._timeScale, this.render(e, e === this._totalTime, !0))), this._gc && !t && this._enabled(!0, !1), this
                    };
                    var I = b("core.SimpleTimeline", function (t) {
                        L.call(this, 0, t), this.autoRemoveChildren = this.smoothChildTiming = !0
                    });
                    (l = I.prototype = new L).constructor = I, l.kill()._gc = !1, l._first = l._last = l._recent = null, l._sortChildren = !1, l.add = l.insert = function (t, e, i, n) {
                        var r, o;
                        if (t._startTime = Number(e || 0) + t._delay, t._paused && this !== t._timeline && (t._pauseTime = t._startTime + (this.rawTime() - t._startTime) / t._timeScale), t.timeline && t.timeline._remove(t, !0), t.timeline = t._timeline = this, t._gc && t._enabled(!0, !0), r = this._last, this._sortChildren)for (o = t._startTime; r && r._startTime > o;)r = r._prev;
                        return r ? (t._next = r._next, r._next = t) : (t._next = this._first, this._first = t), t._next ? t._next._prev = t : this._last = t, t._prev = r, this._recent = t, this._timeline && this._uncache(!0), this
                    }, l._remove = function (t, e) {
                        return t.timeline === this && (e || t._enabled(!1, !0), t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next), t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev), t._next = t._prev = t.timeline = null, t === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this
                    }, l.render = function (t, e, i) {
                        var n, r = this._first;
                        for (this._totalTime = this._time = this._rawPrevTime = t; r;)n = r._next, (r._active || t >= r._startTime && !r._paused) && (r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, i) : r.render((t - r._startTime) * r._timeScale, e, i)), r = n
                    }, l.rawTime = function () {
                        return u || c.wake(), this._totalTime
                    };
                    var N = b("TweenLite", function (e, i, n) {
                        if (L.call(this, i, n), this.render = N.prototype.render, null == e)throw"Cannot tween a null target.";
                        this.target = e = "string" != typeof e ? e : N.selector(e) || e;
                        var r, o, a,
                            s = e.jquery || e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType),
                            l = this.vars.overwrite;
                        if (this._overwrite = l = null == l ? X[N.defaultOverwrite] : "number" == typeof l ? l >> 0 : X[l], (s || e instanceof Array || e.push && v(e)) && "number" != typeof e[0])for (this._targets = a = m(e), this._propLookup = [], this._siblings = [], r = 0; r < a.length; r++)(o = a[r]) ? "string" != typeof o ? o.length && o !== t && o[0] && (o[0] === t || o[0].nodeType && o[0].style && !o.nodeType) ? (a.splice(r--, 1), this._targets = a = a.concat(m(o))) : (this._siblings[r] = K(o, this, !1), 1 === l && this._siblings[r].length > 1 && tt(o, this, null, 1, this._siblings[r])) : "string" == typeof(o = a[r--] = N.selector(o)) && a.splice(r + 1, 1) : a.splice(r--, 1); else this._propLookup = {}, this._siblings = K(e, this, !1), 1 === l && this._siblings.length > 1 && tt(e, this, null, 1, this._siblings);
                        (this.vars.immediateRender || 0 === i && 0 === this._delay && !1 !== this.vars.immediateRender) && (this._time = -1e-10, this.render(Math.min(0, -this._delay)))
                    }, !0), R = function (e) {
                        return e && e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType)
                    };
                    (l = N.prototype = new L).constructor = N, l.kill()._gc = !1, l.ratio = 0, l._firstPT = l._targets = l._overwrittenProps = l._startAt = null, l._notifyPluginsOfEnabled = l._lazy = !1, N.version = "1.19.1", N.defaultEase = l._ease = new S(null, null, 1, 1), N.defaultOverwrite = "auto", N.ticker = c, N.autoSleep = 120, N.lagSmoothing = function (t, e) {
                        c.lagSmoothing(t, e)
                    }, N.selector = t.$ || t.jQuery || function (e) {
                            var i = t.$ || t.jQuery;
                            return i ? (N.selector = i, i(e)) : void 0 === r ? e : r.querySelectorAll ? r.querySelectorAll(e) : r.getElementById("#" === e.charAt(0) ? e.substr(1) : e)
                        };
                    var D = [], z = {}, j = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi, F = function (t) {
                            for (var e, i = this._firstPT; i;)e = i.blob ? 1 === t ? this.end : t ? this.join("") : this.start : i.c * t + i.s, i.m ? e = i.m(e, this._target || i.t) : e < 1e-6 && e > -1e-6 && !i.blob && (e = 0), i.f ? i.fp ? i.t[i.p](i.fp, e) : i.t[i.p](e) : i.t[i.p] = e, i = i._next
                        }, B = function (t, e, i, n) {
                            var r, o, a, s, l, c, u, h = [], d = 0, p = "", f = 0;
                            for (h.start = t, h.end = e, t = h[0] = t + "", e = h[1] = e + "", i && (i(h), t = h[0], e = h[1]), h.length = 0, r = t.match(j) || [], o = e.match(j) || [], n && (n._next = null, n.blob = 1, h._firstPT = h._applyPT = n), l = o.length, s = 0; s < l; s++)u = o[s], p += (c = e.substr(d, e.indexOf(u, d) - d)) || !s ? c : ",", d += c.length, f ? f = (f + 1) % 5 : "rgba(" === c.substr(-5) && (f = 1), u === r[s] || r.length <= s ? p += u : (p && (h.push(p), p = ""), a = parseFloat(r[s]), h.push(a), h._firstPT = {
                                _next: h._firstPT,
                                t: h,
                                p: h.length - 1,
                                s: a,
                                c: ("=" === u.charAt(1) ? parseInt(u.charAt(0) + "1", 10) * parseFloat(u.substr(2)) : parseFloat(u) - a) || 0,
                                f: 0,
                                m: f && f < 4 ? Math.round : 0
                            }), d += u.length;
                            return (p += e.substr(d)) && h.push(p), h.setRatio = F, h
                        }, U = function (t, e, i, n, r, o, a, s, l) {
                            "function" == typeof n && (n = n(l || 0, t));
                            var c = typeof t[e],
                                u = "function" !== c ? "" : e.indexOf("set") || "function" != typeof t["get" + e.substr(3)] ? e : "get" + e.substr(3),
                                h = "get" !== i ? i : u ? a ? t[u](a) : t[u]() : t[e],
                                d = "string" == typeof n && "=" === n.charAt(1), p = {
                                    t: t,
                                    p: e,
                                    s: h,
                                    f: "function" === c,
                                    pg: 0,
                                    n: r || e,
                                    m: o ? "function" == typeof o ? o : Math.round : 0,
                                    pr: 0,
                                    c: d ? parseInt(n.charAt(0) + "1", 10) * parseFloat(n.substr(2)) : parseFloat(n) - h || 0
                                };
                            if (("number" != typeof h || "number" != typeof n && !d) && (a || isNaN(h) || !d && isNaN(n) || "boolean" == typeof h || "boolean" == typeof n ? (p.fp = a, p = {
                                    t: B(h, d ? p.s + p.c : n, s || N.defaultStringFilter, p),
                                    p: "setRatio",
                                    s: 0,
                                    c: 1,
                                    f: 2,
                                    pg: 0,
                                    n: r || e,
                                    pr: 0,
                                    m: 0
                                }) : (p.s = parseFloat(h), d || (p.c = parseFloat(n) - p.s || 0))), p.c)return (p._next = this._firstPT) && (p._next._prev = p), this._firstPT = p, p
                        }, G = N._internals = {isArray: v, isSelector: R, lazyTweens: D, blobDif: B}, $ = N._plugins = {},
                        V = G.tweenLookup = {}, W = 0, H = G.reservedProps = {
                            ease: 1,
                            delay: 0,
                            overwrite: 1,
                            onComplete: 1,
                            onCompleteParams: 1,
                            onCompleteScope: 1,
                            useFrames: 1,
                            runBackwards: 1,
                            startAt: 1,
                            onUpdate: 1,
                            onUpdateParams: 1,
                            onUpdateScope: 1,
                            onStart: 1,
                            onStartParams: 1,
                            onStartScope: 1,
                            onReverseComplete: 1,
                            onReverseCompleteParams: 1,
                            onReverseCompleteScope: 1,
                            onRepeat: 1,
                            onRepeatParams: 1,
                            onRepeatScope: 1,
                            easeParams: 1,
                            yoyo: 1,
                            immediateRender: 1,
                            repeat: 1,
                            repeatDelay: 1,
                            data: 1,
                            paused: 1,
                            reversed: 1,
                            autoCSS: 1,
                            lazy: 1,
                            onOverwrite: 1,
                            callbackScope: 1,
                            stringFilter: 1,
                            id: 1
                        }, X = {none: 0, all: 1, auto: 2, concurrent: 3, allOnStart: 4, preexisting: 5, true: 1, false: 0},
                        q = L._rootFramesTimeline = new I, Y = L._rootTimeline = new I, J = 30,
                        Z = G.lazyRender = function () {
                            var t, e = D.length;
                            for (z = {}; --e > -1;)(t = D[e]) && !1 !== t._lazy && (t.render(t._lazy[0], t._lazy[1], !0), t._lazy = !1);
                            D.length = 0
                        };
                    Y._startTime = c.time, q._startTime = c.frame, Y._active = q._active = !0, setTimeout(Z, 1), L._updateRoot = N.render = function () {
                        var t, e, i;
                        if (D.length && Z(), Y.render((c.time - Y._startTime) * Y._timeScale, !1, !1), q.render((c.frame - q._startTime) * q._timeScale, !1, !1), D.length && Z(), c.frame >= J) {
                            for (i in J = c.frame + (parseInt(N.autoSleep, 10) || 120), V) {
                                for (t = (e = V[i].tweens).length; --t > -1;)e[t]._gc && e.splice(t, 1);
                                0 === e.length && delete V[i]
                            }
                            if ((!(i = Y._first) || i._paused) && N.autoSleep && !q._first && 1 === c._listeners.tick.length) {
                                for (; i && i._paused;)i = i._next;
                                i || c.sleep()
                            }
                        }
                    }, c.addEventListener("tick", L._updateRoot);
                    var K = function (t, e, i) {
                        var n, r, o = t._gsTweenID;
                        if (V[o || (t._gsTweenID = o = "t" + W++)] || (V[o] = {
                                target: t,
                                tweens: []
                            }), e && ((n = V[o].tweens)[r = n.length] = e, i))for (; --r > -1;)n[r] === e && n.splice(r, 1);
                        return V[o].tweens
                    }, Q = function (t, e, i, n) {
                        var r, o, a = t.vars.onOverwrite;
                        return a && (r = a(t, e, i, n)), (a = N.onOverwrite) && (o = a(t, e, i, n)), !1 !== r && !1 !== o
                    }, tt = function (t, e, i, n, r) {
                        var o, a, s, l;
                        if (1 === n || n >= 4) {
                            for (l = r.length, o = 0; o < l; o++)if ((s = r[o]) !== e) s._gc || s._kill(null, t, e) && (a = !0); else if (5 === n)break;
                            return a
                        }
                        var c, u = e._startTime + 1e-10, h = [], d = 0, p = 0 === e._duration;
                        for (o = r.length; --o > -1;)(s = r[o]) === e || s._gc || s._paused || (s._timeline !== e._timeline ? (c = c || et(e, 0, p), 0 === et(s, c, p) && (h[d++] = s)) : s._startTime <= u && s._startTime + s.totalDuration() / s._timeScale > u && ((p || !s._initted) && u - s._startTime <= 2e-10 || (h[d++] = s)));
                        for (o = d; --o > -1;)if (s = h[o], 2 === n && s._kill(i, t, e) && (a = !0), 2 !== n || !s._firstPT && s._initted) {
                            if (2 !== n && !Q(s, e))continue;
                            s._enabled(!1, !1) && (a = !0)
                        }
                        return a
                    }, et = function (t, e, i) {
                        for (var n = t._timeline, r = n._timeScale, o = t._startTime; n._timeline;) {
                            if (o += n._startTime, r *= n._timeScale, n._paused)return -100;
                            n = n._timeline
                        }
                        return (o /= r) > e ? o - e : i && o === e || !t._initted && o - e < 2e-10 ? 1e-10 : (o += t.totalDuration() / t._timeScale / r) > e + 1e-10 ? 0 : o - e - 1e-10
                    };
                    l._init = function () {
                        var t, e, i, n, r, o, a = this.vars, s = this._overwrittenProps, l = this._duration,
                            c = !!a.immediateRender, u = a.ease;
                        if (a.startAt) {
                            for (n in this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()), r = {}, a.startAt)r[n] = a.startAt[n];
                            if (r.overwrite = !1, r.immediateRender = !0, r.lazy = c && !1 !== a.lazy, r.startAt = r.delay = null, this._startAt = N.to(this.target, 0, r), c)if (this._time > 0) this._startAt = null; else if (0 !== l)return
                        } else if (a.runBackwards && 0 !== l)if (this._startAt) this._startAt.render(-1, !0), this._startAt.kill(), this._startAt = null; else {
                            for (n in 0 !== this._time && (c = !1), i = {}, a)H[n] && "autoCSS" !== n || (i[n] = a[n]);
                            if (i.overwrite = 0, i.data = "isFromStart", i.lazy = c && !1 !== a.lazy, i.immediateRender = c, this._startAt = N.to(this.target, 0, i), c) {
                                if (0 === this._time)return
                            } else this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null)
                        }
                        if (this._ease = u = u ? u instanceof S ? u : "function" == typeof u ? new S(u, a.easeParams) : M[u] || N.defaultEase : N.defaultEase, a.easeParams instanceof Array && u.config && (this._ease = u.config.apply(u, a.easeParams)), this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets)for (o = this._targets.length, t = 0; t < o; t++)this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], s ? s[t] : null, t) && (e = !0); else e = this._initProps(this.target, this._propLookup, this._siblings, s, 0);
                        if (e && N._onPluginEvent("_onInitAllProps", this), s && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), a.runBackwards)for (i = this._firstPT; i;)i.s += i.c, i.c = -i.c, i = i._next;
                        this._onUpdate = a.onUpdate, this._initted = !0
                    }, l._initProps = function (e, i, n, r, o) {
                        var a, s, l, c, u, h;
                        if (null == e)return !1;
                        for (a in z[e._gsTweenID] && Z(), this.vars.css || e.style && e !== t && e.nodeType && $.css && !1 !== this.vars.autoCSS && function (t, e) {
                            var i, n = {};
                            for (i in t)H[i] || i in e && "transform" !== i && "x" !== i && "y" !== i && "width" !== i && "height" !== i && "className" !== i && "border" !== i || !(!$[i] || $[i] && $[i]._autoCSS) || (n[i] = t[i], delete t[i]);
                            t.css = n
                        }(this.vars, e), this.vars)if (h = this.vars[a], H[a]) h && (h instanceof Array || h.push && v(h)) && -1 !== h.join("").indexOf("{self}") && (this.vars[a] = h = this._swapSelfInParams(h, this)); else if ($[a] && (c = new $[a])._onInitTween(e, this.vars[a], this, o)) {
                            for (this._firstPT = u = {
                                _next: this._firstPT,
                                t: c,
                                p: "setRatio",
                                s: 0,
                                c: 1,
                                f: 1,
                                n: a,
                                pg: 1,
                                pr: c._priority,
                                m: 0
                            }, s = c._overwriteProps.length; --s > -1;)i[c._overwriteProps[s]] = this._firstPT;
                            (c._priority || c._onInitAllProps) && (l = !0), (c._onDisable || c._onEnable) && (this._notifyPluginsOfEnabled = !0), u._next && (u._next._prev = u)
                        } else i[a] = U.call(this, e, a, "get", h, a, 0, null, this.vars.stringFilter, o);
                        return r && this._kill(r, e) ? this._initProps(e, i, n, r, o) : this._overwrite > 1 && this._firstPT && n.length > 1 && tt(e, this, i, this._overwrite, n) ? (this._kill(i, e), this._initProps(e, i, n, r, o)) : (this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration) && (z[e._gsTweenID] = !0), l)
                    }, l.render = function (t, e, i) {
                        var n, r, o, a, s = this._time, l = this._duration, c = this._rawPrevTime;
                        if (t >= l - 1e-7 && t >= 0) this._totalTime = this._time = l, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (n = !0, r = "onComplete", i = i || this._timeline.autoRemoveChildren), 0 === l && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0), (c < 0 || t <= 0 && t >= -1e-7 || 1e-10 === c && "isPause" !== this.data) && c !== t && (i = !0, c > 1e-10 && (r = "onReverseComplete")), this._rawPrevTime = a = !e || t || c === t ? t : 1e-10); else if (t < 1e-7) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== s || 0 === l && c > 0) && (r = "onReverseComplete", n = this._reversed), t < 0 && (this._active = !1, 0 === l && (this._initted || !this.vars.lazy || i) && (c >= 0 && (1e-10 !== c || "isPause" !== this.data) && (i = !0), this._rawPrevTime = a = !e || t || c === t ? t : 1e-10)), this._initted || (i = !0); else if (this._totalTime = this._time = t, this._easeType) {
                            var u = t / l, h = this._easeType, d = this._easePower;
                            (1 === h || 3 === h && u >= .5) && (u = 1 - u), 3 === h && (u *= 2), 1 === d ? u *= u : 2 === d ? u *= u * u : 3 === d ? u *= u * u * u : 4 === d && (u *= u * u * u * u), this.ratio = 1 === h ? 1 - u : 2 === h ? u : t / l < .5 ? u / 2 : 1 - u / 2
                        } else this.ratio = this._ease.getRatio(t / l);
                        if (this._time !== s || i) {
                            if (!this._initted) {
                                if (this._init(), !this._initted || this._gc)return;
                                if (!i && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration))return this._time = this._totalTime = s, this._rawPrevTime = c, D.push(this), void(this._lazy = [t, e]);
                                this._time && !n ? this.ratio = this._ease.getRatio(this._time / l) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                            }
                            for (!1 !== this._lazy && (this._lazy = !1), this._active || !this._paused && this._time !== s && t >= 0 && (this._active = !0), 0 === s && (this._startAt && (t >= 0 ? this._startAt.render(t, e, i) : r || (r = "_dummyGS")), this.vars.onStart && (0 === this._time && 0 !== l || e || this._callback("onStart"))), o = this._firstPT; o;)o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                            this._onUpdate && (t < 0 && this._startAt && -1e-4 !== t && this._startAt.render(t, e, i), e || (this._time !== s || n || i) && this._callback("onUpdate")), r && (this._gc && !i || (t < 0 && this._startAt && !this._onUpdate && -1e-4 !== t && this._startAt.render(t, e, i), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[r] && this._callback(r), 0 === l && 1e-10 === this._rawPrevTime && 1e-10 !== a && (this._rawPrevTime = 0)))
                        }
                    }, l._kill = function (t, e, i) {
                        if ("all" === t && (t = null), null == t && (null == e || e === this.target))return this._lazy = !1, this._enabled(!1, !1);
                        e = "string" != typeof e ? e || this._targets || this.target : N.selector(e) || e;
                        var n, r, o, a, s, l, c, u, h,
                            d = i && this._time && i._startTime === this._startTime && this._timeline === i._timeline;
                        if ((v(e) || R(e)) && "number" != typeof e[0])for (n = e.length; --n > -1;)this._kill(t, e[n], i) && (l = !0); else {
                            if (this._targets) {
                                for (n = this._targets.length; --n > -1;)if (e === this._targets[n]) {
                                    s = this._propLookup[n] || {}, this._overwrittenProps = this._overwrittenProps || [], r = this._overwrittenProps[n] = t ? this._overwrittenProps[n] || {} : "all";
                                    break
                                }
                            } else {
                                if (e !== this.target)return !1;
                                s = this._propLookup, r = this._overwrittenProps = t ? this._overwrittenProps || {} : "all"
                            }
                            if (s) {
                                if (c = t || s, u = t !== r && "all" !== r && t !== s && ("object" != typeof t || !t._tempKill), i && (N.onOverwrite || this.vars.onOverwrite)) {
                                    for (o in c)s[o] && (h || (h = []), h.push(o));
                                    if ((h || !t) && !Q(this, i, e, h))return !1
                                }
                                for (o in c)(a = s[o]) && (d && (a.f ? a.t[a.p](a.s) : a.t[a.p] = a.s, l = !0), a.pg && a.t._kill(c) && (l = !0), a.pg && 0 !== a.t._overwriteProps.length || (a._prev ? a._prev._next = a._next : a === this._firstPT && (this._firstPT = a._next), a._next && (a._next._prev = a._prev), a._next = a._prev = null), delete s[o]), u && (r[o] = 1);
                                !this._firstPT && this._initted && this._enabled(!1, !1)
                            }
                        }
                        return l
                    }, l.invalidate = function () {
                        return this._notifyPluginsOfEnabled && N._onPluginEvent("_onDisable", this), this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null, this._notifyPluginsOfEnabled = this._active = this._lazy = !1, this._propLookup = this._targets ? {} : [], L.prototype.invalidate.call(this), this.vars.immediateRender && (this._time = -1e-10, this.render(Math.min(0, -this._delay))), this
                    }, l._enabled = function (t, e) {
                        if (u || c.wake(), t && this._gc) {
                            var i, n = this._targets;
                            if (n)for (i = n.length; --i > -1;)this._siblings[i] = K(n[i], this, !0); else this._siblings = K(this.target, this, !0)
                        }
                        return L.prototype._enabled.call(this, t, e), !(!this._notifyPluginsOfEnabled || !this._firstPT) && N._onPluginEvent(t ? "_onEnable" : "_onDisable", this)
                    }, N.to = function (t, e, i) {
                        return new N(t, e, i)
                    }, N.from = function (t, e, i) {
                        return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new N(t, e, i)
                    }, N.fromTo = function (t, e, i, n) {
                        return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new N(t, e, n)
                    }, N.delayedCall = function (t, e, i, n, r) {
                        return new N(e, 0, {
                            delay: 0,
                            onComplete: e,
                            onCompleteParams: i,
                            callbackScope: n,
                            onReverseComplete: e,
                            onReverseCompleteParams: i,
                            immediateRender: !1,
                            lazy: !1,
                            useFrames: r,
                            overwrite: 0
                        })
                    }, N.set = function (t, e) {
                        return new N(t, 0, e)
                    }, N.getTweensOf = function (t, e) {
                        if (null == t)return [];
                        var i, n, r, o;
                        if (t = "string" != typeof t ? t : N.selector(t) || t, (v(t) || R(t)) && "number" != typeof t[0]) {
                            for (i = t.length, n = []; --i > -1;)n = n.concat(N.getTweensOf(t[i], e));
                            for (i = n.length; --i > -1;)for (o = n[i], r = i; --r > -1;)o === n[r] && n.splice(i, 1)
                        } else for (i = (n = K(t).concat()).length; --i > -1;)(n[i]._gc || e && !n[i].isActive()) && n.splice(i, 1);
                        return n
                    }, N.killTweensOf = N.killDelayedCallsTo = function (t, e, i) {
                        "object" == typeof e && (i = e, e = !1);
                        for (var n = N.getTweensOf(t, e), r = n.length; --r > -1;)n[r]._kill(i, t)
                    };
                    var it = b("plugins.TweenPlugin", function (t, e) {
                        this._overwriteProps = (t || "").split(","), this._propName = this._overwriteProps[0], this._priority = e || 0, this._super = it.prototype
                    }, !0);
                    if (l = it.prototype, it.version = "1.19.0", it.API = 2, l._firstPT = null, l._addTween = U, l.setRatio = F, l._kill = function (t) {
                            var e, i = this._overwriteProps, n = this._firstPT;
                            if (null != t[this._propName]) this._overwriteProps = []; else for (e = i.length; --e > -1;)null != t[i[e]] && i.splice(e, 1);
                            for (; n;)null != t[n.n] && (n._next && (n._next._prev = n._prev), n._prev ? (n._prev._next = n._next, n._prev = null) : this._firstPT === n && (this._firstPT = n._next)), n = n._next;
                            return !1
                        }, l._mod = l._roundProps = function (t) {
                            for (var e, i = this._firstPT; i;)(e = t[this._propName] || null != i.n && t[i.n.split(this._propName + "_").join("")]) && "function" == typeof e && (2 === i.f ? i.t._applyPT.m = e : i.m = e), i = i._next
                        }, N._onPluginEvent = function (t, e) {
                            var i, n, r, o, a, s = e._firstPT;
                            if ("_onInitAllProps" === t) {
                                for (; s;) {
                                    for (a = s._next, n = r; n && n.pr > s.pr;)n = n._next;
                                    (s._prev = n ? n._prev : o) ? s._prev._next = s : r = s, (s._next = n) ? n._prev = s : o = s, s = a
                                }
                                s = e._firstPT = r
                            }
                            for (; s;)s.pg && "function" == typeof s.t[t] && s.t[t]() && (i = !0), s = s._next;
                            return i
                        }, it.activate = function (t) {
                            for (var e = t.length; --e > -1;)t[e].API === it.API && ($[(new t[e])._propName] = t[e]);
                            return !0
                        }, x.plugin = function (t) {
                            if (!(t && t.propName && t.init && t.API))throw"illegal plugin definition.";
                            var e, i = t.propName, n = t.priority || 0, r = t.overwriteProps, o = {
                                init: "_onInitTween",
                                set: "setRatio",
                                kill: "_kill",
                                round: "_mod",
                                mod: "_mod",
                                initAll: "_onInitAllProps"
                            }, a = b("plugins." + i.charAt(0).toUpperCase() + i.substr(1) + "Plugin", function () {
                                it.call(this, i, n), this._overwriteProps = r || []
                            }, !0 === t.global), s = a.prototype = new it(i);
                            for (e in s.constructor = a, a.API = t.API, o)"function" == typeof t[e] && (s[o[e]] = t[e]);
                            return a.version = t.version, it.activate([a]), a
                        }, a = t._gsQueue) {
                        for (s = 0; s < a.length; s++)a[s]();
                        for (l in y)y[l].func || t.console.log("GSAP encountered missing dependency: " + l)
                    }
                    u = !1
                }
            }(void 0 !== e && e.exports && void 0 !== t ? t : this || window)
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    212: [function (t, e, i) {
        var n, r;
        n = this, r = function (t) {
            var e = Object.prototype.toString, i = Array.isArray || function (t) {
                    return "[object Array]" === e.call(t)
                };

            function n(t) {
                return "function" == typeof t
            }

            function r(t) {
                return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }

            function o(t, e) {
                return null != t && "object" == typeof t && e in t
            }

            var a = RegExp.prototype.test;
            var s = /\S/;

            function l(t) {
                return !function (t, e) {
                    return a.call(t, e)
                }(s, t)
            }

            var c = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
                "/": "&#x2F;",
                "`": "&#x60;",
                "=": "&#x3D;"
            };
            var u = /\s*/, h = /\s+/, d = /\s*=/, p = /\s*\}/, f = /#|\^|\/|>|\{|&|=|!/;

            function m(t) {
                this.string = t, this.tail = t, this.pos = 0
            }

            function g(t, e) {
                this.view = t, this.cache = {".": this.view}, this.parent = e
            }

            function v() {
                this.cache = {}
            }

            m.prototype.eos = function () {
                return "" === this.tail
            }, m.prototype.scan = function (t) {
                var e = this.tail.match(t);
                if (!e || 0 !== e.index)return "";
                var i = e[0];
                return this.tail = this.tail.substring(i.length), this.pos += i.length, i
            }, m.prototype.scanUntil = function (t) {
                var e, i = this.tail.search(t);
                switch (i) {
                    case-1:
                        e = this.tail, this.tail = "";
                        break;
                    case 0:
                        e = "";
                        break;
                    default:
                        e = this.tail.substring(0, i), this.tail = this.tail.substring(i)
                }
                return this.pos += e.length, e
            }, g.prototype.push = function (t) {
                return new g(t, this)
            }, g.prototype.lookup = function (t) {
                var e, i = this.cache;
                if (i.hasOwnProperty(t)) e = i[t]; else {
                    for (var r, a, s = this, l = !1; s;) {
                        if (t.indexOf(".") > 0)for (e = s.view, r = t.split("."), a = 0; null != e && a < r.length;)a === r.length - 1 && (l = o(e, r[a])), e = e[r[a++]]; else e = s.view[t], l = o(s.view, t);
                        if (l)break;
                        s = s.parent
                    }
                    i[t] = e
                }
                return n(e) && (e = e.call(this.view)), e
            }, v.prototype.clearCache = function () {
                this.cache = {}
            }, v.prototype.parse = function (e, n) {
                var o = this.cache, a = o[e];
                return null == a && (a = o[e] = function (e, n) {
                    if (!e)return [];
                    var o, a, s, c = [], g = [], v = [], y = !1, _ = !1;

                    function x() {
                        if (y && !_)for (; v.length;)delete g[v.pop()]; else v = [];
                        y = !1, _ = !1
                    }

                    function b(t) {
                        if ("string" == typeof t && (t = t.split(h, 2)), !i(t) || 2 !== t.length)throw new Error("Invalid tags: " + t);
                        o = new RegExp(r(t[0]) + "\\s*"), a = new RegExp("\\s*" + r(t[1])), s = new RegExp("\\s*" + r("}" + t[1]))
                    }

                    b(n || t.tags);
                    for (var w, S, M, T, A, P, E = new m(e); !E.eos();) {
                        if (w = E.pos, M = E.scanUntil(o))for (var C = 0, O = M.length; C < O; ++C)l(T = M.charAt(C)) ? v.push(g.length) : _ = !0, g.push(["text", T, w, w + 1]), w += 1, "\n" === T && x();
                        if (!E.scan(o))break;
                        if (y = !0, S = E.scan(f) || "name", E.scan(u), "=" === S ? (M = E.scanUntil(d), E.scan(d), E.scanUntil(a)) : "{" === S ? (M = E.scanUntil(s), E.scan(p), E.scanUntil(a), S = "&") : M = E.scanUntil(a), !E.scan(a))throw new Error("Unclosed tag at " + E.pos);
                        if (A = [S, M, w, E.pos], g.push(A), "#" === S || "^" === S) c.push(A); else if ("/" === S) {
                            if (!(P = c.pop()))throw new Error('Unopened section "' + M + '" at ' + w);
                            if (P[1] !== M)throw new Error('Unclosed section "' + P[1] + '" at ' + w)
                        } else"name" === S || "{" === S || "&" === S ? _ = !0 : "=" === S && b(M)
                    }
                    if (P = c.pop())throw new Error('Unclosed section "' + P[1] + '" at ' + E.pos);
                    return function (t) {
                        for (var e, i = [], n = i, r = [], o = 0, a = t.length; o < a; ++o)switch ((e = t[o])[0]) {
                            case"#":
                            case"^":
                                n.push(e), r.push(e), n = e[4] = [];
                                break;
                            case"/":
                                r.pop()[5] = e[2], n = r.length > 0 ? r[r.length - 1][4] : i;
                                break;
                            default:
                                n.push(e)
                        }
                        return i
                    }(function (t) {
                        for (var e, i, n = [], r = 0, o = t.length; r < o; ++r)(e = t[r]) && ("text" === e[0] && i && "text" === i[0] ? (i[1] += e[1], i[3] = e[3]) : (n.push(e), i = e));
                        return n
                    }(g))
                }(e, n)), a
            }, v.prototype.render = function (t, e, i) {
                var n = this.parse(t), r = e instanceof g ? e : new g(e);
                return this.renderTokens(n, r, i, t)
            }, v.prototype.renderTokens = function (t, e, i, n) {
                for (var r, o, a, s = "", l = 0, c = t.length; l < c; ++l)a = void 0, "#" === (o = (r = t[l])[0]) ? a = this.renderSection(r, e, i, n) : "^" === o ? a = this.renderInverted(r, e, i, n) : ">" === o ? a = this.renderPartial(r, e, i, n) : "&" === o ? a = this.unescapedValue(r, e) : "name" === o ? a = this.escapedValue(r, e) : "text" === o && (a = this.rawValue(r)), void 0 !== a && (s += a);
                return s
            }, v.prototype.renderSection = function (t, e, r, o) {
                var a = this, s = "", l = e.lookup(t[1]);
                if (l) {
                    if (i(l))for (var c = 0, u = l.length; c < u; ++c)s += this.renderTokens(t[4], e.push(l[c]), r, o); else if ("object" == typeof l || "string" == typeof l || "number" == typeof l) s += this.renderTokens(t[4], e.push(l), r, o); else if (n(l)) {
                        if ("string" != typeof o)throw new Error("Cannot use higher-order sections without the original template");
                        null != (l = l.call(e.view, o.slice(t[3], t[5]), function (t) {
                            return a.render(t, e, r)
                        })) && (s += l)
                    } else s += this.renderTokens(t[4], e, r, o);
                    return s
                }
            }, v.prototype.renderInverted = function (t, e, n, r) {
                var o = e.lookup(t[1]);
                if (!o || i(o) && 0 === o.length)return this.renderTokens(t[4], e, n, r)
            }, v.prototype.renderPartial = function (t, e, i) {
                if (i) {
                    var r = n(i) ? i(t[1]) : i[t[1]];
                    return null != r ? this.renderTokens(this.parse(r), e, i, r) : void 0
                }
            }, v.prototype.unescapedValue = function (t, e) {
                var i = e.lookup(t[1]);
                if (null != i)return i
            }, v.prototype.escapedValue = function (e, i) {
                var n = i.lookup(e[1]);
                if (null != n)return t.escape(n)
            }, v.prototype.rawValue = function (t) {
                return t[1]
            }, t.name = "mustache.js", t.version = "2.3.0", t.tags = ["{{", "}}"];
            var y = new v;
            return t.clearCache = function () {
                return y.clearCache()
            }, t.parse = function (t, e) {
                return y.parse(t, e)
            }, t.render = function (t, e, n) {
                if ("string" != typeof t)throw new TypeError('Invalid template! Template should be a "string" but "' + (i(r = t) ? "array" : typeof r) + '" was given as the first argument for mustache#render(template, view, partials)');
                var r;
                return y.render(t, e, n)
            }, t.to_html = function (e, i, r, o) {
                var a = t.render(e, i, r);
                if (!n(o))return a;
                o(a)
            }, t.escape = function (t) {
                return String(t).replace(/[&<>"'`=\/]/g, function (t) {
                    return c[t]
                })
            }, t.Scanner = m, t.Context = g, t.Writer = v, t
        }, "object" == typeof i && i && "string" != typeof i.nodeName ? r(i) : "function" == typeof define && define.amd ? define(["exports"], r) : (n.Mustache = {}, r(n.Mustache))
    }, {}],
    213: [function (t, e, i) {
        var n, r, o = e.exports = {};

        function a() {
            throw new Error("setTimeout has not been defined")
        }

        function s() {
            throw new Error("clearTimeout has not been defined")
        }

        function l(t) {
            if (n === setTimeout)return setTimeout(t, 0);
            if ((n === a || !n) && setTimeout)return n = setTimeout, setTimeout(t, 0);
            try {
                return n(t, 0)
            } catch (e) {
                try {
                    return n.call(null, t, 0)
                } catch (e) {
                    return n.call(this, t, 0)
                }
            }
        }

        !function () {
            try {
                n = "function" == typeof setTimeout ? setTimeout : a
            } catch (t) {
                n = a
            }
            try {
                r = "function" == typeof clearTimeout ? clearTimeout : s
            } catch (t) {
                r = s
            }
        }();
        var c, u = [], h = !1, d = -1;

        function p() {
            h && c && (h = !1, c.length ? u = c.concat(u) : d = -1, u.length && f())
        }

        function f() {
            if (!h) {
                var t = l(p);
                h = !0;
                for (var e = u.length; e;) {
                    for (c = u, u = []; ++d < e;)c && c[d].run();
                    d = -1, e = u.length
                }
                c = null, h = !1, function (t) {
                    if (r === clearTimeout)return clearTimeout(t);
                    if ((r === s || !r) && clearTimeout)return r = clearTimeout, clearTimeout(t);
                    try {
                        r(t)
                    } catch (e) {
                        try {
                            return r.call(null, t)
                        } catch (e) {
                            return r.call(this, t)
                        }
                    }
                }(t)
            }
        }

        function m(t, e) {
            this.fun = t, this.array = e
        }

        function g() {
        }

        o.nextTick = function (t) {
            var e = new Array(arguments.length - 1);
            if (arguments.length > 1)for (var i = 1; i < arguments.length; i++)e[i - 1] = arguments[i];
            u.push(new m(t, e)), 1 !== u.length || h || l(f)
        }, m.prototype.run = function () {
            this.fun.apply(null, this.array)
        }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = g, o.addListener = g, o.once = g, o.off = g, o.removeListener = g, o.removeAllListeners = g, o.emit = g, o.binding = function (t) {
            throw new Error("process.binding is not supported")
        }, o.cwd = function () {
            return "/"
        }, o.chdir = function (t) {
            throw new Error("process.chdir is not supported")
        }, o.umask = function () {
            return 0
        }
    }, {}],
    214: [function (t, e, i) {
        (function (t, i) {
            !function (i) {
                "use strict";
                var n, r = Object.prototype.hasOwnProperty,
                    o = "function" == typeof Symbol && Symbol.iterator || "@@iterator", a = "object" == typeof e,
                    s = i.regeneratorRuntime;
                if (s) a && (e.exports = s); else {
                    (s = i.regeneratorRuntime = a ? e.exports : {}).wrap = f;
                    var l = "suspendedStart", c = "suspendedYield", u = "executing", h = "completed", d = {},
                        p = y.prototype = g.prototype;
                    v.prototype = p.constructor = y, y.constructor = v, v.displayName = "GeneratorFunction", s.isGeneratorFunction = function (t) {
                        var e = "function" == typeof t && t.constructor;
                        return !!e && (e === v || "GeneratorFunction" === (e.displayName || e.name))
                    }, s.mark = function (t) {
                        return Object.setPrototypeOf ? Object.setPrototypeOf(t, y) : t.__proto__ = y, t.prototype = Object.create(p), t
                    }, s.awrap = function (t) {
                        return new x(t)
                    }, _(b.prototype), s.async = function (t, e, i, n) {
                        var r = new b(f(t, e, i, n));
                        return s.isGeneratorFunction(e) ? r : r.next().then(function (t) {
                            return t.done ? t.value : r.next()
                        })
                    }, _(p), p[o] = function () {
                        return this
                    }, p.toString = function () {
                        return "[object Generator]"
                    }, s.keys = function (t) {
                        var e = [];
                        for (var i in t)e.push(i);
                        return e.reverse(), function i() {
                            for (; e.length;) {
                                var n = e.pop();
                                if (n in t)return i.value = n, i.done = !1, i
                            }
                            return i.done = !0, i
                        }
                    }, s.values = T, M.prototype = {
                        constructor: M, reset: function (t) {
                            if (this.prev = 0, this.next = 0, this.sent = n, this.done = !1, this.delegate = null, this.tryEntries.forEach(S), !t)for (var e in this)"t" === e.charAt(0) && r.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = n)
                        }, stop: function () {
                            this.done = !0;
                            var t = this.tryEntries[0].completion;
                            if ("throw" === t.type)throw t.arg;
                            return this.rval
                        }, dispatchException: function (t) {
                            if (this.done)throw t;
                            var e = this;

                            function i(i, n) {
                                return a.type = "throw", a.arg = t, e.next = i, !!n
                            }

                            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                                var o = this.tryEntries[n], a = o.completion;
                                if ("root" === o.tryLoc)return i("end");
                                if (o.tryLoc <= this.prev) {
                                    var s = r.call(o, "catchLoc"), l = r.call(o, "finallyLoc");
                                    if (s && l) {
                                        if (this.prev < o.catchLoc)return i(o.catchLoc, !0);
                                        if (this.prev < o.finallyLoc)return i(o.finallyLoc)
                                    } else if (s) {
                                        if (this.prev < o.catchLoc)return i(o.catchLoc, !0)
                                    } else {
                                        if (!l)throw new Error("try statement without catch or finally");
                                        if (this.prev < o.finallyLoc)return i(o.finallyLoc)
                                    }
                                }
                            }
                        }, abrupt: function (t, e) {
                            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                                var n = this.tryEntries[i];
                                if (n.tryLoc <= this.prev && r.call(n, "finallyLoc") && this.prev < n.finallyLoc) {
                                    var o = n;
                                    break
                                }
                            }
                            o && ("break" === t || "continue" === t) && o.tryLoc <= e && e <= o.finallyLoc && (o = null);
                            var a = o ? o.completion : {};
                            return a.type = t, a.arg = e, o ? this.next = o.finallyLoc : this.complete(a), d
                        }, complete: function (t, e) {
                            if ("throw" === t.type)throw t.arg;
                            "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = t.arg, this.next = "end") : "normal" === t.type && e && (this.next = e)
                        }, finish: function (t) {
                            for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                                var i = this.tryEntries[e];
                                if (i.finallyLoc === t)return this.complete(i.completion, i.afterLoc), S(i), d
                            }
                        }, catch: function (t) {
                            for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                                var i = this.tryEntries[e];
                                if (i.tryLoc === t) {
                                    var n = i.completion;
                                    if ("throw" === n.type) {
                                        var r = n.arg;
                                        S(i)
                                    }
                                    return r
                                }
                            }
                            throw new Error("illegal catch attempt")
                        }, delegateYield: function (t, e, i) {
                            return this.delegate = {iterator: T(t), resultName: e, nextLoc: i}, d
                        }
                    }
                }
                function f(t, e, i, r) {
                    var o = Object.create((e || g).prototype), a = new M(r || []);
                    return o._invoke = function (t, e, i) {
                        var r = l;
                        return function (o, a) {
                            if (r === u)throw new Error("Generator is already running");
                            if (r === h) {
                                if ("throw" === o)throw a;
                                return A()
                            }
                            for (; ;) {
                                var s = i.delegate;
                                if (s) {
                                    if ("return" === o || "throw" === o && s.iterator[o] === n) {
                                        i.delegate = null;
                                        var p = s.iterator.return;
                                        if (p) {
                                            var f = m(p, s.iterator, a);
                                            if ("throw" === f.type) {
                                                o = "throw", a = f.arg;
                                                continue
                                            }
                                        }
                                        if ("return" === o)continue
                                    }
                                    var f = m(s.iterator[o], s.iterator, a);
                                    if ("throw" === f.type) {
                                        i.delegate = null, o = "throw", a = f.arg;
                                        continue
                                    }
                                    o = "next", a = n;
                                    var g = f.arg;
                                    if (!g.done)return r = c, g;
                                    i[s.resultName] = g.value, i.next = s.nextLoc, i.delegate = null
                                }
                                if ("next" === o) i.sent = r === c ? a : n; else if ("throw" === o) {
                                    if (r === l)throw r = h, a;
                                    i.dispatchException(a) && (o = "next", a = n)
                                } else"return" === o && i.abrupt("return", a);
                                r = u;
                                var f = m(t, e, i);
                                if ("normal" === f.type) {
                                    r = i.done ? h : c;
                                    var g = {value: f.arg, done: i.done};
                                    if (f.arg !== d)return g;
                                    i.delegate && "next" === o && (a = n)
                                } else"throw" === f.type && (r = h, o = "throw", a = f.arg)
                            }
                        }
                    }(t, i, a), o
                }

                function m(t, e, i) {
                    try {
                        return {type: "normal", arg: t.call(e, i)}
                    } catch (t) {
                        return {type: "throw", arg: t}
                    }
                }

                function g() {
                }

                function v() {
                }

                function y() {
                }

                function _(t) {
                    ["next", "throw", "return"].forEach(function (e) {
                        t[e] = function (t) {
                            return this._invoke(e, t)
                        }
                    })
                }

                function x(t) {
                    this.arg = t
                }

                function b(e) {
                    function i(t, i) {
                        var n = e[t](i), a = n.value;
                        return a instanceof x ? Promise.resolve(a.arg).then(r, o) : Promise.resolve(a).then(function (t) {
                            return n.value = t, n
                        })
                    }

                    "object" == typeof t && t.domain && (i = t.domain.bind(i));
                    var n, r = i.bind(e, "next"), o = i.bind(e, "throw");
                    i.bind(e, "return");
                    this._invoke = function (t, e) {
                        function r() {
                            return i(t, e)
                        }

                        return n = n ? n.then(r, r) : new Promise(function (t) {
                            t(r())
                        })
                    }
                }

                function w(t) {
                    var e = {tryLoc: t[0]};
                    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e)
                }

                function S(t) {
                    var e = t.completion || {};
                    e.type = "normal", delete e.arg, t.completion = e
                }

                function M(t) {
                    this.tryEntries = [{tryLoc: "root"}], t.forEach(w, this), this.reset(!0)
                }

                function T(t) {
                    if (t) {
                        var e = t[o];
                        if (e)return e.call(t);
                        if ("function" == typeof t.next)return t;
                        if (!isNaN(t.length)) {
                            var i = -1, a = function e() {
                                for (; ++i < t.length;)if (r.call(t, i))return e.value = t[i], e.done = !1, e;
                                return e.value = n, e.done = !0, e
                            };
                            return a.next = a
                        }
                    }
                    return {next: A}
                }

                function A() {
                    return {value: n, done: !0}
                }
            }("object" == typeof i ? i : "object" == typeof window ? window : "object" == typeof self ? self : this)
        }).call(this, t("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {_process: 213}],
    215: [function (t, e, i) {
        e.exports = function (t) {
            var e = t.MOUSE;

            function i(i, n) {
                this.object = i, this.domElement = void 0 !== n ? n : document, this.enabled = !0, this.target = new t.Vector3, this.center = this.target, this.noZoom = !1, this.zoomSpeed = 1, this.minDistance = 0, this.maxDistance = 1 / 0, this.minZoom = 0, this.maxZoom = 1 / 0, this.noRotate = !1, this.rotateSpeed = 1, this.noPan = !1, this.keyPanSpeed = 7, this.autoRotate = !1, this.autoRotateSpeed = 2, this.minPolarAngle = 0, this.maxPolarAngle = Math.PI, this.minAzimuthAngle = -1 / 0, this.maxAzimuthAngle = 1 / 0, this.noKeys = !1, this.keys = {
                    LEFT: 37,
                    UP: 38,
                    RIGHT: 39,
                    BOTTOM: 40
                }, this.mouseButtons = {
                    ORBIT: e.LEFT,
                    ZOOM: e.MIDDLE,
                    PAN: e.RIGHT
                }, this.quat = new t.Quaternion, this.quatInverse = this.quat.clone().inverse();
                var r, o, a = this, s = new t.Vector2, l = new t.Vector2, c = new t.Vector2, u = new t.Vector2,
                    h = new t.Vector2, d = new t.Vector2, p = new t.Vector3, f = new t.Vector3, m = new t.Vector2,
                    g = new t.Vector2, v = new t.Vector2, y = 0, _ = 0, x = 1, b = new t.Vector3, w = new t.Vector3,
                    S = new t.Quaternion, M = new t.Vector3(0, 1, 0),
                    T = {NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5},
                    A = T.NONE;
                this.target0 = this.target.clone(), this.position0 = this.object.position.clone(), this.zoom0 = this.object.zoom;
                var P = {type: "change"}, E = {type: "start"}, C = {type: "end"};

                function O() {
                    return 2 * Math.PI / 60 / 60 * a.autoRotateSpeed
                }

                function L() {
                    return Math.pow(.95, a.zoomSpeed)
                }

                function k(t) {
                    if (!1 !== a.enabled) {
                        t.preventDefault();
                        var e = a.domElement === document ? a.domElement.body : a.domElement;
                        if (A === T.ROTATE) {
                            if (!0 === a.noRotate)return;
                            l.set(t.clientX, t.clientY), c.subVectors(l, s), a.rotateLeft(2 * Math.PI * c.x / e.clientWidth * a.rotateSpeed), a.rotateUp(2 * Math.PI * c.y / e.clientHeight * a.rotateSpeed), s.copy(l)
                        } else if (A === T.DOLLY) {
                            if (!0 === a.noZoom)return;
                            g.set(t.clientX, t.clientY), v.subVectors(g, m), v.y > 0 ? a.dollyIn() : v.y < 0 && a.dollyOut(), m.copy(g)
                        } else if (A === T.PAN) {
                            if (!0 === a.noPan)return;
                            h.set(t.clientX, t.clientY), d.subVectors(h, u), a.pan(d.x, d.y), u.copy(h)
                        }
                        A !== T.NONE && a.update()
                    }
                }

                function I() {
                    !1 !== a.enabled && (document.removeEventListener("mousemove", k, !1), document.removeEventListener("mouseup", I, !1), a.dispatchEvent(C), A = T.NONE)
                }

                function N(t) {
                    if (!1 !== a.enabled && !0 !== a.noZoom && A === T.NONE) {
                        t.preventDefault(), t.stopPropagation();
                        var e = 0;
                        void 0 !== t.wheelDelta ? e = t.wheelDelta : void 0 !== t.detail && (e = -t.detail), e > 0 ? a.dollyOut() : e < 0 && a.dollyIn(), a.update(), a.dispatchEvent(E), a.dispatchEvent(C)
                    }
                }

                this.updateQuat = function () {
                    this.quat.setFromUnitVectors(this.object.up, M), this.quatInverse.copy(this.quat).inverse()
                }, this.updateQuat(), this.rotateLeft = function (t) {
                    void 0 === t && (t = O()), _ -= t
                }, this.rotateUp = function (t) {
                    void 0 === t && (t = O()), y -= t
                }, this.panLeft = function (t) {
                    var e = this.object.matrix.elements;
                    p.set(e[0], e[1], e[2]), p.multiplyScalar(-t), b.add(p)
                }, this.panUp = function (t) {
                    var e = this.object.matrix.elements;
                    p.set(e[4], e[5], e[6]), p.multiplyScalar(t), b.add(p)
                }, this.pan = function (e, i) {
                    var n = a.domElement === document ? a.domElement.body : a.domElement;
                    if (a.object instanceof t.PerspectiveCamera) {
                        var r = a.object.position.clone().sub(a.target).length();
                        r *= Math.tan(a.object.fov / 2 * Math.PI / 180), a.panLeft(2 * e * r / n.clientHeight), a.panUp(2 * i * r / n.clientHeight)
                    } else a.object instanceof t.OrthographicCamera && (a.panLeft(e * (a.object.right - a.object.left) / n.clientWidth), a.panUp(i * (a.object.top - a.object.bottom) / n.clientHeight))
                }, this.dollyIn = function (e) {
                    void 0 === e && (e = L()), a.object instanceof t.PerspectiveCamera ? x /= e : a.object instanceof t.OrthographicCamera && (a.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * e)), a.object.updateProjectionMatrix(), a.dispatchEvent(P))
                }, this.dollyOut = function (e) {
                    void 0 === e && (e = L()), a.object instanceof t.PerspectiveCamera ? x *= e : a.object instanceof t.OrthographicCamera && (a.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / e)), a.object.updateProjectionMatrix(), a.dispatchEvent(P))
                }, this.update = function () {
                    this.updateQuat();
                    var t = this.object.position;
                    f.copy(t).sub(this.target), f.applyQuaternion(this.quat), r = Math.atan2(f.x, f.z), o = Math.atan2(Math.sqrt(f.x * f.x + f.z * f.z), f.y), this.autoRotate && A === T.NONE && this.rotateLeft(O()), r += _, o += y, r = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, r)), o = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, o)), o = Math.max(1e-6, Math.min(Math.PI - 1e-6, o));
                    var e = f.length() * x;
                    e = Math.max(this.minDistance, Math.min(this.maxDistance, e)), this.target.add(b), f.x = e * Math.sin(o) * Math.sin(r), f.y = e * Math.cos(o), f.z = e * Math.sin(o) * Math.cos(r), f.applyQuaternion(this.quatInverse), t.copy(this.target).add(f), this.object.lookAt(this.target), _ = 0, y = 0, x = 1, b.set(0, 0, 0), (w.distanceToSquared(this.object.position) > 1e-6 || 8 * (1 - S.dot(this.object.quaternion)) > 1e-6) && (this.dispatchEvent(P), w.copy(this.object.position), S.copy(this.object.quaternion))
                }, this.reset = function () {
                    A = T.NONE, this.target.copy(this.target0), this.object.position.copy(this.position0), this.object.zoom = this.zoom0, this.object.updateProjectionMatrix(), this.dispatchEvent(P), this.update()
                }, this.getPolarAngle = function () {
                    return o
                }, this.getAzimuthalAngle = function () {
                    return r
                }, this.domElement.addEventListener("contextmenu", function (t) {
                    t.preventDefault()
                }, !1), this.domElement.addEventListener("mousedown", function (t) {
                    if (!1 !== a.enabled) {
                        if (t.preventDefault(), t.button === a.mouseButtons.ORBIT) {
                            if (!0 === a.noRotate)return;
                            A = T.ROTATE, s.set(t.clientX, t.clientY)
                        } else if (t.button === a.mouseButtons.ZOOM) {
                            if (!0 === a.noZoom)return;
                            A = T.DOLLY, m.set(t.clientX, t.clientY)
                        } else if (t.button === a.mouseButtons.PAN) {
                            if (!0 === a.noPan)return;
                            A = T.PAN, u.set(t.clientX, t.clientY)
                        }
                        A !== T.NONE && (document.addEventListener("mousemove", k, !1), document.addEventListener("mouseup", I, !1), a.dispatchEvent(E))
                    }
                }, !1), this.domElement.addEventListener("mousewheel", N, !1), this.domElement.addEventListener("MozMousePixelScroll", N, !1), this.domElement.addEventListener("touchstart", function (t) {
                    if (!1 !== a.enabled) {
                        switch (t.touches.length) {
                            case 1:
                                if (!0 === a.noRotate)return;
                                A = T.TOUCH_ROTATE, s.set(t.touches[0].pageX, t.touches[0].pageY);
                                break;
                            case 2:
                                if (!0 === a.noZoom)return;
                                A = T.TOUCH_DOLLY;
                                var e = t.touches[0].pageX - t.touches[1].pageX,
                                    i = t.touches[0].pageY - t.touches[1].pageY, n = Math.sqrt(e * e + i * i);
                                m.set(0, n);
                                break;
                            case 3:
                                if (!0 === a.noPan)return;
                                A = T.TOUCH_PAN, u.set(t.touches[0].pageX, t.touches[0].pageY);
                                break;
                            default:
                                A = T.NONE
                        }
                        A !== T.NONE && a.dispatchEvent(E)
                    }
                }, !1), this.domElement.addEventListener("touchend", function () {
                    !1 !== a.enabled && (a.dispatchEvent(C), A = T.NONE)
                }, !1), this.domElement.addEventListener("touchmove", function (t) {
                    if (!1 !== a.enabled) {
                        t.preventDefault(), t.stopPropagation();
                        var e = a.domElement === document ? a.domElement.body : a.domElement;
                        switch (t.touches.length) {
                            case 1:
                                if (!0 === a.noRotate)return;
                                if (A !== T.TOUCH_ROTATE)return;
                                l.set(t.touches[0].pageX, t.touches[0].pageY), c.subVectors(l, s), a.rotateLeft(2 * Math.PI * c.x / e.clientWidth * a.rotateSpeed), a.rotateUp(2 * Math.PI * c.y / e.clientHeight * a.rotateSpeed), s.copy(l), a.update();
                                break;
                            case 2:
                                if (!0 === a.noZoom)return;
                                if (A !== T.TOUCH_DOLLY)return;
                                var i = t.touches[0].pageX - t.touches[1].pageX,
                                    n = t.touches[0].pageY - t.touches[1].pageY, r = Math.sqrt(i * i + n * n);
                                g.set(0, r), v.subVectors(g, m), v.y > 0 ? a.dollyOut() : v.y < 0 && a.dollyIn(), m.copy(g), a.update();
                                break;
                            case 3:
                                if (!0 === a.noPan)return;
                                if (A !== T.TOUCH_PAN)return;
                                h.set(t.touches[0].pageX, t.touches[0].pageY), d.subVectors(h, u), a.pan(d.x, d.y), u.copy(h), a.update();
                                break;
                            default:
                                A = T.NONE
                        }
                    }
                }, !1), window.addEventListener("keydown", function (t) {
                    if (!1 !== a.enabled && !0 !== a.noKeys && !0 !== a.noPan)switch (t.keyCode) {
                        case a.keys.UP:
                            a.pan(0, a.keyPanSpeed), a.update();
                            break;
                        case a.keys.BOTTOM:
                            a.pan(0, -a.keyPanSpeed), a.update();
                            break;
                        case a.keys.LEFT:
                            a.pan(a.keyPanSpeed, 0), a.update();
                            break;
                        case a.keys.RIGHT:
                            a.pan(-a.keyPanSpeed, 0), a.update()
                    }
                }, !1), this.update()
            }

            return e || (e = {
                LEFT: 0,
                MIDDLE: 1,
                RIGHT: 2
            }), i.prototype = Object.create(t.EventDispatcher.prototype), i.prototype.constructor = i, i
        }
    }, {}],
    216: [function (t, e, i) {
        var n, r;
        n = this, r = function (t) {
            "use strict";
            function e() {
            }

            void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Number.isInteger && (Number.isInteger = function (t) {
                return "number" == typeof t && isFinite(t) && Math.floor(t) === t
            }), void 0 === Math.sign && (Math.sign = function (t) {
                return t < 0 ? -1 : t > 0 ? 1 : +t
            }), "name" in Function.prototype == !1 && Object.defineProperty(Function.prototype, "name", {
                get: function () {
                    return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]
                }
            }), void 0 === Object.assign && (Object.assign = function (t) {
                if (void 0 === t || null === t)throw new TypeError("Cannot convert undefined or null to object");
                for (var e = Object(t), i = 1; i < arguments.length; i++) {
                    var n = arguments[i];
                    if (void 0 !== n && null !== n)for (var r in n)Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                }
                return e
            }), Object.assign(e.prototype, {
                addEventListener: function (t, e) {
                    void 0 === this._listeners && (this._listeners = {});
                    var i = this._listeners;
                    void 0 === i[t] && (i[t] = []), -1 === i[t].indexOf(e) && i[t].push(e)
                }, hasEventListener: function (t, e) {
                    if (void 0 === this._listeners)return !1;
                    var i = this._listeners;
                    return void 0 !== i[t] && -1 !== i[t].indexOf(e)
                }, removeEventListener: function (t, e) {
                    if (void 0 !== this._listeners) {
                        var i = this._listeners[t];
                        if (void 0 !== i) {
                            var n = i.indexOf(e);
                            -1 !== n && i.splice(n, 1)
                        }
                    }
                }, dispatchEvent: function (t) {
                    if (void 0 !== this._listeners) {
                        var e = this._listeners[t.type];
                        if (void 0 !== e) {
                            t.target = this;
                            for (var i = e.slice(0), n = 0, r = i.length; n < r; n++)i[n].call(this, t)
                        }
                    }
                }
            });
            var i, n, r, o = "105dev", a = 0, s = 1, l = 2, c = 1, u = 2, h = 0, d = 1, p = 2, f = 0, m = 1, g = 2,
                v = 0, y = 1, _ = 2, x = 3, b = 4, w = 5, S = 100, M = 101, T = 102, A = 103, P = 104, E = 200, C = 201,
                O = 202, L = 203, k = 204, I = 205, N = 206, R = 207, D = 208, z = 209, j = 210, F = 0, B = 1, U = 2,
                G = 3, $ = 4, V = 5, W = 6, H = 7, X = 0, q = 1, Y = 2, J = 0, Z = 1, K = 2, Q = 3, tt = 4, et = 5,
                it = 301, nt = 302, rt = 303, ot = 304, at = 305, st = 306, lt = 307, ct = 1e3, ut = 1001, ht = 1002,
                dt = 1003, pt = 1004, ft = 1005, mt = 1006, gt = 1007, vt = 1008, yt = 1009, _t = 1010, xt = 1011,
                bt = 1012, wt = 1013, St = 1014, Mt = 1015, Tt = 1016, At = 1017, Pt = 1018, Et = 1019, Ct = 1020,
                Ot = 1021, Lt = 1022, kt = 1023, It = 1024, Nt = 1025, Rt = kt, Dt = 1026, zt = 1027, jt = 1028,
                Ft = 33776, Bt = 33777, Ut = 33778, Gt = 33779, $t = 35840, Vt = 35841, Wt = 35842, Ht = 35843,
                Xt = 36196, qt = 37808, Yt = 37809, Jt = 37810, Zt = 37811, Kt = 37812, Qt = 37813, te = 37814,
                ee = 37815, ie = 37816, ne = 37817, re = 37818, oe = 37819, ae = 37820, se = 37821, le = 2201,
                ce = 2400, ue = 0, he = 1, de = 2, pe = 3e3, fe = 3001, me = 3007, ge = 3002, ve = 3004, ye = 3005,
                _e = 3006, xe = 3200, be = 3201, we = 0, Se = 1, Me = {
                    DEG2RAD: Math.PI / 180, RAD2DEG: 180 / Math.PI, generateUUID: function () {
                        for (var t = [], e = 0; e < 256; e++)t[e] = (e < 16 ? "0" : "") + e.toString(16);
                        return function () {
                            var e = 4294967295 * Math.random() | 0, i = 4294967295 * Math.random() | 0,
                                n = 4294967295 * Math.random() | 0, r = 4294967295 * Math.random() | 0;
                            return (t[255 & e] + t[e >> 8 & 255] + t[e >> 16 & 255] + t[e >> 24 & 255] + "-" + t[255 & i] + t[i >> 8 & 255] + "-" + t[i >> 16 & 15 | 64] + t[i >> 24 & 255] + "-" + t[63 & n | 128] + t[n >> 8 & 255] + "-" + t[n >> 16 & 255] + t[n >> 24 & 255] + t[255 & r] + t[r >> 8 & 255] + t[r >> 16 & 255] + t[r >> 24 & 255]).toUpperCase()
                        }
                    }(), clamp: function (t, e, i) {
                        return Math.max(e, Math.min(i, t))
                    }, euclideanModulo: function (t, e) {
                        return (t % e + e) % e
                    }, mapLinear: function (t, e, i, n, r) {
                        return n + (t - e) * (r - n) / (i - e)
                    }, lerp: function (t, e, i) {
                        return (1 - i) * t + i * e
                    }, smoothstep: function (t, e, i) {
                        return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * (3 - 2 * t)
                    }, smootherstep: function (t, e, i) {
                        return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e)) * t * t * (t * (6 * t - 15) + 10)
                    }, randInt: function (t, e) {
                        return t + Math.floor(Math.random() * (e - t + 1))
                    }, randFloat: function (t, e) {
                        return t + Math.random() * (e - t)
                    }, randFloatSpread: function (t) {
                        return t * (.5 - Math.random())
                    }, degToRad: function (t) {
                        return t * Me.DEG2RAD
                    }, radToDeg: function (t) {
                        return t * Me.RAD2DEG
                    }, isPowerOfTwo: function (t) {
                        return 0 == (t & t - 1) && 0 !== t
                    }, ceilPowerOfTwo: function (t) {
                        return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2))
                    }, floorPowerOfTwo: function (t) {
                        return Math.pow(2, Math.floor(Math.log(t) / Math.LN2))
                    }
                };

            function Te(t, e) {
                this.x = t || 0, this.y = e || 0
            }

            function Ae(t, e, i, n) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = void 0 !== n ? n : 1
            }

            function Pe(t, e, i) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0
            }

            function Ee() {
                this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1], arguments.length
            }

            Object.defineProperties(Te.prototype, {
                width: {
                    get: function () {
                        return this.x
                    }, set: function (t) {
                        this.x = t
                    }
                }, height: {
                    get: function () {
                        return this.y
                    }, set: function (t) {
                        this.y = t
                    }
                }
            }), Object.assign(Te.prototype, {
                isVector2: !0, set: function (t, e) {
                    return this.x = t, this.y = e, this
                }, setScalar: function (t) {
                    return this.x = t, this.y = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this
                }, add: function (t, e) {
                    return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this
                }, multiply: function (t) {
                    return this.x *= t.x, this.y *= t.y, this
                }, multiplyScalar: function (t) {
                    return this.x *= t, this.y *= t, this
                }, divide: function (t) {
                    return this.x /= t.x, this.y /= t.y, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, applyMatrix3: function (t) {
                    var e = this.x, i = this.y, n = t.elements;
                    return this.x = n[0] * e + n[3] * i + n[6], this.y = n[1] * e + n[4] * i + n[7], this
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this
                }, clampScalar: function (t, e) {
                    return this.x = Math.max(t, Math.min(e, this.x)), this.y = Math.max(t, Math.min(e, this.y)), this
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y
                }, cross: function (t) {
                    return this.x * t.y - this.y * t.x
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                }, manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y)
                }, normalize: function () {
                    return this.divideScalar(this.length() || 1)
                }, angle: function () {
                    var t = Math.atan2(this.y, this.x);
                    return t < 0 && (t += 2 * Math.PI), t
                }, distanceTo: function (t) {
                    return Math.sqrt(this.distanceToSquared(t))
                }, distanceToSquared: function (t) {
                    var e = this.x - t.x, i = this.y - t.y;
                    return e * e + i * i
                }, manhattanDistanceTo: function (t) {
                    return Math.abs(this.x - t.x) + Math.abs(this.y - t.y)
                }, setLength: function (t) {
                    return this.normalize().multiplyScalar(t)
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t
                }, fromBufferAttribute: function (t, e, i) {
                    return this.x = t.getX(e), this.y = t.getY(e), this
                }, rotateAround: function (t, e) {
                    var i = Math.cos(e), n = Math.sin(e), r = this.x - t.x, o = this.y - t.y;
                    return this.x = r * i - o * n + t.x, this.y = r * n + o * i + t.y, this
                }
            }), Object.assign(Ae, {
                slerp: function (t, e, i, n) {
                    return i.copy(t).slerp(e, n)
                }, slerpFlat: function (t, e, i, n, r, o, a) {
                    var s = i[n + 0], l = i[n + 1], c = i[n + 2], u = i[n + 3], h = r[o + 0], d = r[o + 1],
                        p = r[o + 2], f = r[o + 3];
                    if (u !== f || s !== h || l !== d || c !== p) {
                        var m = 1 - a, g = s * h + l * d + c * p + u * f, v = g >= 0 ? 1 : -1, y = 1 - g * g;
                        if (y > Number.EPSILON) {
                            var _ = Math.sqrt(y), x = Math.atan2(_, g * v);
                            m = Math.sin(m * x) / _, a = Math.sin(a * x) / _
                        }
                        var b = a * v;
                        if (s = s * m + h * b, l = l * m + d * b, c = c * m + p * b, u = u * m + f * b, m === 1 - a) {
                            var w = 1 / Math.sqrt(s * s + l * l + c * c + u * u);
                            s *= w, l *= w, c *= w, u *= w
                        }
                    }
                    t[e] = s, t[e + 1] = l, t[e + 2] = c, t[e + 3] = u
                }
            }), Object.defineProperties(Ae.prototype, {
                x: {
                    get: function () {
                        return this._x
                    }, set: function (t) {
                        this._x = t, this.onChangeCallback()
                    }
                }, y: {
                    get: function () {
                        return this._y
                    }, set: function (t) {
                        this._y = t, this.onChangeCallback()
                    }
                }, z: {
                    get: function () {
                        return this._z
                    }, set: function (t) {
                        this._z = t, this.onChangeCallback()
                    }
                }, w: {
                    get: function () {
                        return this._w
                    }, set: function (t) {
                        this._w = t, this.onChangeCallback()
                    }
                }
            }), Object.assign(Ae.prototype, {
                isQuaternion: !0, set: function (t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._w = n, this.onChangeCallback(), this
                }, clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._w)
                }, copy: function (t) {
                    return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this.onChangeCallback(), this
                }, setFromEuler: function (t, e) {
                    if (!t || !t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
                    var i = t._x, n = t._y, r = t._z, o = t.order, a = Math.cos, s = Math.sin, l = a(i / 2),
                        c = a(n / 2), u = a(r / 2), h = s(i / 2), d = s(n / 2), p = s(r / 2);
                    return "XYZ" === o ? (this._x = h * c * u + l * d * p, this._y = l * d * u - h * c * p, this._z = l * c * p + h * d * u, this._w = l * c * u - h * d * p) : "YXZ" === o ? (this._x = h * c * u + l * d * p, this._y = l * d * u - h * c * p, this._z = l * c * p - h * d * u, this._w = l * c * u + h * d * p) : "ZXY" === o ? (this._x = h * c * u - l * d * p, this._y = l * d * u + h * c * p, this._z = l * c * p + h * d * u, this._w = l * c * u - h * d * p) : "ZYX" === o ? (this._x = h * c * u - l * d * p, this._y = l * d * u + h * c * p, this._z = l * c * p - h * d * u, this._w = l * c * u + h * d * p) : "YZX" === o ? (this._x = h * c * u + l * d * p, this._y = l * d * u + h * c * p, this._z = l * c * p - h * d * u, this._w = l * c * u - h * d * p) : "XZY" === o && (this._x = h * c * u - l * d * p, this._y = l * d * u - h * c * p, this._z = l * c * p + h * d * u, this._w = l * c * u + h * d * p), !1 !== e && this.onChangeCallback(), this
                }, setFromAxisAngle: function (t, e) {
                    var i = e / 2, n = Math.sin(i);
                    return this._x = t.x * n, this._y = t.y * n, this._z = t.z * n, this._w = Math.cos(i), this.onChangeCallback(), this
                }, setFromRotationMatrix: function (t) {
                    var e, i = t.elements, n = i[0], r = i[4], o = i[8], a = i[1], s = i[5], l = i[9], c = i[2],
                        u = i[6], h = i[10], d = n + s + h;
                    return d > 0 ? (e = .5 / Math.sqrt(d + 1), this._w = .25 / e, this._x = (u - l) * e, this._y = (o - c) * e, this._z = (a - r) * e) : n > s && n > h ? (e = 2 * Math.sqrt(1 + n - s - h), this._w = (u - l) / e, this._x = .25 * e, this._y = (r + a) / e, this._z = (o + c) / e) : s > h ? (e = 2 * Math.sqrt(1 + s - n - h), this._w = (o - c) / e, this._x = (r + a) / e, this._y = .25 * e, this._z = (l + u) / e) : (e = 2 * Math.sqrt(1 + h - n - s), this._w = (a - r) / e, this._x = (o + c) / e, this._y = (l + u) / e, this._z = .25 * e), this.onChangeCallback(), this
                }, setFromUnitVectors: function (t, e) {
                    var i = t.dot(e) + 1;
                    return i < 1e-6 ? (i = 0, Math.abs(t.x) > Math.abs(t.z) ? (this._x = -t.y, this._y = t.x, this._z = 0, this._w = i) : (this._x = 0, this._y = -t.z, this._z = t.y, this._w = i)) : (this._x = t.y * e.z - t.z * e.y, this._y = t.z * e.x - t.x * e.z, this._z = t.x * e.y - t.y * e.x, this._w = i), this.normalize()
                }, angleTo: function (t) {
                    return 2 * Math.acos(Math.abs(Me.clamp(this.dot(t), -1, 1)))
                }, rotateTowards: function (t, e) {
                    var i = this.angleTo(t);
                    if (0 === i)return this;
                    var n = Math.min(1, e / i);
                    return this.slerp(t, n), this
                }, inverse: function () {
                    return this.conjugate()
                }, conjugate: function () {
                    return this._x *= -1, this._y *= -1, this._z *= -1, this.onChangeCallback(), this
                }, dot: function (t) {
                    return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
                }, lengthSq: function () {
                    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
                }, length: function () {
                    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
                }, normalize: function () {
                    var t = this.length();
                    return 0 === t ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this.onChangeCallback(), this
                }, multiply: function (t, e) {
                    return void 0 !== e ? this.multiplyQuaternions(t, e) : this.multiplyQuaternions(this, t)
                }, premultiply: function (t) {
                    return this.multiplyQuaternions(t, this)
                }, multiplyQuaternions: function (t, e) {
                    var i = t._x, n = t._y, r = t._z, o = t._w, a = e._x, s = e._y, l = e._z, c = e._w;
                    return this._x = i * c + o * a + n * l - r * s, this._y = n * c + o * s + r * a - i * l, this._z = r * c + o * l + i * s - n * a, this._w = o * c - i * a - n * s - r * l, this.onChangeCallback(), this
                }, slerp: function (t, e) {
                    if (0 === e)return this;
                    if (1 === e)return this.copy(t);
                    var i = this._x, n = this._y, r = this._z, o = this._w,
                        a = o * t._w + i * t._x + n * t._y + r * t._z;
                    if (a < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, a = -a) : this.copy(t), a >= 1)return this._w = o, this._x = i, this._y = n, this._z = r, this;
                    var s = 1 - a * a;
                    if (s <= Number.EPSILON) {
                        var l = 1 - e;
                        return this._w = l * o + e * this._w, this._x = l * i + e * this._x, this._y = l * n + e * this._y, this._z = l * r + e * this._z, this.normalize()
                    }
                    var c = Math.sqrt(s), u = Math.atan2(c, a), h = Math.sin((1 - e) * u) / c, d = Math.sin(e * u) / c;
                    return this._w = o * h + this._w * d, this._x = i * h + this._x * d, this._y = n * h + this._y * d, this._z = r * h + this._z * d, this.onChangeCallback(), this
                }, equals: function (t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this.onChangeCallback(), this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t
                }, onChange: function (t) {
                    return this.onChangeCallback = t, this
                }, onChangeCallback: function () {
                }
            }), Object.assign(Pe.prototype, {
                isVector3: !0, set: function (t, e, i) {
                    return this.x = t, this.y = e, this.z = i, this
                }, setScalar: function (t) {
                    return this.x = t, this.y = t, this.z = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setZ: function (t) {
                    return this.z = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        case 2:
                            this.z = e;
                            break;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y, this.z)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this
                }, add: function (t, e) {
                    return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this.z += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this.z -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this
                }, multiply: function (t, e) {
                    return void 0 !== e ? this.multiplyVectors(t, e) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this)
                }, multiplyScalar: function (t) {
                    return this.x *= t, this.y *= t, this.z *= t, this
                }, multiplyVectors: function (t, e) {
                    return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this
                }, applyEuler: (n = new Ae, function (t) {
                    return !t || t.isEuler, this.applyQuaternion(n.setFromEuler(t))
                }), applyAxisAngle: function () {
                    var t = new Ae;
                    return function (e, i) {
                        return this.applyQuaternion(t.setFromAxisAngle(e, i))
                    }
                }(), applyMatrix3: function (t) {
                    var e = this.x, i = this.y, n = this.z, r = t.elements;
                    return this.x = r[0] * e + r[3] * i + r[6] * n, this.y = r[1] * e + r[4] * i + r[7] * n, this.z = r[2] * e + r[5] * i + r[8] * n, this
                }, applyMatrix4: function (t) {
                    var e = this.x, i = this.y, n = this.z, r = t.elements,
                        o = 1 / (r[3] * e + r[7] * i + r[11] * n + r[15]);
                    return this.x = (r[0] * e + r[4] * i + r[8] * n + r[12]) * o, this.y = (r[1] * e + r[5] * i + r[9] * n + r[13]) * o, this.z = (r[2] * e + r[6] * i + r[10] * n + r[14]) * o, this
                }, applyQuaternion: function (t) {
                    var e = this.x, i = this.y, n = this.z, r = t.x, o = t.y, a = t.z, s = t.w,
                        l = s * e + o * n - a * i, c = s * i + a * e - r * n, u = s * n + r * i - o * e,
                        h = -r * e - o * i - a * n;
                    return this.x = l * s + h * -r + c * -a - u * -o, this.y = c * s + h * -o + u * -r - l * -a, this.z = u * s + h * -a + l * -o - c * -r, this
                }, project: function (t) {
                    return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)
                }, unproject: function (t) {
                    return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)
                }, transformDirection: function (t) {
                    var e = this.x, i = this.y, n = this.z, r = t.elements;
                    return this.x = r[0] * e + r[4] * i + r[8] * n, this.y = r[1] * e + r[5] * i + r[9] * n, this.z = r[2] * e + r[6] * i + r[10] * n, this.normalize()
                }, divide: function (t) {
                    return this.x /= t.x, this.y /= t.y, this.z /= t.z, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this
                }, clampScalar: function (t, e) {
                    return this.x = Math.max(t, Math.min(e, this.x)), this.y = Math.max(t, Math.min(e, this.y)), this.z = Math.max(t, Math.min(e, this.z)), this
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
                }, manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z)
                }, normalize: function () {
                    return this.divideScalar(this.length() || 1)
                }, setLength: function (t) {
                    return this.normalize().multiplyScalar(t)
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, cross: function (t, e) {
                    return void 0 !== e ? this.crossVectors(t, e) : this.crossVectors(this, t)
                }, crossVectors: function (t, e) {
                    var i = t.x, n = t.y, r = t.z, o = e.x, a = e.y, s = e.z;
                    return this.x = n * s - r * a, this.y = r * o - i * s, this.z = i * a - n * o, this
                }, projectOnVector: function (t) {
                    var e = t.dot(this) / t.lengthSq();
                    return this.copy(t).multiplyScalar(e)
                }, projectOnPlane: (i = new Pe, function (t) {
                    return i.copy(this).projectOnVector(t), this.sub(i)
                }), reflect: function () {
                    var t = new Pe;
                    return function (e) {
                        return this.sub(t.copy(e).multiplyScalar(2 * this.dot(e)))
                    }
                }(), angleTo: function (t) {
                    var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq());
                    return Math.acos(Me.clamp(e, -1, 1))
                }, distanceTo: function (t) {
                    return Math.sqrt(this.distanceToSquared(t))
                }, distanceToSquared: function (t) {
                    var e = this.x - t.x, i = this.y - t.y, n = this.z - t.z;
                    return e * e + i * i + n * n
                }, manhattanDistanceTo: function (t) {
                    return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z)
                }, setFromSpherical: function (t) {
                    return this.setFromSphericalCoords(t.radius, t.phi, t.theta)
                }, setFromSphericalCoords: function (t, e, i) {
                    var n = Math.sin(e) * t;
                    return this.x = n * Math.sin(i), this.y = Math.cos(e) * t, this.z = n * Math.cos(i), this
                }, setFromCylindrical: function (t) {
                    return this.setFromCylindricalCoords(t.radius, t.theta, t.y)
                }, setFromCylindricalCoords: function (t, e, i) {
                    return this.x = t * Math.sin(e), this.y = i, this.z = t * Math.cos(e), this
                }, setFromMatrixPosition: function (t) {
                    var e = t.elements;
                    return this.x = e[12], this.y = e[13], this.z = e[14], this
                }, setFromMatrixScale: function (t) {
                    var e = this.setFromMatrixColumn(t, 0).length(), i = this.setFromMatrixColumn(t, 1).length(),
                        n = this.setFromMatrixColumn(t, 2).length();
                    return this.x = e, this.y = i, this.z = n, this
                }, setFromMatrixColumn: function (t, e) {
                    return this.fromArray(t.elements, 4 * e)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t
                }, fromBufferAttribute: function (t, e, i) {
                    return this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this
                }
            }), Object.assign(Ee.prototype, {
                isMatrix3: !0, set: function (t, e, i, n, r, o, a, s, l) {
                    var c = this.elements;
                    return c[0] = t, c[1] = n, c[2] = a, c[3] = e, c[4] = r, c[5] = s, c[6] = i, c[7] = o, c[8] = l, this
                }, identity: function () {
                    return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this
                }, clone: function () {
                    return (new this.constructor).fromArray(this.elements)
                }, copy: function (t) {
                    var e = this.elements, i = t.elements;
                    return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], this
                }, setFromMatrix4: function (t) {
                    var e = t.elements;
                    return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]), this
                }, applyToBufferAttribute: function () {
                    var t = new Pe;
                    return function (e) {
                        for (var i = 0, n = e.count; i < n; i++)t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.applyMatrix3(this), e.setXYZ(i, t.x, t.y, t.z);
                        return e
                    }
                }(), multiply: function (t) {
                    return this.multiplyMatrices(this, t)
                }, premultiply: function (t) {
                    return this.multiplyMatrices(t, this)
                }, multiplyMatrices: function (t, e) {
                    var i = t.elements, n = e.elements, r = this.elements, o = i[0], a = i[3], s = i[6], l = i[1],
                        c = i[4], u = i[7], h = i[2], d = i[5], p = i[8], f = n[0], m = n[3], g = n[6], v = n[1],
                        y = n[4], _ = n[7], x = n[2], b = n[5], w = n[8];
                    return r[0] = o * f + a * v + s * x, r[3] = o * m + a * y + s * b, r[6] = o * g + a * _ + s * w, r[1] = l * f + c * v + u * x, r[4] = l * m + c * y + u * b, r[7] = l * g + c * _ + u * w, r[2] = h * f + d * v + p * x, r[5] = h * m + d * y + p * b, r[8] = h * g + d * _ + p * w, this
                }, multiplyScalar: function (t) {
                    var e = this.elements;
                    return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this
                }, determinant: function () {
                    var t = this.elements, e = t[0], i = t[1], n = t[2], r = t[3], o = t[4], a = t[5], s = t[6],
                        l = t[7], c = t[8];
                    return e * o * c - e * a * l - i * r * c + i * a * s + n * r * l - n * o * s
                }, getInverse: function (t, e) {
                    t && t.isMatrix4;
                    var i = t.elements, n = this.elements, r = i[0], o = i[1], a = i[2], s = i[3], l = i[4], c = i[5],
                        u = i[6], h = i[7], d = i[8], p = d * l - c * h, f = c * u - d * s, m = h * s - l * u,
                        g = r * p + o * f + a * m;
                    if (0 === g) {
                        var v = "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";
                        if (!0 === e)throw new Error(v);
                        return this.identity()
                    }
                    var y = 1 / g;
                    return n[0] = p * y, n[1] = (a * h - d * o) * y, n[2] = (c * o - a * l) * y, n[3] = f * y, n[4] = (d * r - a * u) * y, n[5] = (a * s - c * r) * y, n[6] = m * y, n[7] = (o * u - h * r) * y, n[8] = (l * r - o * s) * y, this
                }, transpose: function () {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this
                }, getNormalMatrix: function (t) {
                    return this.setFromMatrix4(t).getInverse(this).transpose()
                }, transposeIntoArray: function (t) {
                    var e = this.elements;
                    return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this
                }, setUvTransform: function (t, e, i, n, r, o, a) {
                    var s = Math.cos(r), l = Math.sin(r);
                    this.set(i * s, i * l, -i * (s * o + l * a) + o + t, -n * l, n * s, -n * (-l * o + s * a) + a + e, 0, 0, 1)
                }, scale: function (t, e) {
                    var i = this.elements;
                    return i[0] *= t, i[3] *= t, i[6] *= t, i[1] *= e, i[4] *= e, i[7] *= e, this
                }, rotate: function (t) {
                    var e = Math.cos(t), i = Math.sin(t), n = this.elements, r = n[0], o = n[3], a = n[6], s = n[1],
                        l = n[4], c = n[7];
                    return n[0] = e * r + i * s, n[3] = e * o + i * l, n[6] = e * a + i * c, n[1] = -i * r + e * s, n[4] = -i * o + e * l, n[7] = -i * a + e * c, this
                }, translate: function (t, e) {
                    var i = this.elements;
                    return i[0] += t * i[2], i[3] += t * i[5], i[6] += t * i[8], i[1] += e * i[2], i[4] += e * i[5], i[7] += e * i[8], this
                }, equals: function (t) {
                    for (var e = this.elements, i = t.elements, n = 0; n < 9; n++)if (e[n] !== i[n])return !1;
                    return !0
                }, fromArray: function (t, e) {
                    void 0 === e && (e = 0);
                    for (var i = 0; i < 9; i++)this.elements[i] = t[i + e];
                    return this
                }, toArray: function (t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t
                }
            });
            var Ce, Oe, Le, ke, Ie, Ne, Re, De, ze, je, Fe, Be, Ue, Ge, $e = {
                getDataURL: function (t) {
                    var e;
                    if ("undefined" == typeof HTMLCanvasElement)return t.src;
                    if (t instanceof HTMLCanvasElement) e = t; else {
                        void 0 === r && (r = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")), r.width = t.width, r.height = t.height;
                        var i = r.getContext("2d");
                        t instanceof ImageData ? i.putImageData(t, 0, 0) : i.drawImage(t, 0, 0, t.width, t.height), e = r
                    }
                    return e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png")
                }
            }, Ve = 0;

            function We(t, e, i, n, r, o, a, s, l, c) {
                Object.defineProperty(this, "id", {value: Ve++}), this.uuid = Me.generateUUID(), this.name = "", this.image = void 0 !== t ? t : We.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : We.DEFAULT_MAPPING, this.wrapS = void 0 !== i ? i : ut, this.wrapT = void 0 !== n ? n : ut, this.magFilter = void 0 !== r ? r : mt, this.minFilter = void 0 !== o ? o : vt, this.anisotropy = void 0 !== l ? l : 1, this.format = void 0 !== a ? a : kt, this.type = void 0 !== s ? s : yt, this.offset = new Te(0, 0), this.repeat = new Te(1, 1), this.center = new Te(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new Ee, this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = void 0 !== c ? c : pe, this.version = 0, this.onUpdate = null
            }

            function He(t, e, i, n) {
                this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = void 0 !== n ? n : 1
            }

            function Xe(t, e, i) {
                this.width = t, this.height = e, this.scissor = new He(0, 0, t, e), this.scissorTest = !1, this.viewport = new He(0, 0, t, e), i = i || {}, this.texture = new We(void 0, void 0, i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.encoding), this.texture.generateMipmaps = void 0 !== i.generateMipmaps && i.generateMipmaps, this.texture.minFilter = void 0 !== i.minFilter ? i.minFilter : mt, this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer, this.depthTexture = void 0 !== i.depthTexture ? i.depthTexture : null
            }

            function qe(t, e, i, n) {
                Xe.call(this, t, e, n), this.textures = [];
                for (var r = 0; r < i; r++)this.textures[r] = this.texture.clone()
            }

            function Ye(t, e, i) {
                Xe.call(this, t, e, i), this.samples = 4
            }

            function Je(t, e, i) {
                Xe.call(this, t, e, i)
            }

            function Ze(t, e, i, n, r, o, a, s, l, c, u, h) {
                We.call(this, null, o, a, s, l, c, n, r, u, h), this.image = {
                    data: t,
                    width: e,
                    height: i
                }, this.magFilter = void 0 !== l ? l : dt, this.minFilter = void 0 !== c ? c : dt, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1
            }

            function Ke(t, e) {
                this.min = void 0 !== t ? t : new Pe(1 / 0, 1 / 0, 1 / 0), this.max = void 0 !== e ? e : new Pe(-1 / 0, -1 / 0, -1 / 0)
            }

            function Qe(t, e) {
                this.center = void 0 !== t ? t : new Pe, this.radius = void 0 !== e ? e : 0
            }

            function ti(t, e) {
                this.normal = void 0 !== t ? t : new Pe(1, 0, 0), this.constant = void 0 !== e ? e : 0
            }

            function ei(t, e, i, n, r, o) {
                this.planes = [void 0 !== t ? t : new ti, void 0 !== e ? e : new ti, void 0 !== i ? i : new ti, void 0 !== n ? n : new ti, void 0 !== r ? r : new ti, void 0 !== o ? o : new ti]
            }

            function ii() {
                this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], arguments.length
            }

            We.DEFAULT_IMAGE = void 0, We.DEFAULT_MAPPING = 300, We.prototype = Object.assign(Object.create(e.prototype), {
                constructor: We,
                isTexture: !0,
                updateMatrix: function () {
                    this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (t) {
                    return this.name = t.name, this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.center.copy(t.center), this.rotation = t.rotation, this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrix.copy(t.matrix), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this
                },
                toJSON: function (t) {
                    var e = void 0 === t || "string" == typeof t;
                    if (!e && void 0 !== t.textures[this.uuid])return t.textures[this.uuid];
                    var i = {
                        metadata: {version: 4.5, type: "Texture", generator: "Texture.toJSON"},
                        uuid: this.uuid,
                        name: this.name,
                        mapping: this.mapping,
                        repeat: [this.repeat.x, this.repeat.y],
                        offset: [this.offset.x, this.offset.y],
                        center: [this.center.x, this.center.y],
                        rotation: this.rotation,
                        wrap: [this.wrapS, this.wrapT],
                        format: this.format,
                        type: this.type,
                        encoding: this.encoding,
                        minFilter: this.minFilter,
                        magFilter: this.magFilter,
                        anisotropy: this.anisotropy,
                        flipY: this.flipY,
                        premultiplyAlpha: this.premultiplyAlpha,
                        unpackAlignment: this.unpackAlignment
                    };
                    if (void 0 !== this.image) {
                        var n = this.image;
                        if (void 0 === n.uuid && (n.uuid = Me.generateUUID()), !e && void 0 === t.images[n.uuid]) {
                            var r;
                            if (Array.isArray(n)) {
                                r = [];
                                for (var o = 0, a = n.length; o < a; o++)r.push($e.getDataURL(n[o]))
                            } else r = $e.getDataURL(n);
                            t.images[n.uuid] = {uuid: n.uuid, url: r}
                        }
                        i.image = n.uuid
                    }
                    return e || (t.textures[this.uuid] = i), i
                },
                dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                },
                transformUv: function (t) {
                    if (300 !== this.mapping)return t;
                    if (t.applyMatrix3(this.matrix), t.x < 0 || t.x > 1)switch (this.wrapS) {
                        case ct:
                            t.x = t.x - Math.floor(t.x);
                            break;
                        case ut:
                            t.x = t.x < 0 ? 0 : 1;
                            break;
                        case ht:
                            1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x)
                    }
                    if (t.y < 0 || t.y > 1)switch (this.wrapT) {
                        case ct:
                            t.y = t.y - Math.floor(t.y);
                            break;
                        case ut:
                            t.y = t.y < 0 ? 0 : 1;
                            break;
                        case ht:
                            1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y)
                    }
                    return this.flipY && (t.y = 1 - t.y), t
                }
            }), Object.defineProperty(We.prototype, "needsUpdate", {
                set: function (t) {
                    !0 === t && this.version++
                }
            }), Object.assign(He.prototype, {
                isVector4: !0, set: function (t, e, i, n) {
                    return this.x = t, this.y = e, this.z = i, this.w = n, this
                }, setScalar: function (t) {
                    return this.x = t, this.y = t, this.z = t, this.w = t, this
                }, setX: function (t) {
                    return this.x = t, this
                }, setY: function (t) {
                    return this.y = t, this
                }, setZ: function (t) {
                    return this.z = t, this
                }, setW: function (t) {
                    return this.w = t, this
                }, setComponent: function (t, e) {
                    switch (t) {
                        case 0:
                            this.x = e;
                            break;
                        case 1:
                            this.y = e;
                            break;
                        case 2:
                            this.z = e;
                            break;
                        case 3:
                            this.w = e;
                            break;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                    return this
                }, getComponent: function (t) {
                    switch (t) {
                        case 0:
                            return this.x;
                        case 1:
                            return this.y;
                        case 2:
                            return this.z;
                        case 3:
                            return this.w;
                        default:
                            throw new Error("index is out of range: " + t)
                    }
                }, clone: function () {
                    return new this.constructor(this.x, this.y, this.z, this.w)
                }, copy: function (t) {
                    return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this
                }, add: function (t, e) {
                    return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this)
                }, addScalar: function (t) {
                    return this.x += t, this.y += t, this.z += t, this.w += t, this
                }, addVectors: function (t, e) {
                    return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this
                }, addScaledVector: function (t, e) {
                    return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this
                }, sub: function (t, e) {
                    return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this)
                }, subScalar: function (t) {
                    return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this
                }, subVectors: function (t, e) {
                    return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this
                }, multiplyScalar: function (t) {
                    return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this
                }, applyMatrix4: function (t) {
                    var e = this.x, i = this.y, n = this.z, r = this.w, o = t.elements;
                    return this.x = o[0] * e + o[4] * i + o[8] * n + o[12] * r, this.y = o[1] * e + o[5] * i + o[9] * n + o[13] * r, this.z = o[2] * e + o[6] * i + o[10] * n + o[14] * r, this.w = o[3] * e + o[7] * i + o[11] * n + o[15] * r, this
                }, divideScalar: function (t) {
                    return this.multiplyScalar(1 / t)
                }, setAxisAngleFromQuaternion: function (t) {
                    this.w = 2 * Math.acos(t.w);
                    var e = Math.sqrt(1 - t.w * t.w);
                    return e < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this
                }, setAxisAngleFromRotationMatrix: function (t) {
                    var e, i, n, r, o = t.elements, a = o[0], s = o[4], l = o[8], c = o[1], u = o[5], h = o[9],
                        d = o[2], p = o[6], f = o[10];
                    if (Math.abs(s - c) < .01 && Math.abs(l - d) < .01 && Math.abs(h - p) < .01) {
                        if (Math.abs(s + c) < .1 && Math.abs(l + d) < .1 && Math.abs(h + p) < .1 && Math.abs(a + u + f - 3) < .1)return this.set(1, 0, 0, 0), this;
                        e = Math.PI;
                        var m = (a + 1) / 2, g = (u + 1) / 2, v = (f + 1) / 2, y = (s + c) / 4, _ = (l + d) / 4,
                            x = (h + p) / 4;
                        return m > g && m > v ? m < .01 ? (i = 0, n = .707106781, r = .707106781) : (n = y / (i = Math.sqrt(m)), r = _ / i) : g > v ? g < .01 ? (i = .707106781, n = 0, r = .707106781) : (i = y / (n = Math.sqrt(g)), r = x / n) : v < .01 ? (i = .707106781, n = .707106781, r = 0) : (i = _ / (r = Math.sqrt(v)), n = x / r), this.set(i, n, r, e), this
                    }
                    var b = Math.sqrt((p - h) * (p - h) + (l - d) * (l - d) + (c - s) * (c - s));
                    return Math.abs(b) < .001 && (b = 1), this.x = (p - h) / b, this.y = (l - d) / b, this.z = (c - s) / b, this.w = Math.acos((a + u + f - 1) / 2), this
                }, min: function (t) {
                    return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this
                }, max: function (t) {
                    return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this
                }, clamp: function (t, e) {
                    return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this
                }, clampScalar: function (t, e) {
                    return void 0 === Ce && (Ce = new He, Oe = new He), Ce.set(t, t, t, t), Oe.set(e, e, e, e), this.clamp(Ce, Oe)
                }, clampLength: function (t, e) {
                    var i = this.length();
                    return this.divideScalar(i || 1).multiplyScalar(Math.max(t, Math.min(e, i)))
                }, floor: function () {
                    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this
                }, ceil: function () {
                    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this
                }, round: function () {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this
                }, roundToZero: function () {
                    return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this
                }, negate: function () {
                    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this
                }, dot: function (t) {
                    return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w
                }, lengthSq: function () {
                    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
                }, length: function () {
                    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
                }, manhattanLength: function () {
                    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
                }, normalize: function () {
                    return this.divideScalar(this.length() || 1)
                }, setLength: function (t) {
                    return this.normalize().multiplyScalar(t)
                }, lerp: function (t, e) {
                    return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this
                }, lerpVectors: function (t, e, i) {
                    return this.subVectors(e, t).multiplyScalar(i).add(t)
                }, equals: function (t) {
                    return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t
                }, fromBufferAttribute: function (t, e, i) {
                    return this.x = t.getX(e), this.y = t.getY(e), this.z = t.getZ(e), this.w = t.getW(e), this
                }
            }), Xe.prototype = Object.assign(Object.create(e.prototype), {
                constructor: Xe,
                isWebGLRenderTarget: !0,
                setSize: function (t, e) {
                    this.width === t && this.height === e || (this.width = t, this.height = e, this.dispose()), this.viewport.set(0, 0, t, e), this.scissor.set(0, 0, t, e)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (t) {
                    return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.depthTexture = t.depthTexture, this
                },
                dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }), qe.prototype = Object.assign(Object.create(Xe.prototype), {
                constructor: qe,
                isWebGLMultiRenderTarget: !0,
                copy: function (t) {
                    Xe.prototype.copy.call(this, t), this.textures.length = 0;
                    for (var e = 0, i = t.textures.length; e < i; e++)this.textures[e] = t.textures[e].clone();
                    return this
                }

            }), Ye.prototype = Object.assign(Object.create(Xe.prototype), {
                constructor: Ye,
                isWebGLMultisampleRenderTarget: !0,
                copy: function (t) {
                    return Xe.prototype.copy.call(this, t), this.samples = t.samples, this
                }
            }), Je.prototype = Object.create(Xe.prototype), Je.prototype.constructor = Je, Je.prototype.isWebGLRenderTargetCube = !0, Ze.prototype = Object.create(We.prototype), Ze.prototype.constructor = Ze, Ze.prototype.isDataTexture = !0, Object.assign(Ke.prototype, {
                isBox3: !0,
                set: function (t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                },
                setFromArray: function (t) {
                    for (var e = 1 / 0, i = 1 / 0, n = 1 / 0, r = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, l = t.length; s < l; s += 3) {
                        var c = t[s], u = t[s + 1], h = t[s + 2];
                        c < e && (e = c), u < i && (i = u), h < n && (n = h), c > r && (r = c), u > o && (o = u), h > a && (a = h)
                    }
                    return this.min.set(e, i, n), this.max.set(r, o, a), this
                },
                setFromBufferAttribute: function (t) {
                    for (var e = 1 / 0, i = 1 / 0, n = 1 / 0, r = -1 / 0, o = -1 / 0, a = -1 / 0, s = 0, l = t.count; s < l; s++) {
                        var c = t.getX(s), u = t.getY(s), h = t.getZ(s);
                        c < e && (e = c), u < i && (i = u), h < n && (n = h), c > r && (r = c), u > o && (o = u), h > a && (a = h)
                    }
                    return this.min.set(e, i, n), this.max.set(r, o, a), this
                },
                setFromPoints: function (t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++)this.expandByPoint(t[e]);
                    return this
                },
                setFromCenterAndSize: function () {
                    var t = new Pe;
                    return function (e, i) {
                        var n = t.copy(i).multiplyScalar(.5);
                        return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                    }
                }(),
                setFromObject: function (t) {
                    return this.makeEmpty(), this.expandByObject(t)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                },
                makeEmpty: function () {
                    return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this
                },
                isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
                },
                getCenter: function (t) {
                    return void 0 === t && (t = new Pe), this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
                },
                getSize: function (t) {
                    return void 0 === t && (t = new Pe), this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
                },
                expandByPoint: function (t) {
                    return this.min.min(t), this.max.max(t), this
                },
                expandByVector: function (t) {
                    return this.min.sub(t), this.max.add(t), this
                },
                expandByScalar: function (t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                },
                expandByObject: function () {
                    var t, e, i, n = new Pe;

                    function r(r) {
                        var o = r.geometry;
                        if (void 0 !== o)if (o.isGeometry) {
                            var a = o.vertices;
                            for (e = 0, i = a.length; e < i; e++)n.copy(a[e]), n.applyMatrix4(r.matrixWorld), t.expandByPoint(n)
                        } else if (o.isBufferGeometry) {
                            var s = o.attributes.position;
                            if (void 0 !== s)for (e = 0, i = s.count; e < i; e++)n.fromBufferAttribute(s, e).applyMatrix4(r.matrixWorld), t.expandByPoint(n)
                        }
                    }

                    return function (e) {
                        return t = this, e.updateMatrixWorld(!0), e.traverse(r), this
                    }
                }(),
                containsPoint: function (t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z)
                },
                containsBox: function (t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z
                },
                getParameter: function (t, e) {
                    return void 0 === e && (e = new Pe), e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z))
                },
                intersectsBox: function (t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z)
                },
                intersectsSphere: (ke = new Pe, function (t) {
                    return this.clampPoint(t.center, ke), ke.distanceToSquared(t.center) <= t.radius * t.radius
                }),
                intersectsPlane: function (t) {
                    var e, i;
                    return t.normal.x > 0 ? (e = t.normal.x * this.min.x, i = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, i = t.normal.x * this.min.x), t.normal.y > 0 ? (e += t.normal.y * this.min.y, i += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, i += t.normal.y * this.min.y), t.normal.z > 0 ? (e += t.normal.z * this.min.z, i += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, i += t.normal.z * this.min.z), e <= -t.constant && i >= -t.constant
                },
                intersectsTriangle: function () {
                    var t = new Pe, e = new Pe, i = new Pe, n = new Pe, r = new Pe, o = new Pe, a = new Pe, s = new Pe,
                        l = new Pe, c = new Pe;

                    function u(n) {
                        var r, o;
                        for (r = 0, o = n.length - 3; r <= o; r += 3) {
                            a.fromArray(n, r);
                            var s = l.x * Math.abs(a.x) + l.y * Math.abs(a.y) + l.z * Math.abs(a.z), c = t.dot(a),
                                u = e.dot(a), h = i.dot(a);
                            if (Math.max(-Math.max(c, u, h), Math.min(c, u, h)) > s)return !1
                        }
                        return !0
                    }

                    return function (a) {
                        if (this.isEmpty())return !1;
                        this.getCenter(s), l.subVectors(this.max, s), t.subVectors(a.a, s), e.subVectors(a.b, s), i.subVectors(a.c, s), n.subVectors(e, t), r.subVectors(i, e), o.subVectors(t, i);
                        var h = [0, -n.z, n.y, 0, -r.z, r.y, 0, -o.z, o.y, n.z, 0, -n.x, r.z, 0, -r.x, o.z, 0, -o.x, -n.y, n.x, 0, -r.y, r.x, 0, -o.y, o.x, 0];
                        return !!u(h) && (!!u(h = [1, 0, 0, 0, 1, 0, 0, 0, 1]) && (c.crossVectors(n, r), u(h = [c.x, c.y, c.z])))
                    }
                }(),
                clampPoint: function (t, e) {
                    return void 0 === e && (e = new Pe), e.copy(t).clamp(this.min, this.max)
                },
                distanceToPoint: function () {
                    var t = new Pe;
                    return function (e) {
                        return t.copy(e).clamp(this.min, this.max).sub(e).length()
                    }
                }(),
                getBoundingSphere: function () {
                    var t = new Pe;
                    return function (e) {
                        return this.getCenter(e.center), e.radius = .5 * this.getSize(t).length(), e
                    }
                }(),
                intersect: function (t) {
                    return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this
                },
                union: function (t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                },
                applyMatrix4: (Le = [new Pe, new Pe, new Pe, new Pe, new Pe, new Pe, new Pe, new Pe], function (t) {
                    return this.isEmpty() ? this : (Le[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t), Le[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t), Le[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t), Le[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t), Le[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t), Le[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t), Le[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t), Le[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t), this.setFromPoints(Le), this)
                }),
                translate: function (t) {
                    return this.min.add(t), this.max.add(t), this
                },
                equals: function (t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            }), Object.assign(Qe.prototype, {
                set: function (t, e) {
                    return this.center.copy(t), this.radius = e, this
                }, setFromPoints: (Ie = new Ke, function (t, e) {
                    var i = this.center;
                    void 0 !== e ? i.copy(e) : Ie.setFromPoints(t).getCenter(i);
                    for (var n = 0, r = 0, o = t.length; r < o; r++)n = Math.max(n, i.distanceToSquared(t[r]));
                    return this.radius = Math.sqrt(n), this
                }), clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.center.copy(t.center), this.radius = t.radius, this
                }, empty: function () {
                    return this.radius <= 0
                }, containsPoint: function (t) {
                    return t.distanceToSquared(this.center) <= this.radius * this.radius
                }, distanceToPoint: function (t) {
                    return t.distanceTo(this.center) - this.radius
                }, intersectsSphere: function (t) {
                    var e = this.radius + t.radius;
                    return t.center.distanceToSquared(this.center) <= e * e
                }, intersectsBox: function (t) {
                    return t.intersectsSphere(this)
                }, intersectsPlane: function (t) {
                    return Math.abs(t.distanceToPoint(this.center)) <= this.radius
                }, clampPoint: function (t, e) {
                    var i = this.center.distanceToSquared(t);
                    return void 0 === e && (e = new Pe), e.copy(t), i > this.radius * this.radius && (e.sub(this.center).normalize(), e.multiplyScalar(this.radius).add(this.center)), e
                }, getBoundingBox: function (t) {
                    return void 0 === t && (t = new Ke), t.set(this.center, this.center), t.expandByScalar(this.radius), t
                }, applyMatrix4: function (t) {
                    return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this
                }, translate: function (t) {
                    return this.center.add(t), this
                }, equals: function (t) {
                    return t.center.equals(this.center) && t.radius === this.radius
                }
            }), Object.assign(ti.prototype, {
                set: function (t, e) {
                    return this.normal.copy(t), this.constant = e, this
                }, setComponents: function (t, e, i, n) {
                    return this.normal.set(t, e, i), this.constant = n, this
                }, setFromNormalAndCoplanarPoint: function (t, e) {
                    return this.normal.copy(t), this.constant = -e.dot(this.normal), this
                }, setFromCoplanarPoints: function () {
                    var t = new Pe, e = new Pe;
                    return function (i, n, r) {
                        var o = t.subVectors(r, n).cross(e.subVectors(i, n)).normalize();
                        return this.setFromNormalAndCoplanarPoint(o, i), this
                    }
                }(), clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.normal.copy(t.normal), this.constant = t.constant, this
                }, normalize: function () {
                    var t = 1 / this.normal.length();
                    return this.normal.multiplyScalar(t), this.constant *= t, this
                }, negate: function () {
                    return this.constant *= -1, this.normal.negate(), this
                }, distanceToPoint: function (t) {
                    return this.normal.dot(t) + this.constant
                }, distanceToSphere: function (t) {
                    return this.distanceToPoint(t.center) - t.radius
                }, projectPoint: function (t, e) {
                    return void 0 === e && (e = new Pe), e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)
                }, intersectLine: function () {
                    var t = new Pe;
                    return function (e, i) {
                        void 0 === i && (i = new Pe);
                        var n = e.delta(t), r = this.normal.dot(n);
                        if (0 === r)return 0 === this.distanceToPoint(e.start) ? i.copy(e.start) : void 0;
                        var o = -(e.start.dot(this.normal) + this.constant) / r;
                        return o < 0 || o > 1 ? void 0 : i.copy(n).multiplyScalar(o).add(e.start)
                    }
                }(), intersectsLine: function (t) {
                    var e = this.distanceToPoint(t.start), i = this.distanceToPoint(t.end);
                    return e < 0 && i > 0 || i < 0 && e > 0
                }, intersectsBox: function (t) {
                    return t.intersectsPlane(this)
                }, intersectsSphere: function (t) {
                    return t.intersectsPlane(this)
                }, coplanarPoint: function (t) {
                    return void 0 === t && (t = new Pe), t.copy(this.normal).multiplyScalar(-this.constant)
                }, applyMatrix4: function () {
                    var t = new Pe, e = new Ee;
                    return function (i, n) {
                        var r = n || e.getNormalMatrix(i), o = this.coplanarPoint(t).applyMatrix4(i),
                            a = this.normal.applyMatrix3(r).normalize();
                        return this.constant = -o.dot(a), this
                    }
                }(), translate: function (t) {
                    return this.constant -= t.dot(this.normal), this
                }, equals: function (t) {
                    return t.normal.equals(this.normal) && t.constant === this.constant
                }
            }), Object.assign(ei.prototype, {
                set: function (t, e, i, n, r, o) {
                    var a = this.planes;
                    return a[0].copy(t), a[1].copy(e), a[2].copy(i), a[3].copy(n), a[4].copy(r), a[5].copy(o), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++)e[i].copy(t.planes[i]);
                    return this
                }, setFromMatrix: function (t) {
                    var e = this.planes, i = t.elements, n = i[0], r = i[1], o = i[2], a = i[3], s = i[4], l = i[5],
                        c = i[6], u = i[7], h = i[8], d = i[9], p = i[10], f = i[11], m = i[12], g = i[13], v = i[14],
                        y = i[15];
                    return e[0].setComponents(a - n, u - s, f - h, y - m).normalize(), e[1].setComponents(a + n, u + s, f + h, y + m).normalize(), e[2].setComponents(a + r, u + l, f + d, y + g).normalize(), e[3].setComponents(a - r, u - l, f - d, y - g).normalize(), e[4].setComponents(a - o, u - c, f - p, y - v).normalize(), e[5].setComponents(a + o, u + c, f + p, y + v).normalize(), this
                }, intersectsObject: (Re = new Qe, function (t) {
                    var e = t.geometry;
                    return null === e.boundingSphere && e.computeBoundingSphere(), Re.copy(e.boundingSphere).applyMatrix4(t.matrixWorld), this.intersectsSphere(Re)
                }), intersectsSprite: function () {
                    var t = new Qe;
                    return function (e) {
                        return t.center.set(0, 0, 0), t.radius = .7071067811865476, t.applyMatrix4(e.matrixWorld), this.intersectsSphere(t)
                    }
                }(), intersectsSphere: function (t) {
                    for (var e = this.planes, i = t.center, n = -t.radius, r = 0; r < 6; r++) {
                        if (e[r].distanceToPoint(i) < n)return !1
                    }
                    return !0
                }, intersectsBox: (Ne = new Pe, function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++) {
                        var n = e[i];
                        if (Ne.x = n.normal.x > 0 ? t.max.x : t.min.x, Ne.y = n.normal.y > 0 ? t.max.y : t.min.y, Ne.z = n.normal.z > 0 ? t.max.z : t.min.z, n.distanceToPoint(Ne) < 0)return !1
                    }
                    return !0
                }), containsPoint: function (t) {
                    for (var e = this.planes, i = 0; i < 6; i++)if (e[i].distanceToPoint(t) < 0)return !1;
                    return !0
                }
            }), Object.assign(ii.prototype, {
                isMatrix4: !0,
                set: function (t, e, i, n, r, o, a, s, l, c, u, h, d, p, f, m) {
                    var g = this.elements;
                    return g[0] = t, g[4] = e, g[8] = i, g[12] = n, g[1] = r, g[5] = o, g[9] = a, g[13] = s, g[2] = l, g[6] = c, g[10] = u, g[14] = h, g[3] = d, g[7] = p, g[11] = f, g[15] = m, this
                },
                identity: function () {
                    return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                clone: function () {
                    return (new ii).fromArray(this.elements)
                },
                copy: function (t) {
                    var e = this.elements, i = t.elements;
                    return e[0] = i[0], e[1] = i[1], e[2] = i[2], e[3] = i[3], e[4] = i[4], e[5] = i[5], e[6] = i[6], e[7] = i[7], e[8] = i[8], e[9] = i[9], e[10] = i[10], e[11] = i[11], e[12] = i[12], e[13] = i[13], e[14] = i[14], e[15] = i[15], this
                },
                copyPosition: function (t) {
                    var e = this.elements, i = t.elements;
                    return e[12] = i[12], e[13] = i[13], e[14] = i[14], this
                },
                extractBasis: function (t, e, i) {
                    return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this
                },
                makeBasis: function (t, e, i) {
                    return this.set(t.x, e.x, i.x, 0, t.y, e.y, i.y, 0, t.z, e.z, i.z, 0, 0, 0, 0, 1), this
                },
                extractRotation: function () {
                    var t = new Pe;
                    return function (e) {
                        var i = this.elements, n = e.elements, r = 1 / t.setFromMatrixColumn(e, 0).length(),
                            o = 1 / t.setFromMatrixColumn(e, 1).length(), a = 1 / t.setFromMatrixColumn(e, 2).length();
                        return i[0] = n[0] * r, i[1] = n[1] * r, i[2] = n[2] * r, i[3] = 0, i[4] = n[4] * o, i[5] = n[5] * o, i[6] = n[6] * o, i[7] = 0, i[8] = n[8] * a, i[9] = n[9] * a, i[10] = n[10] * a, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1, this
                    }
                }(),
                makeRotationFromEuler: function (t) {
                    !t || t.isEuler;
                    var e = this.elements, i = t.x, n = t.y, r = t.z, o = Math.cos(i), a = Math.sin(i), s = Math.cos(n),
                        l = Math.sin(n), c = Math.cos(r), u = Math.sin(r);
                    if ("XYZ" === t.order) {
                        var h = o * c, d = o * u, p = a * c, f = a * u;
                        e[0] = s * c, e[4] = -s * u, e[8] = l, e[1] = d + p * l, e[5] = h - f * l, e[9] = -a * s, e[2] = f - h * l, e[6] = p + d * l, e[10] = o * s
                    } else if ("YXZ" === t.order) {
                        var m = s * c, g = s * u, v = l * c, y = l * u;
                        e[0] = m + y * a, e[4] = v * a - g, e[8] = o * l, e[1] = o * u, e[5] = o * c, e[9] = -a, e[2] = g * a - v, e[6] = y + m * a, e[10] = o * s
                    } else if ("ZXY" === t.order) {
                        m = s * c, g = s * u, v = l * c, y = l * u;
                        e[0] = m - y * a, e[4] = -o * u, e[8] = v + g * a, e[1] = g + v * a, e[5] = o * c, e[9] = y - m * a, e[2] = -o * l, e[6] = a, e[10] = o * s
                    } else if ("ZYX" === t.order) {
                        h = o * c, d = o * u, p = a * c, f = a * u;
                        e[0] = s * c, e[4] = p * l - d, e[8] = h * l + f, e[1] = s * u, e[5] = f * l + h, e[9] = d * l - p, e[2] = -l, e[6] = a * s, e[10] = o * s
                    } else if ("YZX" === t.order) {
                        var _ = o * s, x = o * l, b = a * s, w = a * l;
                        e[0] = s * c, e[4] = w - _ * u, e[8] = b * u + x, e[1] = u, e[5] = o * c, e[9] = -a * c, e[2] = -l * c, e[6] = x * u + b, e[10] = _ - w * u
                    } else if ("XZY" === t.order) {
                        _ = o * s, x = o * l, b = a * s, w = a * l;
                        e[0] = s * c, e[4] = -u, e[8] = l * c, e[1] = _ * u + w, e[5] = o * c, e[9] = x * u - b, e[2] = b * u - x, e[6] = a * c, e[10] = w * u + _
                    }
                    return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this
                },
                makeRotationFromQuaternion: (Ue = new Pe(0, 0, 0), Ge = new Pe(1, 1, 1), function (t) {
                    return this.compose(Ue, t, Ge)
                }),
                lookAt: (je = new Pe, Fe = new Pe, Be = new Pe, function (t, e, i) {
                    var n = this.elements;
                    return Be.subVectors(t, e), 0 === Be.lengthSq() && (Be.z = 1), Be.normalize(), je.crossVectors(i, Be), 0 === je.lengthSq() && (1 === Math.abs(i.z) ? Be.x += 1e-4 : Be.z += 1e-4, Be.normalize(), je.crossVectors(i, Be)), je.normalize(), Fe.crossVectors(Be, je), n[0] = je.x, n[4] = Fe.x, n[8] = Be.x, n[1] = je.y, n[5] = Fe.y, n[9] = Be.y, n[2] = je.z, n[6] = Fe.z, n[10] = Be.z, this
                }),
                multiply: function (t, e) {
                    return void 0 !== e ? this.multiplyMatrices(t, e) : this.multiplyMatrices(this, t)
                },
                premultiply: function (t) {
                    return this.multiplyMatrices(t, this)
                },
                multiplyMatrices: function (t, e) {
                    var i = t.elements, n = e.elements, r = this.elements, o = i[0], a = i[4], s = i[8], l = i[12],
                        c = i[1], u = i[5], h = i[9], d = i[13], p = i[2], f = i[6], m = i[10], g = i[14], v = i[3],
                        y = i[7], _ = i[11], x = i[15], b = n[0], w = n[4], S = n[8], M = n[12], T = n[1], A = n[5],
                        P = n[9], E = n[13], C = n[2], O = n[6], L = n[10], k = n[14], I = n[3], N = n[7], R = n[11],
                        D = n[15];
                    return r[0] = o * b + a * T + s * C + l * I, r[4] = o * w + a * A + s * O + l * N, r[8] = o * S + a * P + s * L + l * R, r[12] = o * M + a * E + s * k + l * D, r[1] = c * b + u * T + h * C + d * I, r[5] = c * w + u * A + h * O + d * N, r[9] = c * S + u * P + h * L + d * R, r[13] = c * M + u * E + h * k + d * D, r[2] = p * b + f * T + m * C + g * I, r[6] = p * w + f * A + m * O + g * N, r[10] = p * S + f * P + m * L + g * R, r[14] = p * M + f * E + m * k + g * D, r[3] = v * b + y * T + _ * C + x * I, r[7] = v * w + y * A + _ * O + x * N, r[11] = v * S + y * P + _ * L + x * R, r[15] = v * M + y * E + _ * k + x * D, this
                },
                multiplyScalar: function (t) {
                    var e = this.elements;
                    return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this
                },
                applyToBufferAttribute: function () {
                    var t = new Pe;
                    return function (e) {
                        for (var i = 0, n = e.count; i < n; i++)t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.applyMatrix4(this), e.setXYZ(i, t.x, t.y, t.z);
                        return e
                    }
                }(),
                determinant: function () {
                    var t = this.elements, e = t[0], i = t[4], n = t[8], r = t[12], o = t[1], a = t[5], s = t[9],
                        l = t[13], c = t[2], u = t[6], h = t[10], d = t[14];
                    return t[3] * (+r * s * u - n * l * u - r * a * h + i * l * h + n * a * d - i * s * d) + t[7] * (+e * s * d - e * l * h + r * o * h - n * o * d + n * l * c - r * s * c) + t[11] * (+e * l * u - e * a * d - r * o * u + i * o * d + r * a * c - i * l * c) + t[15] * (-n * a * c - e * s * u + e * a * h + n * o * u - i * o * h + i * s * c)
                },
                transpose: function () {
                    var t, e = this.elements;
                    return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this
                },
                setPosition: function (t) {
                    var e = this.elements;
                    return e[12] = t.x, e[13] = t.y, e[14] = t.z, this
                },
                getInverse: function (t, e) {
                    var i = this.elements, n = t.elements, r = n[0], o = n[1], a = n[2], s = n[3], l = n[4], c = n[5],
                        u = n[6], h = n[7], d = n[8], p = n[9], f = n[10], m = n[11], g = n[12], v = n[13], y = n[14],
                        _ = n[15], x = p * y * h - v * f * h + v * u * m - c * y * m - p * u * _ + c * f * _,
                        b = g * f * h - d * y * h - g * u * m + l * y * m + d * u * _ - l * f * _,
                        w = d * v * h - g * p * h + g * c * m - l * v * m - d * c * _ + l * p * _,
                        S = g * p * u - d * v * u - g * c * f + l * v * f + d * c * y - l * p * y,
                        M = r * x + o * b + a * w + s * S;
                    if (0 === M) {
                        var T = "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";
                        if (!0 === e)throw new Error(T);
                        return this.identity()
                    }
                    var A = 1 / M;
                    return i[0] = x * A, i[1] = (v * f * s - p * y * s - v * a * m + o * y * m + p * a * _ - o * f * _) * A, i[2] = (c * y * s - v * u * s + v * a * h - o * y * h - c * a * _ + o * u * _) * A, i[3] = (p * u * s - c * f * s - p * a * h + o * f * h + c * a * m - o * u * m) * A, i[4] = b * A, i[5] = (d * y * s - g * f * s + g * a * m - r * y * m - d * a * _ + r * f * _) * A, i[6] = (g * u * s - l * y * s - g * a * h + r * y * h + l * a * _ - r * u * _) * A, i[7] = (l * f * s - d * u * s + d * a * h - r * f * h - l * a * m + r * u * m) * A, i[8] = w * A, i[9] = (g * p * s - d * v * s - g * o * m + r * v * m + d * o * _ - r * p * _) * A, i[10] = (l * v * s - g * c * s + g * o * h - r * v * h - l * o * _ + r * c * _) * A, i[11] = (d * c * s - l * p * s - d * o * h + r * p * h + l * o * m - r * c * m) * A, i[12] = S * A, i[13] = (d * v * a - g * p * a + g * o * f - r * v * f - d * o * y + r * p * y) * A, i[14] = (g * c * a - l * v * a - g * o * u + r * v * u + l * o * y - r * c * y) * A, i[15] = (l * p * a - d * c * a + d * o * u - r * p * u - l * o * f + r * c * f) * A, this
                },
                scale: function (t) {
                    var e = this.elements, i = t.x, n = t.y, r = t.z;
                    return e[0] *= i, e[4] *= n, e[8] *= r, e[1] *= i, e[5] *= n, e[9] *= r, e[2] *= i, e[6] *= n, e[10] *= r, e[3] *= i, e[7] *= n, e[11] *= r, this
                },
                getMaxScaleOnAxis: function () {
                    var t = this.elements, e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
                        i = t[4] * t[4] + t[5] * t[5] + t[6] * t[6], n = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
                    return Math.sqrt(Math.max(e, i, n))
                },
                makeTranslation: function (t, e, i) {
                    return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this
                },
                makeRotationX: function (t) {
                    var e = Math.cos(t), i = Math.sin(t);
                    return this.set(1, 0, 0, 0, 0, e, -i, 0, 0, i, e, 0, 0, 0, 0, 1), this
                },
                makeRotationY: function (t) {
                    var e = Math.cos(t), i = Math.sin(t);
                    return this.set(e, 0, i, 0, 0, 1, 0, 0, -i, 0, e, 0, 0, 0, 0, 1), this
                },
                makeRotationZ: function (t) {
                    var e = Math.cos(t), i = Math.sin(t);
                    return this.set(e, -i, 0, 0, i, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
                },
                makeRotationAxis: function (t, e) {
                    var i = Math.cos(e), n = Math.sin(e), r = 1 - i, o = t.x, a = t.y, s = t.z, l = r * o, c = r * a;
                    return this.set(l * o + i, l * a - n * s, l * s + n * a, 0, l * a + n * s, c * a + i, c * s - n * o, 0, l * s - n * a, c * s + n * o, r * s * s + i, 0, 0, 0, 0, 1), this
                },
                makeScale: function (t, e, i) {
                    return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this
                },
                makeShear: function (t, e, i) {
                    return this.set(1, e, i, 0, t, 1, i, 0, t, e, 1, 0, 0, 0, 0, 1), this
                },
                compose: function (t, e, i) {
                    var n = this.elements, r = e._x, o = e._y, a = e._z, s = e._w, l = r + r, c = o + o, u = a + a,
                        h = r * l, d = r * c, p = r * u, f = o * c, m = o * u, g = a * u, v = s * l, y = s * c,
                        _ = s * u, x = i.x, b = i.y, w = i.z;
                    return n[0] = (1 - (f + g)) * x, n[1] = (d + _) * x, n[2] = (p - y) * x, n[3] = 0, n[4] = (d - _) * b, n[5] = (1 - (h + g)) * b, n[6] = (m + v) * b, n[7] = 0, n[8] = (p + y) * w, n[9] = (m - v) * w, n[10] = (1 - (h + f)) * w, n[11] = 0, n[12] = t.x, n[13] = t.y, n[14] = t.z, n[15] = 1, this
                },
                decompose: (De = new Pe, ze = new ii, function (t, e, i) {
                    var n = this.elements, r = De.set(n[0], n[1], n[2]).length(), o = De.set(n[4], n[5], n[6]).length(),
                        a = De.set(n[8], n[9], n[10]).length();
                    this.determinant() < 0 && (r = -r), t.x = n[12], t.y = n[13], t.z = n[14], ze.copy(this);
                    var s = 1 / r, l = 1 / o, c = 1 / a;
                    return ze.elements[0] *= s, ze.elements[1] *= s, ze.elements[2] *= s, ze.elements[4] *= l, ze.elements[5] *= l, ze.elements[6] *= l, ze.elements[8] *= c, ze.elements[9] *= c, ze.elements[10] *= c, e.setFromRotationMatrix(ze), i.x = r, i.y = o, i.z = a, this
                }),
                makePerspective: function (t, e, i, n, r, o) {
                    var a = this.elements, s = 2 * r / (e - t), l = 2 * r / (i - n), c = (e + t) / (e - t),
                        u = (i + n) / (i - n), h = -(o + r) / (o - r), d = -2 * o * r / (o - r);
                    return a[0] = s, a[4] = 0, a[8] = c, a[12] = 0, a[1] = 0, a[5] = l, a[9] = u, a[13] = 0, a[2] = 0, a[6] = 0, a[10] = h, a[14] = d, a[3] = 0, a[7] = 0, a[11] = -1, a[15] = 0, this
                },
                makeOrthographic: function (t, e, i, n, r, o) {
                    var a = this.elements, s = 1 / (e - t), l = 1 / (i - n), c = 1 / (o - r), u = (e + t) * s,
                        h = (i + n) * l, d = (o + r) * c;
                    return a[0] = 2 * s, a[4] = 0, a[8] = 0, a[12] = -u, a[1] = 0, a[5] = 2 * l, a[9] = 0, a[13] = -h, a[2] = 0, a[6] = 0, a[10] = -2 * c, a[14] = -d, a[3] = 0, a[7] = 0, a[11] = 0, a[15] = 1, this
                },
                equals: function (t) {
                    for (var e = this.elements, i = t.elements, n = 0; n < 16; n++)if (e[n] !== i[n])return !1;
                    return !0
                },
                fromArray: function (t, e) {
                    void 0 === e && (e = 0);
                    for (var i = 0; i < 16; i++)this.elements[i] = t[i + e];
                    return this
                },
                toArray: function (t, e) {
                    void 0 === t && (t = []), void 0 === e && (e = 0);
                    var i = this.elements;
                    return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t[e + 9] = i[9], t[e + 10] = i[10], t[e + 11] = i[11], t[e + 12] = i[12], t[e + 13] = i[13], t[e + 14] = i[14], t[e + 15] = i[15], t
                }
            });
            var ni = {
                alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",
                alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
                alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",
                aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
                aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
                begin_vertex: "vec3 transformed = vec3( position );",
                beginnormal_vertex: "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",
                bsdfs: "vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",
                bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
                clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
                clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",
                clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",
                clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",
                color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
                color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
                color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
                common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",
                cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",
                defaultnormal_vertex: "vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
                displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",
                displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",
                emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",
                emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",
                encodings_fragment: "gl_FragColor = linearToOutputTexel( gl_FragColor );",
                encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
                envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
                envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
                envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",
                envmap_physical_pars_fragment: "#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
                envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
                fog_vertex: "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",
                fog_pars_vertex: "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",
                fog_fragment: "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",
                fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
                gradientmap_pars_fragment: "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",
                lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",
                lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
                lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",
                lights_pars_begin: "uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
                lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",
                lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
                lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",
                lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor;\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
                lights_fragment_begin: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",
                lights_fragment_maps: "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",
                lights_fragment_end: "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",
                logdepthbuf_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
                logdepthbuf_pars_fragment: "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",
                logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",
                logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",
                map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
                map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",
                map_particle_fragment: "#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",
                map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",
                metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",
                metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
                morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",
                morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
                morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
                normal_fragment_begin: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",
                normal_fragment_maps: "#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
                normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",
                packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
                premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\t\n\tgl_FragColor.rgb *= gl_FragColor.a;\n\t\n#endif",
                project_vertex: "vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",
                dithering_fragment: "#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",
                dithering_pars_fragment: "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
                roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",
                roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
                shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
                shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",
                shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",
                shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",
                skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
                skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
                skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",
                skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
                specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
                specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
                tonemapping_fragment: "#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n\t\n#endif",
                tonemapping_pars_fragment: "#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",
                uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
                uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",
                uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
                uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
                uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
                uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
                worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",
                background_frag: "uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                background_vert: "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",
                cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                cube_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",
                depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",
                depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",
                distanceRGBA_frag: "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
                distanceRGBA_vert: "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
                equirect_frag: "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
                equirect_vert: "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
                linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
                meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
                meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                meshmatcap_frag: "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                meshmatcap_vert: "#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
                meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
                meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                normal_frag: "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
                normal_vert: "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
                points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
                shadow_frag: "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",
                shadow_vert: "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
                sprite_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
                sprite_vert: "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"
            };

            function ri(t) {
                var e = {};
                for (var i in t)for (var n in e[i] = {}, t[i]) {
                    var r = t[i][n];
                    r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture) ? e[i][n] = r.clone() : Array.isArray(r) ? e[i][n] = r.slice() : e[i][n] = r
                }
                return e
            }

            function oi(t) {
                for (var e = {}, i = 0; i < t.length; i++) {
                    var n = ri(t[i]);
                    for (var r in n)e[r] = n[r]
                }
                return e
            }

            var ai, si, li, ci = {clone: ri, merge: oi}, ui = {
                aliceblue: 15792383,
                antiquewhite: 16444375,
                aqua: 65535,
                aquamarine: 8388564,
                azure: 15794175,
                beige: 16119260,
                bisque: 16770244,
                black: 0,
                blanchedalmond: 16772045,
                blue: 255,
                blueviolet: 9055202,
                brown: 10824234,
                burlywood: 14596231,
                cadetblue: 6266528,
                chartreuse: 8388352,
                chocolate: 13789470,
                coral: 16744272,
                cornflowerblue: 6591981,
                cornsilk: 16775388,
                crimson: 14423100,
                cyan: 65535,
                darkblue: 139,
                darkcyan: 35723,
                darkgoldenrod: 12092939,
                darkgray: 11119017,
                darkgreen: 25600,
                darkgrey: 11119017,
                darkkhaki: 12433259,
                darkmagenta: 9109643,
                darkolivegreen: 5597999,
                darkorange: 16747520,
                darkorchid: 10040012,
                darkred: 9109504,
                darksalmon: 15308410,
                darkseagreen: 9419919,
                darkslateblue: 4734347,
                darkslategray: 3100495,
                darkslategrey: 3100495,
                darkturquoise: 52945,
                darkviolet: 9699539,
                deeppink: 16716947,
                deepskyblue: 49151,
                dimgray: 6908265,
                dimgrey: 6908265,
                dodgerblue: 2003199,
                firebrick: 11674146,
                floralwhite: 16775920,
                forestgreen: 2263842,
                fuchsia: 16711935,
                gainsboro: 14474460,
                ghostwhite: 16316671,
                gold: 16766720,
                goldenrod: 14329120,
                gray: 8421504,
                green: 32768,
                greenyellow: 11403055,
                grey: 8421504,
                honeydew: 15794160,
                hotpink: 16738740,
                indianred: 13458524,
                indigo: 4915330,
                ivory: 16777200,
                khaki: 15787660,
                lavender: 15132410,
                lavenderblush: 16773365,
                lawngreen: 8190976,
                lemonchiffon: 16775885,
                lightblue: 11393254,
                lightcoral: 15761536,
                lightcyan: 14745599,
                lightgoldenrodyellow: 16448210,
                lightgray: 13882323,
                lightgreen: 9498256,
                lightgrey: 13882323,
                lightpink: 16758465,
                lightsalmon: 16752762,
                lightseagreen: 2142890,
                lightskyblue: 8900346,
                lightslategray: 7833753,
                lightslategrey: 7833753,
                lightsteelblue: 11584734,
                lightyellow: 16777184,
                lime: 65280,
                limegreen: 3329330,
                linen: 16445670,
                magenta: 16711935,
                maroon: 8388608,
                mediumaquamarine: 6737322,
                mediumblue: 205,
                mediumorchid: 12211667,
                mediumpurple: 9662683,
                mediumseagreen: 3978097,
                mediumslateblue: 8087790,
                mediumspringgreen: 64154,
                mediumturquoise: 4772300,
                mediumvioletred: 13047173,
                midnightblue: 1644912,
                mintcream: 16121850,
                mistyrose: 16770273,
                moccasin: 16770229,
                navajowhite: 16768685,
                navy: 128,
                oldlace: 16643558,
                olive: 8421376,
                olivedrab: 7048739,
                orange: 16753920,
                orangered: 16729344,
                orchid: 14315734,
                palegoldenrod: 15657130,
                palegreen: 10025880,
                paleturquoise: 11529966,
                palevioletred: 14381203,
                papayawhip: 16773077,
                peachpuff: 16767673,
                peru: 13468991,
                pink: 16761035,
                plum: 14524637,
                powderblue: 11591910,
                purple: 8388736,
                rebeccapurple: 6697881,
                red: 16711680,
                rosybrown: 12357519,
                royalblue: 4286945,
                saddlebrown: 9127187,
                salmon: 16416882,
                sandybrown: 16032864,
                seagreen: 3050327,
                seashell: 16774638,
                sienna: 10506797,
                silver: 12632256,
                skyblue: 8900331,
                slateblue: 6970061,
                slategray: 7372944,
                slategrey: 7372944,
                snow: 16775930,
                springgreen: 65407,
                steelblue: 4620980,
                tan: 13808780,
                teal: 32896,
                thistle: 14204888,
                tomato: 16737095,
                turquoise: 4251856,
                violet: 15631086,
                wheat: 16113331,
                white: 16777215,
                whitesmoke: 16119285,
                yellow: 16776960,
                yellowgreen: 10145074
            };

            function hi(t, e, i) {
                return void 0 === e && void 0 === i ? this.set(t) : this.setRGB(t, e, i)
            }

            Object.assign(hi.prototype, {
                isColor: !0, r: 1, g: 1, b: 1, set: function (t) {
                    return t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this
                }, setScalar: function (t) {
                    return this.r = t, this.g = t, this.b = t, this
                }, setHex: function (t) {
                    return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this
                }, setRGB: function (t, e, i) {
                    return this.r = t, this.g = e, this.b = i, this
                }, setHSL: function () {
                    function t(t, e, i) {
                        return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - i) : t
                    }

                    return function (e, i, n) {
                        if (e = Me.euclideanModulo(e, 1), i = Me.clamp(i, 0, 1), n = Me.clamp(n, 0, 1), 0 === i) this.r = this.g = this.b = n; else {
                            var r = n <= .5 ? n * (1 + i) : n + i - n * i, o = 2 * n - r;
                            this.r = t(o, r, e + 1 / 3), this.g = t(o, r, e), this.b = t(o, r, e - 1 / 3)
                        }
                        return this
                    }
                }(), setStyle: function (t) {
                    function e(t) {
                        void 0 !== t && parseFloat(t)
                    }

                    var i;
                    if (i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) {
                        var n, r = i[1], o = i[2];
                        switch (r) {
                            case"rgb":
                            case"rgba":
                                if (n = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r = Math.min(255, parseInt(n[1], 10)) / 255, this.g = Math.min(255, parseInt(n[2], 10)) / 255, this.b = Math.min(255, parseInt(n[3], 10)) / 255, e(n[5]), this;
                                if (n = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r = Math.min(100, parseInt(n[1], 10)) / 100, this.g = Math.min(100, parseInt(n[2], 10)) / 100, this.b = Math.min(100, parseInt(n[3], 10)) / 100, e(n[5]), this;
                                break;
                            case"hsl":
                            case"hsla":
                                if (n = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)) {
                                    var a = parseFloat(n[1]) / 360, s = parseInt(n[2], 10) / 100,
                                        l = parseInt(n[3], 10) / 100;
                                    return e(n[5]), this.setHSL(a, s, l)
                                }
                        }
                    } else if (i = /^\#([A-Fa-f0-9]+)$/.exec(t)) {
                        var c, u = (c = i[1]).length;
                        if (3 === u)return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255, this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255, this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255, this;
                        if (6 === u)return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255, this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255, this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255, this
                    }
                    t && t.length > 0 && (void 0 !== (c = ui[t]) && this.setHex(c));
                    return this
                }, clone: function () {
                    return new this.constructor(this.r, this.g, this.b)
                }, copy: function (t) {
                    return this.r = t.r, this.g = t.g, this.b = t.b, this
                }, copyGammaToLinear: function (t, e) {
                    return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this
                }, copyLinearToGamma: function (t, e) {
                    void 0 === e && (e = 2);
                    var i = e > 0 ? 1 / e : 1;
                    return this.r = Math.pow(t.r, i), this.g = Math.pow(t.g, i), this.b = Math.pow(t.b, i), this
                }, convertGammaToLinear: function (t) {
                    return this.copyGammaToLinear(this, t), this
                }, convertLinearToGamma: function (t) {
                    return this.copyLinearToGamma(this, t), this
                }, copySRGBToLinear: function () {
                    function t(t) {
                        return t < .04045 ? .0773993808 * t : Math.pow(.9478672986 * t + .0521327014, 2.4)
                    }

                    return function (e) {
                        return this.r = t(e.r), this.g = t(e.g), this.b = t(e.b), this
                    }
                }(), copyLinearToSRGB: function () {
                    function t(t) {
                        return t < .0031308 ? 12.92 * t : 1.055 * Math.pow(t, .41666) - .055
                    }

                    return function (e) {
                        return this.r = t(e.r), this.g = t(e.g), this.b = t(e.b), this
                    }
                }(), convertSRGBToLinear: function () {
                    return this.copySRGBToLinear(this), this
                }, convertLinearToSRGB: function () {
                    return this.copyLinearToSRGB(this), this
                }, getHex: function () {
                    return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
                }, getHexString: function () {
                    return ("000000" + this.getHex().toString(16)).slice(-6)
                }, getHSL: function (t) {
                    void 0 === t && (t = {h: 0, s: 0, l: 0});
                    var e, i, n = this.r, r = this.g, o = this.b, a = Math.max(n, r, o), s = Math.min(n, r, o),
                        l = (s + a) / 2;
                    if (s === a) e = 0, i = 0; else {
                        var c = a - s;
                        switch (i = l <= .5 ? c / (a + s) : c / (2 - a - s), a) {
                            case n:
                                e = (r - o) / c + (r < o ? 6 : 0);
                                break;
                            case r:
                                e = (o - n) / c + 2;
                                break;
                            case o:
                                e = (n - r) / c + 4
                        }
                        e /= 6
                    }
                    return t.h = e, t.s = i, t.l = l, t
                }, getStyle: function () {
                    return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
                }, offsetHSL: (li = {}, function (t, e, i) {
                    return this.getHSL(li), li.h += t, li.s += e, li.l += i, this.setHSL(li.h, li.s, li.l), this
                }), add: function (t) {
                    return this.r += t.r, this.g += t.g, this.b += t.b, this
                }, addColors: function (t, e) {
                    return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this
                }, addScalar: function (t) {
                    return this.r += t, this.g += t, this.b += t, this
                }, sub: function (t) {
                    return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), this
                }, multiply: function (t) {
                    return this.r *= t.r, this.g *= t.g, this.b *= t.b, this
                }, multiplyScalar: function (t) {
                    return this.r *= t, this.g *= t, this.b *= t, this
                }, lerp: function (t, e) {
                    return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this
                }, lerpHSL: (ai = {h: 0, s: 0, l: 0}, si = {h: 0, s: 0, l: 0}, function (t, e) {
                    this.getHSL(ai), t.getHSL(si);
                    var i = Me.lerp(ai.h, si.h, e), n = Me.lerp(ai.s, si.s, e), r = Me.lerp(ai.l, si.l, e);
                    return this.setHSL(i, n, r), this
                }), equals: function (t) {
                    return t.r === this.r && t.g === this.g && t.b === this.b
                }, fromArray: function (t, e) {
                    return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t
                }, toJSON: function () {
                    return this.getHex()
                }
            });
            var di, pi = {
                common: {
                    diffuse: {value: new hi(15658734)},
                    opacity: {value: 1},
                    map: {value: null},
                    uvTransform: {value: new Ee},
                    alphaMap: {value: null}
                },
                specularmap: {specularMap: {value: null}},
                envmap: {
                    envMap: {value: null},
                    flipEnvMap: {value: -1},
                    reflectivity: {value: 1},
                    refractionRatio: {value: .98},
                    maxMipLevel: {value: 0}
                },
                aomap: {aoMap: {value: null}, aoMapIntensity: {value: 1}},
                lightmap: {lightMap: {value: null}, lightMapIntensity: {value: 1}},
                emissivemap: {emissiveMap: {value: null}},
                bumpmap: {bumpMap: {value: null}, bumpScale: {value: 1}},
                normalmap: {normalMap: {value: null}, normalScale: {value: new Te(1, 1)}},
                displacementmap: {
                    displacementMap: {value: null},
                    displacementScale: {value: 1},
                    displacementBias: {value: 0}
                },
                roughnessmap: {roughnessMap: {value: null}},
                metalnessmap: {metalnessMap: {value: null}},
                gradientmap: {gradientMap: {value: null}},
                fog: {
                    fogDensity: {value: 25e-5},
                    fogNear: {value: 1},
                    fogFar: {value: 2e3},
                    fogColor: {value: new hi(16777215)}
                },
                lights: {
                    ambientLightColor: {value: []},
                    lightProbe: {value: []},
                    directionalLights: {
                        value: [],
                        properties: {
                            direction: {},
                            color: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    directionalShadowMap: {value: []},
                    directionalShadowMatrix: {value: []},
                    spotLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            direction: {},
                            distance: {},
                            coneCos: {},
                            penumbraCos: {},
                            decay: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {}
                        }
                    },
                    spotShadowMap: {value: []},
                    spotShadowMatrix: {value: []},
                    pointLights: {
                        value: [],
                        properties: {
                            color: {},
                            position: {},
                            decay: {},
                            distance: {},
                            shadow: {},
                            shadowBias: {},
                            shadowRadius: {},
                            shadowMapSize: {},
                            shadowCameraNear: {},
                            shadowCameraFar: {}
                        }
                    },
                    pointShadowMap: {value: []},
                    pointShadowMatrix: {value: []},
                    hemisphereLights: {value: [], properties: {direction: {}, skyColor: {}, groundColor: {}}},
                    rectAreaLights: {value: [], properties: {color: {}, position: {}, width: {}, height: {}}}
                },
                points: {
                    diffuse: {value: new hi(15658734)},
                    opacity: {value: 1},
                    size: {value: 1},
                    scale: {value: 1},
                    map: {value: null},
                    uvTransform: {value: new Ee}
                },
                sprite: {
                    diffuse: {value: new hi(15658734)},
                    opacity: {value: 1},
                    center: {value: new Te(.5, .5)},
                    rotation: {value: 0},
                    map: {value: null},
                    uvTransform: {value: new Ee}
                }
            }, fi = {
                basic: {
                    uniforms: oi([pi.common, pi.specularmap, pi.envmap, pi.aomap, pi.lightmap, pi.fog]),
                    vertexShader: ni.meshbasic_vert,
                    fragmentShader: ni.meshbasic_frag
                },
                lambert: {
                    uniforms: oi([pi.common, pi.specularmap, pi.envmap, pi.aomap, pi.lightmap, pi.emissivemap, pi.fog, pi.lights, {emissive: {value: new hi(0)}}]),
                    vertexShader: ni.meshlambert_vert,
                    fragmentShader: ni.meshlambert_frag
                },
                phong: {
                    uniforms: oi([pi.common, pi.specularmap, pi.envmap, pi.aomap, pi.lightmap, pi.emissivemap, pi.bumpmap, pi.normalmap, pi.displacementmap, pi.gradientmap, pi.fog, pi.lights, {
                        emissive: {value: new hi(0)},
                        specular: {value: new hi(1118481)},
                        shininess: {value: 30}
                    }]), vertexShader: ni.meshphong_vert, fragmentShader: ni.meshphong_frag
                },
                standard: {
                    uniforms: oi([pi.common, pi.envmap, pi.aomap, pi.lightmap, pi.emissivemap, pi.bumpmap, pi.normalmap, pi.displacementmap, pi.roughnessmap, pi.metalnessmap, pi.fog, pi.lights, {
                        emissive: {value: new hi(0)},
                        roughness: {value: .5},
                        metalness: {value: .5},
                        envMapIntensity: {value: 1}
                    }]), vertexShader: ni.meshphysical_vert, fragmentShader: ni.meshphysical_frag
                },
                matcap: {
                    uniforms: oi([pi.common, pi.bumpmap, pi.normalmap, pi.displacementmap, pi.fog, {matcap: {value: null}}]),
                    vertexShader: ni.meshmatcap_vert,
                    fragmentShader: ni.meshmatcap_frag
                },
                points: {
                    uniforms: oi([pi.points, pi.fog]),
                    vertexShader: ni.points_vert,
                    fragmentShader: ni.points_frag
                },
                dashed: {
                    uniforms: oi([pi.common, pi.fog, {
                        scale: {value: 1},
                        dashSize: {value: 1},
                        totalSize: {value: 2}
                    }]), vertexShader: ni.linedashed_vert, fragmentShader: ni.linedashed_frag
                },
                depth: {
                    uniforms: oi([pi.common, pi.displacementmap]),
                    vertexShader: ni.depth_vert,
                    fragmentShader: ni.depth_frag
                },
                normal: {
                    uniforms: oi([pi.common, pi.bumpmap, pi.normalmap, pi.displacementmap, {opacity: {value: 1}}]),
                    vertexShader: ni.normal_vert,
                    fragmentShader: ni.normal_frag
                },
                sprite: {
                    uniforms: oi([pi.sprite, pi.fog]),
                    vertexShader: ni.sprite_vert,
                    fragmentShader: ni.sprite_frag
                },
                background: {
                    uniforms: {uvTransform: {value: new Ee}, t2D: {value: null}},
                    vertexShader: ni.background_vert,
                    fragmentShader: ni.background_frag
                },
                cube: {
                    uniforms: {tCube: {value: null}, tFlip: {value: -1}, opacity: {value: 1}},
                    vertexShader: ni.cube_vert,
                    fragmentShader: ni.cube_frag
                },
                equirect: {
                    uniforms: {tEquirect: {value: null}},
                    vertexShader: ni.equirect_vert,
                    fragmentShader: ni.equirect_frag
                },
                distanceRGBA: {
                    uniforms: oi([pi.common, pi.displacementmap, {
                        referencePosition: {value: new Pe},
                        nearDistance: {value: 1},
                        farDistance: {value: 1e3}
                    }]), vertexShader: ni.distanceRGBA_vert, fragmentShader: ni.distanceRGBA_frag
                },
                shadow: {
                    uniforms: oi([pi.lights, pi.fog, {color: {value: new hi(0)}, opacity: {value: 1}}]),
                    vertexShader: ni.shadow_vert,
                    fragmentShader: ni.shadow_frag
                }
            };

            function mi() {
                var t = null, e = !1, i = null;

                function n(r, o) {
                    !1 !== e && (i(r, o), t.requestAnimationFrame(n))
                }

                return {
                    start: function () {
                        !0 !== e && null !== i && (t.requestAnimationFrame(n), e = !0)
                    }, stop: function () {
                        e = !1
                    }, setAnimationLoop: function (t) {
                        i = t
                    }, setContext: function (e) {
                        t = e
                    }
                }
            }

            function gi(t) {
                var e = new WeakMap;
                return {
                    get: function (t) {
                        return t.isInterleavedBufferAttribute && (t = t.data), e.get(t)
                    }, remove: function (i) {
                        i.isInterleavedBufferAttribute && (i = i.data);
                        var n = e.get(i);
                        n && (t.deleteBuffer(n.buffer), e.delete(i))
                    }, update: function (i, n) {
                        i.isInterleavedBufferAttribute && (i = i.data);
                        var r = e.get(i);
                        void 0 === r ? e.set(i, function (e, i) {
                            var n = e.array, r = e.dynamic ? 35048 : 35044, o = t.createBuffer();
                            t.bindBuffer(i, o), t.bufferData(i, n, r), e.onUploadCallback();
                            var a = 5126;
                            return n instanceof Float32Array ? a = 5126 : n instanceof Float64Array || (n instanceof Uint16Array ? a = 5123 : n instanceof Int16Array ? a = 5122 : n instanceof Uint32Array ? a = 5125 : n instanceof Int32Array ? a = 5124 : n instanceof Int8Array ? a = 5120 : n instanceof Uint8Array && (a = 5121)), {
                                buffer: o,
                                type: a,
                                bytesPerElement: n.BYTES_PER_ELEMENT,
                                version: e.version
                            }
                        }(i, n)) : r.version < i.version && (function (e, i, n) {
                                var r = i.array, o = i.updateRange;
                                t.bindBuffer(n, e), !1 === i.dynamic ? t.bufferData(n, r, 35044) : -1 === o.count ? t.bufferSubData(n, 0, r) : 0 === o.count || (t.bufferSubData(n, o.offset * r.BYTES_PER_ELEMENT, r.subarray(o.offset, o.offset + o.count)), o.count = -1)
                            }(r.buffer, i, n), r.version = i.version)
                    }
                }
            }

            function vi(t, e, i, n, r, o) {
                this.a = t, this.b = e, this.c = i, this.normal = n && n.isVector3 ? n : new Pe, this.vertexNormals = Array.isArray(n) ? n : [], this.color = r && r.isColor ? r : new hi, this.vertexColors = Array.isArray(r) ? r : [], this.materialIndex = void 0 !== o ? o : 0
            }

            function yi(t, e, i, n) {
                this._x = t || 0, this._y = e || 0, this._z = i || 0, this._order = n || yi.DefaultOrder
            }

            function _i() {
                this.mask = 1
            }

            fi.physical = {
                uniforms: oi([fi.standard.uniforms, {
                    clearCoat: {value: 0},
                    clearCoatRoughness: {value: 0}
                }]), vertexShader: ni.meshphysical_vert, fragmentShader: ni.meshphysical_frag
            }, Object.assign(vi.prototype, {
                clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex;
                    for (var e = 0, i = t.vertexNormals.length; e < i; e++)this.vertexNormals[e] = t.vertexNormals[e].clone();
                    for (e = 0, i = t.vertexColors.length; e < i; e++)this.vertexColors[e] = t.vertexColors[e].clone();
                    return this
                }
            }), yi.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], yi.DefaultOrder = "XYZ", Object.defineProperties(yi.prototype, {
                x: {
                    get: function () {
                        return this._x
                    }, set: function (t) {
                        this._x = t, this.onChangeCallback()
                    }
                }, y: {
                    get: function () {
                        return this._y
                    }, set: function (t) {
                        this._y = t, this.onChangeCallback()
                    }
                }, z: {
                    get: function () {
                        return this._z
                    }, set: function (t) {
                        this._z = t, this.onChangeCallback()
                    }
                }, order: {
                    get: function () {
                        return this._order
                    }, set: function (t) {
                        this._order = t, this.onChangeCallback()
                    }
                }
            }), Object.assign(yi.prototype, {
                isEuler: !0, set: function (t, e, i, n) {
                    return this._x = t, this._y = e, this._z = i, this._order = n || this._order, this.onChangeCallback(), this
                }, clone: function () {
                    return new this.constructor(this._x, this._y, this._z, this._order)
                }, copy: function (t) {
                    return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this.onChangeCallback(), this
                }, setFromRotationMatrix: function (t, e, i) {
                    var n = Me.clamp, r = t.elements, o = r[0], a = r[4], s = r[8], l = r[1], c = r[5], u = r[9],
                        h = r[2], d = r[6], p = r[10];
                    return "XYZ" === (e = e || this._order) ? (this._y = Math.asin(n(s, -1, 1)), Math.abs(s) < .99999 ? (this._x = Math.atan2(-u, p), this._z = Math.atan2(-a, o)) : (this._x = Math.atan2(d, c), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-n(u, -1, 1)), Math.abs(u) < .99999 ? (this._y = Math.atan2(s, p), this._z = Math.atan2(l, c)) : (this._y = Math.atan2(-h, o), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(n(d, -1, 1)), Math.abs(d) < .99999 ? (this._y = Math.atan2(-h, p), this._z = Math.atan2(-a, c)) : (this._y = 0, this._z = Math.atan2(l, o))) : "ZYX" === e ? (this._y = Math.asin(-n(h, -1, 1)), Math.abs(h) < .99999 ? (this._x = Math.atan2(d, p), this._z = Math.atan2(l, o)) : (this._x = 0, this._z = Math.atan2(-a, c))) : "YZX" === e ? (this._z = Math.asin(n(l, -1, 1)), Math.abs(l) < .99999 ? (this._x = Math.atan2(-u, c), this._y = Math.atan2(-h, o)) : (this._x = 0, this._y = Math.atan2(s, p))) : "XZY" === e && (this._z = Math.asin(-n(a, -1, 1)), Math.abs(a) < .99999 ? (this._x = Math.atan2(d, c), this._y = Math.atan2(s, o)) : (this._x = Math.atan2(-u, p), this._y = 0)), this._order = e, !1 !== i && this.onChangeCallback(), this
                }, setFromQuaternion: function () {
                    var t = new ii;
                    return function (e, i, n) {
                        return t.makeRotationFromQuaternion(e), this.setFromRotationMatrix(t, i, n)
                    }
                }(), setFromVector3: function (t, e) {
                    return this.set(t.x, t.y, t.z, e || this._order)
                }, reorder: (di = new Ae, function (t) {
                    return di.setFromEuler(this), this.setFromQuaternion(di, t)
                }), equals: function (t) {
                    return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order
                }, fromArray: function (t) {
                    return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this.onChangeCallback(), this
                }, toArray: function (t, e) {
                    return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t
                }, toVector3: function (t) {
                    return t ? t.set(this._x, this._y, this._z) : new Pe(this._x, this._y, this._z)
                }, onChange: function (t) {
                    return this.onChangeCallback = t, this
                }, onChangeCallback: function () {
                }
            }), Object.assign(_i.prototype, {
                set: function (t) {
                    this.mask = 1 << t | 0
                }, enable: function (t) {
                    this.mask |= 1 << t | 0
                }, toggle: function (t) {
                    this.mask ^= 1 << t | 0
                }, disable: function (t) {
                    this.mask &= ~(1 << t | 0)
                }, test: function (t) {
                    return 0 != (this.mask & t.mask)
                }
            });
            var xi, bi, wi, Si, Mi = 0;

            function Ti() {
                Object.defineProperty(this, "id", {value: Mi++}), this.uuid = Me.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = Ti.DefaultUp.clone();
                var t = new Pe, e = new yi, i = new Ae, n = new Pe(1, 1, 1);
                e.onChange(function () {
                    i.setFromEuler(e, !1)
                }), i.onChange(function () {
                    e.setFromQuaternion(i, void 0, !1)
                }), Object.defineProperties(this, {
                    position: {configurable: !0, enumerable: !0, value: t},
                    rotation: {configurable: !0, enumerable: !0, value: e},
                    quaternion: {configurable: !0, enumerable: !0, value: i},
                    scale: {configurable: !0, enumerable: !0, value: n},
                    modelViewMatrix: {value: new ii},
                    normalMatrix: {value: new Ee}
                }), this.matrix = new ii, this.matrixWorld = new ii, this.matrixAutoUpdate = Ti.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new _i, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {}
            }

            Ti.DefaultUp = new Pe(0, 1, 0), Ti.DefaultMatrixAutoUpdate = !0, Ti.prototype = Object.assign(Object.create(e.prototype), {
                constructor: Ti,
                isObject3D: !0,
                onBeforeRender: function () {
                },
                onAfterRender: function () {
                },
                applyMatrix: function (t) {
                    this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(t), this.matrix.decompose(this.position, this.quaternion, this.scale)
                },
                applyQuaternion: function (t) {
                    return this.quaternion.premultiply(t), this
                },
                setRotationFromAxisAngle: function (t, e) {
                    this.quaternion.setFromAxisAngle(t, e)
                },
                setRotationFromEuler: function (t) {
                    this.quaternion.setFromEuler(t, !0)
                },
                setRotationFromMatrix: function (t) {
                    this.quaternion.setFromRotationMatrix(t)
                },
                setRotationFromQuaternion: function (t) {
                    this.quaternion.copy(t)
                },
                rotateOnAxis: (Si = new Ae, function (t, e) {
                    return Si.setFromAxisAngle(t, e), this.quaternion.multiply(Si), this
                }),
                rotateOnWorldAxis: function () {
                    var t = new Ae;
                    return function (e, i) {
                        return t.setFromAxisAngle(e, i), this.quaternion.premultiply(t), this
                    }
                }(),
                rotateX: function () {
                    var t = new Pe(1, 0, 0);
                    return function (e) {
                        return this.rotateOnAxis(t, e)
                    }
                }(),
                rotateY: function () {
                    var t = new Pe(0, 1, 0);
                    return function (e) {
                        return this.rotateOnAxis(t, e)
                    }
                }(),
                rotateZ: function () {
                    var t = new Pe(0, 0, 1);
                    return function (e) {
                        return this.rotateOnAxis(t, e)
                    }
                }(),
                translateOnAxis: function () {
                    var t = new Pe;
                    return function (e, i) {
                        return t.copy(e).applyQuaternion(this.quaternion), this.position.add(t.multiplyScalar(i)), this
                    }
                }(),
                translateX: function () {
                    var t = new Pe(1, 0, 0);
                    return function (e) {
                        return this.translateOnAxis(t, e)
                    }
                }(),
                translateY: function () {
                    var t = new Pe(0, 1, 0);
                    return function (e) {
                        return this.translateOnAxis(t, e)
                    }
                }(),
                translateZ: function () {
                    var t = new Pe(0, 0, 1);
                    return function (e) {
                        return this.translateOnAxis(t, e)
                    }
                }(),
                localToWorld: function (t) {
                    return t.applyMatrix4(this.matrixWorld)
                },
                worldToLocal: (wi = new ii, function (t) {
                    return t.applyMatrix4(wi.getInverse(this.matrixWorld))
                }),
                lookAt: function () {
                    var t = new Ae, e = new ii, i = new Pe, n = new Pe;
                    return function (r, o, a) {
                        r.isVector3 ? i.copy(r) : i.set(r, o, a);
                        var s = this.parent;
                        this.updateWorldMatrix(!0, !1), n.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? e.lookAt(n, i, this.up) : e.lookAt(i, n, this.up), this.quaternion.setFromRotationMatrix(e), s && (e.extractRotation(s.matrixWorld), t.setFromRotationMatrix(e), this.quaternion.premultiply(t.inverse()))
                    }
                }(),
                add: function (t) {
                    if (arguments.length > 1) {
                        for (var e = 0; e < arguments.length; e++)this.add(arguments[e]);
                        return this
                    }
                    return t === this ? this : (t && t.isObject3D && (null !== t.parent && t.parent.remove(t), t.parent = this, t.dispatchEvent({type: "added"}), this.children.push(t)), this)
                },
                remove: function (t) {
                    if (arguments.length > 1) {
                        for (var e = 0; e < arguments.length; e++)this.remove(arguments[e]);
                        return this
                    }
                    var i = this.children.indexOf(t);
                    return -1 !== i && (t.parent = null, t.dispatchEvent({type: "removed"}), this.children.splice(i, 1)), this
                },
                getObjectById: function (t) {
                    return this.getObjectByProperty("id", t)
                },
                getObjectByName: function (t) {
                    return this.getObjectByProperty("name", t)
                },
                getObjectByProperty: function (t, e) {
                    if (this[t] === e)return this;
                    for (var i = 0, n = this.children.length; i < n; i++) {
                        var r = this.children[i].getObjectByProperty(t, e);
                        if (void 0 !== r)return r
                    }
                },
                getWorldPosition: function (t) {
                    return void 0 === t && (t = new Pe), this.updateMatrixWorld(!0), t.setFromMatrixPosition(this.matrixWorld)
                },
                getWorldQuaternion: (xi = new Pe, bi = new Pe, function (t) {
                    return void 0 === t && (t = new Ae), this.updateMatrixWorld(!0), this.matrixWorld.decompose(xi, t, bi), t
                }),
                getWorldScale: function () {
                    var t = new Pe, e = new Ae;
                    return function (i) {
                        return void 0 === i && (i = new Pe), this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, e, i), i
                    }
                }(),
                getWorldDirection: function (t) {
                    void 0 === t && (t = new Pe), this.updateMatrixWorld(!0);
                    var e = this.matrixWorld.elements;
                    return t.set(e[8], e[9], e[10]).normalize()
                },
                raycast: function () {
                },
                traverse: function (t) {
                    t(this);
                    for (var e = this.children, i = 0, n = e.length; i < n; i++)e[i].traverse(t)
                },
                traverseVisible: function (t) {
                    if (!1 !== this.visible) {
                        t(this);
                        for (var e = this.children, i = 0, n = e.length; i < n; i++)e[i].traverseVisible(t)
                    }
                },
                traverseAncestors: function (t) {
                    var e = this.parent;
                    null !== e && (t(e), e.traverseAncestors(t))
                },
                updateMatrix: function () {
                    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0
                },
                updateMatrixWorld: function (t) {
                    this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || t) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
                    for (var e = this.children, i = 0, n = e.length; i < n; i++)e[i].updateMatrixWorld(t)
                },
                updateWorldMatrix: function (t, e) {
                    var i = this.parent;
                    if (!0 === t && null !== i && i.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), !0 === e)for (var n = this.children, r = 0, o = n.length; r < o; r++)n[r].updateWorldMatrix(!1, !0)
                },
                toJSON: function (t) {
                    var e = void 0 === t || "string" == typeof t, i = {};
                    e && (t = {
                        geometries: {},
                        materials: {},
                        textures: {},
                        images: {},
                        shapes: {}
                    }, i.metadata = {version: 4.5, type: "Object", generator: "Object3D.toJSON"});
                    var n = {};

                    function r(e, i) {
                        return void 0 === e[i.uuid] && (e[i.uuid] = i.toJSON(t)), i.uuid
                    }

                    if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), !0 === this.castShadow && (n.castShadow = !0), !0 === this.receiveShadow && (n.receiveShadow = !0), !1 === this.visible && (n.visible = !1), !1 === this.frustumCulled && (n.frustumCulled = !1), 0 !== this.renderOrder && (n.renderOrder = this.renderOrder), "{}" !== JSON.stringify(this.userData) && (n.userData = this.userData), n.layers = this.layers.mask, n.matrix = this.matrix.toArray(), !1 === this.matrixAutoUpdate && (n.matrixAutoUpdate = !1), this.isMesh && this.drawMode !== ue && (n.drawMode = this.drawMode), this.isMesh || this.isLine || this.isPoints) {
                        n.geometry = r(t.geometries, this.geometry);
                        var o = this.geometry.parameters;
                        if (void 0 !== o && void 0 !== o.shapes) {
                            var a = o.shapes;
                            if (Array.isArray(a))for (var s = 0, l = a.length; s < l; s++) {
                                var c = a[s];
                                r(t.shapes, c)
                            } else r(t.shapes, a)
                        }
                    }
                    if (void 0 !== this.material)if (Array.isArray(this.material)) {
                        var u = [];
                        for (s = 0, l = this.material.length; s < l; s++)u.push(r(t.materials, this.material[s]));
                        n.material = u
                    } else n.material = r(t.materials, this.material);
                    if (this.children.length > 0) {
                        n.children = [];
                        for (s = 0; s < this.children.length; s++)n.children.push(this.children[s].toJSON(t).object)
                    }
                    if (e) {
                        var h = m(t.geometries), d = m(t.materials), p = m(t.textures), f = m(t.images);
                        a = m(t.shapes);
                        h.length > 0 && (i.geometries = h), d.length > 0 && (i.materials = d), p.length > 0 && (i.textures = p), f.length > 0 && (i.images = f), a.length > 0 && (i.shapes = a)
                    }
                    return i.object = n, i;
                    function m(t) {
                        var e = [];
                        for (var i in t) {
                            var n = t[i];
                            delete n.metadata, e.push(n)
                        }
                        return e
                    }
                },
                clone: function (t) {
                    return (new this.constructor).copy(this, t)
                },
                copy: function (t, e) {
                    if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.layers.mask = t.layers.mask, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse(JSON.stringify(t.userData)), !0 === e)for (var i = 0; i < t.children.length; i++) {
                        var n = t.children[i];
                        this.add(n.clone())
                    }
                    return this
                }
            });
            var Ai, Pi, Ei = 0;

            function Ci() {
                Object.defineProperty(this, "id", {value: Ei += 2}), this.uuid = Me.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [[]], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.elementsNeedUpdate = !1, this.verticesNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1
            }

            function Oi(t, e, i) {
                if (Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                this.name = "", this._array = t, this._itemSize = e, this.count = void 0 !== t ? t.length / e : 0, this._normalized = !0 === i, this.dynamic = !1, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0, this.versionVAO = 0
            }

            function Li(t, e, i) {
                Oi.call(this, new Int8Array(t), e, i)
            }

            function ki(t, e, i) {
                Oi.call(this, new Uint8Array(t), e, i)
            }

            function Ii(t, e, i) {
                Oi.call(this, new Uint8ClampedArray(t), e, i)
            }

            function Ni(t, e, i) {
                Oi.call(this, new Int16Array(t), e, i)
            }

            function Ri(t, e, i) {
                Oi.call(this, new Uint16Array(t), e, i)
            }

            function Di(t, e, i) {
                Oi.call(this, new Int32Array(t), e, i)
            }

            function zi(t, e, i) {
                Oi.call(this, new Uint32Array(t), e, i)
            }

            function ji(t, e, i) {
                Oi.call(this, new Float32Array(t), e, i)
            }

            function Fi(t, e, i) {
                Oi.call(this, new Float64Array(t), e, i)
            }

            function Bi() {
                this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1
            }

            function Ui(t) {
                if (0 === t.length)return -1 / 0;
                for (var e = t[0], i = 1, n = t.length; i < n; ++i)t[i] > e && (e = t[i]);
                return e
            }

            Ci.prototype = Object.assign(Object.create(e.prototype), {
                constructor: Ci,
                isGeometry: !0,
                applyMatrix: function (t) {
                    for (var e = (new Ee).getNormalMatrix(t), i = 0, n = this.vertices.length; i < n; i++) {
                        this.vertices[i].applyMatrix4(t)
                    }
                    for (i = 0, n = this.faces.length; i < n; i++) {
                        var r = this.faces[i];
                        r.normal.applyMatrix3(e).normalize();
                        for (var o = 0, a = r.vertexNormals.length; o < a; o++)r.vertexNormals[o].applyMatrix3(e).normalize()
                    }
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this
                },
                rotateX: function () {
                    var t = new ii;
                    return function (e) {
                        return t.makeRotationX(e), this.applyMatrix(t), this
                    }
                }(),
                rotateY: function () {
                    var t = new ii;
                    return function (e) {
                        return t.makeRotationY(e), this.applyMatrix(t), this
                    }
                }(),
                rotateZ: function () {
                    var t = new ii;
                    return function (e) {
                        return t.makeRotationZ(e), this.applyMatrix(t), this
                    }
                }(),
                translate: function () {
                    var t = new ii;
                    return function (e, i, n) {
                        return t.makeTranslation(e, i, n), this.applyMatrix(t), this
                    }
                }(),
                scale: function () {
                    var t = new ii;
                    return function (e, i, n) {
                        return t.makeScale(e, i, n), this.applyMatrix(t), this
                    }
                }(),
                lookAt: (Pi = new Ti, function (t) {
                    Pi.lookAt(t), Pi.updateMatrix(), this.applyMatrix(Pi.matrix)
                }),
                fromBufferGeometry: function (t) {
                    var e = this, i = null !== t.index ? t.index.array : void 0, n = t.attributes, r = n.position.array,
                        o = void 0 !== n.normal ? n.normal.array : void 0,
                        a = void 0 !== n.color ? n.color.array : void 0, s = void 0 !== n.uv ? n.uv.array : void 0,
                        l = void 0 !== n.uv2 ? n.uv2.array : void 0;
                    void 0 !== l && (this.faceVertexUvs[1] = []);
                    for (var c = 0, u = 0; c < r.length; c += 3, u += 2)e.vertices.push((new Pe).fromArray(r, c)), void 0 !== a && e.colors.push((new hi).fromArray(a, c));
                    function h(t, i, n, r) {
                        var c = void 0 === a ? [] : [e.colors[t].clone(), e.colors[i].clone(), e.colors[n].clone()],
                            u = new vi(t, i, n, void 0 === o ? [] : [(new Pe).fromArray(o, 3 * t), (new Pe).fromArray(o, 3 * i), (new Pe).fromArray(o, 3 * n)], c, r);
                        e.faces.push(u), void 0 !== s && e.faceVertexUvs[0].push([(new Te).fromArray(s, 2 * t), (new Te).fromArray(s, 2 * i), (new Te).fromArray(s, 2 * n)]), void 0 !== l && e.faceVertexUvs[1].push([(new Te).fromArray(l, 2 * t), (new Te).fromArray(l, 2 * i), (new Te).fromArray(l, 2 * n)])
                    }

                    var d = t.groups;
                    if (d.length > 0)for (c = 0; c < d.length; c++)for (var p = d[c], f = p.start, m = (u = f, f + p.count); u < m; u += 3)void 0 !== i ? h(i[u], i[u + 1], i[u + 2], p.materialIndex) : h(u, u + 1, u + 2, p.materialIndex); else if (void 0 !== i)for (c = 0; c < i.length; c += 3)h(i[c], i[c + 1], i[c + 2]); else for (c = 0; c < r.length / 3; c += 3)h(c, c + 1, c + 2);
                    return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this
                },
                center: (Ai = new Pe, function () {
                    return this.computeBoundingBox(), this.boundingBox.getCenter(Ai).negate(), this.translate(Ai.x, Ai.y, Ai.z), this
                }),
                normalize: function () {
                    this.computeBoundingSphere();
                    var t = this.boundingSphere.center, e = this.boundingSphere.radius, i = 0 === e ? 1 : 1 / e,
                        n = new ii;
                    return n.set(i, 0, 0, -i * t.x, 0, i, 0, -i * t.y, 0, 0, i, -i * t.z, 0, 0, 0, 1), this.applyMatrix(n), this
                },
                computeFaceNormals: function () {
                    for (var t = new Pe, e = new Pe, i = 0, n = this.faces.length; i < n; i++) {
                        var r = this.faces[i], o = this.vertices[r.a], a = this.vertices[r.b], s = this.vertices[r.c];
                        t.subVectors(s, a), e.subVectors(o, a), t.cross(e), t.normalize(), r.normal.copy(t)
                    }
                },
                computeVertexNormals: function (t) {
                    var e, i, n, r, o, a;
                    for (void 0 === t && (t = !0), a = new Array(this.vertices.length), e = 0, i = this.vertices.length; e < i; e++)a[e] = new Pe;
                    if (t) {
                        var s, l, c, u = new Pe, h = new Pe;
                        for (n = 0, r = this.faces.length; n < r; n++)o = this.faces[n], s = this.vertices[o.a], l = this.vertices[o.b], c = this.vertices[o.c], u.subVectors(c, l), h.subVectors(s, l), u.cross(h), a[o.a].add(u), a[o.b].add(u), a[o.c].add(u)
                    } else for (this.computeFaceNormals(), n = 0, r = this.faces.length; n < r; n++)a[(o = this.faces[n]).a].add(o.normal), a[o.b].add(o.normal), a[o.c].add(o.normal);
                    for (e = 0, i = this.vertices.length; e < i; e++)a[e].normalize();
                    for (n = 0, r = this.faces.length; n < r; n++) {
                        var d = (o = this.faces[n]).vertexNormals;
                        3 === d.length ? (d[0].copy(a[o.a]), d[1].copy(a[o.b]), d[2].copy(a[o.c])) : (d[0] = a[o.a].clone(), d[1] = a[o.b].clone(), d[2] = a[o.c].clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                },
                computeFlatVertexNormals: function () {
                    var t, e, i;
                    for (this.computeFaceNormals(), t = 0, e = this.faces.length; t < e; t++) {
                        var n = (i = this.faces[t]).vertexNormals;
                        3 === n.length ? (n[0].copy(i.normal), n[1].copy(i.normal), n[2].copy(i.normal)) : (n[0] = i.normal.clone(), n[1] = i.normal.clone(), n[2] = i.normal.clone())
                    }
                    this.faces.length > 0 && (this.normalsNeedUpdate = !0)
                },
                computeMorphNormals: function () {
                    var t, e, i, n, r;
                    for (i = 0, n = this.faces.length; i < n; i++)for ((r = this.faces[i]).__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(), r.__originalVertexNormals || (r.__originalVertexNormals = []), t = 0, e = r.vertexNormals.length; t < e; t++)r.__originalVertexNormals[t] ? r.__originalVertexNormals[t].copy(r.vertexNormals[t]) : r.__originalVertexNormals[t] = r.vertexNormals[t].clone();
                    var o = new Ci;
                    for (o.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) {
                        if (!this.morphNormals[t]) {
                            this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = [];
                            var a = this.morphNormals[t].faceNormals, s = this.morphNormals[t].vertexNormals;
                            for (i = 0, n = this.faces.length; i < n; i++)l = new Pe, c = {
                                a: new Pe,
                                b: new Pe,
                                c: new Pe
                            }, a.push(l), s.push(c)
                        }
                        var l, c, u = this.morphNormals[t];
                        for (o.vertices = this.morphTargets[t].vertices, o.computeFaceNormals(), o.computeVertexNormals(), i = 0, n = this.faces.length; i < n; i++)r = this.faces[i], l = u.faceNormals[i], c = u.vertexNormals[i], l.copy(r.normal), c.a.copy(r.vertexNormals[0]), c.b.copy(r.vertexNormals[1]), c.c.copy(r.vertexNormals[2])
                    }
                    for (i = 0, n = this.faces.length; i < n; i++)(r = this.faces[i]).normal = r.__originalFaceNormal, r.vertexNormals = r.__originalVertexNormals
                },
                computeBoundingBox: function () {
                    null === this.boundingBox && (this.boundingBox = new Ke), this.boundingBox.setFromPoints(this.vertices)
                },
                computeBoundingSphere: function () {
                    null === this.boundingSphere && (this.boundingSphere = new Qe), this.boundingSphere.setFromPoints(this.vertices)
                },
                merge: function (t, e, i) {
                    if (t && t.isGeometry) {
                        var n, r = this.vertices.length, o = this.vertices, a = t.vertices, s = this.faces, l = t.faces,
                            c = this.faceVertexUvs[0], u = t.faceVertexUvs[0], h = this.colors, d = t.colors;
                        void 0 === i && (i = 0), void 0 !== e && (n = (new Ee).getNormalMatrix(e));
                        for (var p = 0, f = a.length; p < f; p++) {
                            var m = a[p].clone();
                            void 0 !== e && m.applyMatrix4(e), o.push(m)
                        }
                        for (p = 0, f = d.length; p < f; p++)h.push(d[p].clone());
                        for (p = 0, f = l.length; p < f; p++) {
                            var g, v, y, _ = l[p], x = _.vertexNormals, b = _.vertexColors;
                            (g = new vi(_.a + r, _.b + r, _.c + r)).normal.copy(_.normal), void 0 !== n && g.normal.applyMatrix3(n).normalize();
                            for (var w = 0, S = x.length; w < S; w++)v = x[w].clone(), void 0 !== n && v.applyMatrix3(n).normalize(), g.vertexNormals.push(v);
                            g.color.copy(_.color);
                            for (w = 0, S = b.length; w < S; w++)y = b[w], g.vertexColors.push(y.clone());
                            g.materialIndex = _.materialIndex + i, s.push(g)
                        }
                        for (p = 0, f = u.length; p < f; p++) {
                            var M = u[p], T = [];
                            if (void 0 !== M) {
                                for (w = 0, S = M.length; w < S; w++)T.push(M[w].clone());
                                c.push(T)
                            }
                        }
                    }
                },
                mergeMesh: function (t) {
                    t && t.isMesh && (t.matrixAutoUpdate && t.updateMatrix(), this.merge(t.geometry, t.matrix))
                },
                mergeVertices: function () {
                    var t, e, i, n, r, o, a, s, l = {}, c = [], u = [], h = Math.pow(10, 4);
                    for (i = 0, n = this.vertices.length; i < n; i++)t = this.vertices[i], void 0 === l[e = Math.round(t.x * h) + "_" + Math.round(t.y * h) + "_" + Math.round(t.z * h)] ? (l[e] = i, c.push(this.vertices[i]), u[i] = c.length - 1) : u[i] = u[l[e]];
                    var d = [];
                    for (i = 0, n = this.faces.length; i < n; i++) {
                        (r = this.faces[i]).a = u[r.a], r.b = u[r.b], r.c = u[r.c], o = [r.a, r.b, r.c];
                        for (var p = 0; p < 3; p++)if (o[p] === o[(p + 1) % 3]) {
                            d.push(i);
                            break
                        }
                    }
                    for (i = d.length - 1; i >= 0; i--) {
                        var f = d[i];
                        for (this.faces.splice(f, 1), a = 0, s = this.faceVertexUvs.length; a < s; a++)this.faceVertexUvs[a].splice(f, 1)
                    }
                    var m = this.vertices.length - c.length;
                    return this.vertices = c, m
                },
                setFromPoints: function (t) {
                    this.vertices = [];
                    for (var e = 0, i = t.length; e < i; e++) {
                        var n = t[e];
                        this.vertices.push(new Pe(n.x, n.y, n.z || 0))
                    }
                    return this
                },
                sortFacesByMaterialIndex: function () {
                    for (var t = this.faces, e = t.length, i = 0; i < e; i++)t[i]._id = i;
                    t.sort(function (t, e) {
                        return t.materialIndex - e.materialIndex
                    });
                    var n, r, o = this.faceVertexUvs[0], a = this.faceVertexUvs[1];
                    o && o.length === e && (n = []), a && a.length === e && (r = []);
                    for (i = 0; i < e; i++) {
                        var s = t[i]._id;
                        n && n.push(o[s]), r && r.push(a[s])
                    }
                    n && (this.faceVertexUvs[0] = n), r && (this.faceVertexUvs[1] = r)
                },
                toJSON: function () {
                    var t = {metadata: {version: 4.5, type: "Geometry", generator: "Geometry.toJSON"}};
                    if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), void 0 !== this.parameters) {
                        var e = this.parameters;
                        for (var i in e)void 0 !== e[i] && (t[i] = e[i]);
                        return t
                    }
                    for (var n = [], r = 0; r < this.vertices.length; r++) {
                        var o = this.vertices[r];
                        n.push(o.x, o.y, o.z)
                    }
                    var a = [], s = [], l = {}, c = [], u = {}, h = [], d = {};
                    for (r = 0; r < this.faces.length; r++) {
                        var p = this.faces[r], f = void 0 !== this.faceVertexUvs[0][r], m = p.normal.length() > 0,
                            g = p.vertexNormals.length > 0, v = 1 !== p.color.r || 1 !== p.color.g || 1 !== p.color.b,
                            y = p.vertexColors.length > 0, _ = 0;
                        if (_ = S(_ = S(_ = S(_ = S(_ = S(_ = S(_ = S(_ = S(_, 0, 0), 1, !0), 2, !1), 3, f), 4, m), 5, g), 6, v), 7, y), a.push(_), a.push(p.a, p.b, p.c), a.push(p.materialIndex), f) {
                            var x = this.faceVertexUvs[0][r];
                            a.push(A(x[0]), A(x[1]), A(x[2]))
                        }
                        if (m && a.push(M(p.normal)), g) {
                            var b = p.vertexNormals;
                            a.push(M(b[0]), M(b[1]), M(b[2]))
                        }
                        if (v && a.push(T(p.color)), y) {
                            var w = p.vertexColors;
                            a.push(T(w[0]), T(w[1]), T(w[2]))
                        }
                    }
                    function S(t, e, i) {
                        return i ? t | 1 << e : t & ~(1 << e)
                    }

                    function M(t) {
                        var e = t.x.toString() + t.y.toString() + t.z.toString();
                        return void 0 !== l[e] ? l[e] : (l[e] = s.length / 3, s.push(t.x, t.y, t.z), l[e])
                    }

                    function T(t) {
                        var e = t.r.toString() + t.g.toString() + t.b.toString();
                        return void 0 !== u[e] ? u[e] : (u[e] = c.length, c.push(t.getHex()), u[e])
                    }

                    function A(t) {
                        var e = t.x.toString() + t.y.toString();
                        return void 0 !== d[e] ? d[e] : (d[e] = h.length / 2, h.push(t.x, t.y), d[e])
                    }

                    return t.data = {}, t.data.vertices = n, t.data.normals = s, c.length > 0 && (t.data.colors = c), h.length > 0 && (t.data.uvs = [h]), t.data.faces = a, t
                },
                clone: function () {
                    return (new Ci).copy(this)
                },
                copy: function (t) {
                    var e, i, n, r, o, a;
                    this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [[]], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
                    var s = t.vertices;
                    for (e = 0, i = s.length; e < i; e++)this.vertices.push(s[e].clone());
                    var l = t.colors;
                    for (e = 0, i = l.length; e < i; e++)this.colors.push(l[e].clone());
                    var c = t.faces;
                    for (e = 0, i = c.length; e < i; e++)this.faces.push(c[e].clone());
                    for (e = 0, i = t.faceVertexUvs.length; e < i; e++) {
                        var u = t.faceVertexUvs[e];
                        for (void 0 === this.faceVertexUvs[e] && (this.faceVertexUvs[e] = []), n = 0, r = u.length; n < r; n++) {
                            var h = u[n], d = [];
                            for (o = 0, a = h.length; o < a; o++) {
                                var p = h[o];
                                d.push(p.clone())
                            }
                            this.faceVertexUvs[e].push(d)
                        }
                    }
                    var f = t.morphTargets;
                    for (e = 0, i = f.length; e < i; e++) {
                        var m = {};
                        if (m.name = f[e].name, void 0 !== f[e].vertices)for (m.vertices = [], n = 0, r = f[e].vertices.length; n < r; n++)m.vertices.push(f[e].vertices[n].clone());
                        if (void 0 !== f[e].normals)for (m.normals = [], n = 0, r = f[e].normals.length; n < r; n++)m.normals.push(f[e].normals[n].clone());
                        this.morphTargets.push(m)
                    }
                    var g = t.morphNormals;
                    for (e = 0, i = g.length; e < i; e++) {
                        var v = {};
                        if (void 0 !== g[e].vertexNormals)for (v.vertexNormals = [], n = 0, r = g[e].vertexNormals.length; n < r; n++) {
                            var y = g[e].vertexNormals[n], _ = {};
                            _.a = y.a.clone(), _.b = y.b.clone(), _.c = y.c.clone(), v.vertexNormals.push(_)
                        }
                        if (void 0 !== g[e].faceNormals)for (v.faceNormals = [], n = 0, r = g[e].faceNormals.length; n < r; n++)v.faceNormals.push(g[e].faceNormals[n].clone());
                        this.morphNormals.push(v)
                    }
                    var x = t.skinWeights;
                    for (e = 0, i = x.length; e < i; e++)this.skinWeights.push(x[e].clone());
                    var b = t.skinIndices;
                    for (e = 0, i = b.length; e < i; e++)this.skinIndices.push(b[e].clone());
                    var w = t.lineDistances;
                    for (e = 0, i = w.length; e < i; e++)this.lineDistances.push(w[e]);
                    var S = t.boundingBox;
                    null !== S && (this.boundingBox = S.clone());
                    var M = t.boundingSphere;
                    return null !== M && (this.boundingSphere = M.clone()), this.elementsNeedUpdate = t.elementsNeedUpdate, this.verticesNeedUpdate = t.verticesNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
                },
                dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }), Object.defineProperties(Oi.prototype, {
                needsUpdate: {
                    set: function (t) {
                        !0 === t && this.version++
                    }
                }, array: {
                    get: function () {
                        return this._array
                    }, set: function (t) {
                        this._array = t, this.versionVAO++
                    }
                }, itemSize: {
                    get: function () {
                        return this._itemSize
                    }, set: function (t) {
                        this._itemSize = t, this.versionVAO++
                    }
                }, normalized: {
                    get: function () {
                        return this._normalized
                    }, set: function (t) {
                        this._normalized = t, this.versionVAO++
                    }
                }
            }), Object.assign(Oi.prototype, {
                isBufferAttribute: !0, onUploadCallback: function () {
                }, setArray: function (t) {
                    if (Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                    return this.count = void 0 !== t ? t.length / this.itemSize : 0, this.array = t, this
                }, setDynamic: function (t) {
                    return this.dynamic = t, this
                }, copy: function (t) {
                    return this.name = t.name, this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.count = t.count, this.normalized = t.normalized, this.dynamic = t.dynamic, this
                }, copyAt: function (t, e, i) {
                    t *= this.itemSize, i *= e.itemSize;
                    for (var n = 0, r = this.itemSize; n < r; n++)this.array[t + n] = e.array[i + n];
                    return this
                }, copyArray: function (t) {
                    return this.array.set(t), this
                }, copyColorsArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        void 0 === o && (o = new hi), e[i++] = o.r, e[i++] = o.g, e[i++] = o.b
                    }
                    return this
                }, copyVector2sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        void 0 === o && (o = new Te), e[i++] = o.x, e[i++] = o.y
                    }
                    return this
                }, copyVector3sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        void 0 === o && (o = new Pe), e[i++] = o.x, e[i++] = o.y, e[i++] = o.z
                    }
                    return this
                }, copyVector4sArray: function (t) {
                    for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
                        var o = t[n];
                        void 0 === o && (o = new He), e[i++] = o.x, e[i++] = o.y, e[i++] = o.z, e[i++] = o.w
                    }
                    return this
                }, set: function (t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                }, getX: function (t) {
                    return this.array[t * this.itemSize]
                }, setX: function (t, e) {
                    return this.array[t * this.itemSize] = e, this
                }, getY: function (t) {
                    return this.array[t * this.itemSize + 1]
                }, setY: function (t, e) {
                    return this.array[t * this.itemSize + 1] = e, this
                }, getZ: function (t) {
                    return this.array[t * this.itemSize + 2]
                }, setZ: function (t, e) {
                    return this.array[t * this.itemSize + 2] = e, this
                }, getW: function (t) {
                    return this.array[t * this.itemSize + 3]
                }, setW: function (t, e) {
                    return this.array[t * this.itemSize + 3] = e, this
                }, setXY: function (t, e, i) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this
                }, setXYZ: function (t, e, i, n) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this
                }, setXYZW: function (t, e, i, n, r) {
                    return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this.array[t + 3] = r, this
                }, onUpload: function (t) {
                    return this.onUploadCallback = t, this
                }, clone: function () {
                    return new this.constructor(this.array, this.itemSize).copy(this)
                }
            }), Li.prototype = Object.create(Oi.prototype), Li.prototype.constructor = Li, ki.prototype = Object.create(Oi.prototype), ki.prototype.constructor = ki, Ii.prototype = Object.create(Oi.prototype), Ii.prototype.constructor = Ii, Ni.prototype = Object.create(Oi.prototype), Ni.prototype.constructor = Ni, Ri.prototype = Object.create(Oi.prototype), Ri.prototype.constructor = Ri, Di.prototype = Object.create(Oi.prototype), Di.prototype.constructor = Di, zi.prototype = Object.create(Oi.prototype), zi.prototype.constructor = zi, ji.prototype = Object.create(Oi.prototype), ji.prototype.constructor = ji, Fi.prototype = Object.create(Oi.prototype), Fi.prototype.constructor = Fi, Object.assign(Bi.prototype, {
                computeGroups: function (t) {
                    for (var e, i = [], n = void 0, r = t.faces, o = 0; o < r.length; o++) {
                        var a = r[o];
                        a.materialIndex !== n && (n = a.materialIndex, void 0 !== e && (e.count = 3 * o - e.start, i.push(e)), e = {
                            start: 3 * o,
                            materialIndex: n
                        })
                    }
                    void 0 !== e && (e.count = 3 * o - e.start, i.push(e)), this.groups = i
                }, fromGeometry: function (t) {
                    var e, i = t.faces, n = t.vertices, r = t.faceVertexUvs, o = r[0] && r[0].length > 0,
                        a = r[1] && r[1].length > 0, s = t.morphTargets, l = s.length;
                    if (l > 0) {
                        e = [];
                        for (var c = 0; c < l; c++)e[c] = {name: s[c].name, data: []};
                        this.morphTargets.position = e
                    }
                    var u, h = t.morphNormals, d = h.length;
                    if (d > 0) {
                        u = [];
                        for (c = 0; c < d; c++)u[c] = {name: h[c].name, data: []};
                        this.morphTargets.normal = u
                    }
                    var p = t.skinIndices, f = t.skinWeights, m = p.length === n.length, g = f.length === n.length;
                    n.length > 0 && i.length;
                    for (c = 0; c < i.length; c++) {
                        var v = i[c];
                        this.vertices.push(n[v.a], n[v.b], n[v.c]);
                        var y = v.vertexNormals;
                        if (3 === y.length) this.normals.push(y[0], y[1], y[2]); else {
                            var _ = v.normal;
                            this.normals.push(_, _, _)
                        }
                        var x, b = v.vertexColors;
                        if (3 === b.length) this.colors.push(b[0], b[1], b[2]); else {
                            var w = v.color;
                            this.colors.push(w, w, w)
                        }
                        if (!0 === o) void 0 !== (x = r[0][c]) ? this.uvs.push(x[0], x[1], x[2]) : this.uvs.push(new Te, new Te, new Te);
                        if (!0 === a) void 0 !== (x = r[1][c]) ? this.uvs2.push(x[0], x[1], x[2]) : this.uvs2.push(new Te, new Te, new Te);
                        for (var S = 0; S < l; S++) {
                            var M = s[S].vertices;
                            e[S].data.push(M[v.a], M[v.b], M[v.c])
                        }
                        for (S = 0; S < d; S++) {
                            var T = h[S].vertexNormals[c];
                            u[S].data.push(T.a, T.b, T.c)
                        }
                        m && this.skinIndices.push(p[v.a], p[v.b], p[v.c]), g && this.skinWeights.push(f[v.a], f[v.b], f[v.c])
                    }
                    return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this
                }
            });
            var Gi = 1;

            function $i() {
                Object.defineProperty(this, "id", {value: Gi += 2}), this.uuid = Me.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
                    start: 0,
                    count: 1 / 0
                }, this.userData = {}
            }

            function Vi(t, e, i, n, r, o) {
                Ci.call(this), this.type = "BoxGeometry", this.parameters = {
                    width: t,
                    height: e,
                    depth: i,
                    widthSegments: n,
                    heightSegments: r,
                    depthSegments: o
                }, this.fromBufferGeometry(new Wi(t, e, i, n, r, o)), this.mergeVertices()
            }

            function Wi(t, e, i, n, r, o) {
                $i.call(this), this.type = "BoxBufferGeometry", this.parameters = {
                    width: t,
                    height: e,
                    depth: i,
                    widthSegments: n,
                    heightSegments: r,
                    depthSegments: o
                };
                var a = this;
                t = t || 1, e = e || 1, i = i || 1, n = Math.floor(n) || 1, r = Math.floor(r) || 1;
                var s = [], l = [], c = [], u = [], h = 0, d = 0;

                function p(t, e, i, n, r, o, p, f, m, g, v) {
                    var y, _, x = o / m, b = p / g, w = o / 2, S = p / 2, M = f / 2, T = m + 1, A = g + 1, P = 0, E = 0,
                        C = new Pe;
                    for (_ = 0; _ < A; _++) {
                        var O = _ * b - S;
                        for (y = 0; y < T; y++) {
                            var L = y * x - w;
                            C[t] = L * n, C[e] = O * r, C[i] = M, l.push(C.x, C.y, C.z), C[t] = 0, C[e] = 0, C[i] = f > 0 ? 1 : -1, c.push(C.x, C.y, C.z), u.push(y / m), u.push(1 - _ / g), P += 1
                        }
                    }
                    for (_ = 0; _ < g; _++)for (y = 0; y < m; y++) {
                        var k = h + y + T * _, I = h + y + T * (_ + 1), N = h + (y + 1) + T * (_ + 1),
                            R = h + (y + 1) + T * _;
                        s.push(k, I, R), s.push(I, N, R), E += 6
                    }
                    a.addGroup(d, E, v), d += E, h += P
                }

                p("z", "y", "x", -1, -1, i, e, t, o = Math.floor(o) || 1, r, 0), p("z", "y", "x", 1, -1, i, e, -t, o, r, 1), p("x", "z", "y", 1, 1, t, i, e, n, o, 2), p("x", "z", "y", 1, -1, t, i, -e, n, o, 3), p("x", "y", "z", 1, -1, t, e, i, n, r, 4), p("x", "y", "z", -1, -1, t, e, -i, n, r, 5), this.setIndex(s), this.addAttribute("position", new ji(l, 3)), this.addAttribute("normal", new ji(c, 3)), this.addAttribute("uv", new ji(u, 2))
            }

            function Hi(t, e, i, n) {
                Ci.call(this), this.type = "PlaneGeometry", this.parameters = {
                    width: t,
                    height: e,
                    widthSegments: i,
                    heightSegments: n
                }, this.fromBufferGeometry(new Xi(t, e, i, n)), this.mergeVertices()
            }

            function Xi(t, e, i, n) {
                $i.call(this), this.type = "PlaneBufferGeometry", this.parameters = {
                    width: t,
                    height: e,
                    widthSegments: i,
                    heightSegments: n
                };
                var r, o, a = (t = t || 1) / 2, s = (e = e || 1) / 2, l = Math.floor(i) || 1, c = Math.floor(n) || 1,
                    u = l + 1, h = c + 1, d = t / l, p = e / c, f = [], m = [], g = [], v = [];
                for (o = 0; o < h; o++) {
                    var y = o * p - s;
                    for (r = 0; r < u; r++) {
                        var _ = r * d - a;
                        m.push(_, -y, 0), g.push(0, 0, 1), v.push(r / l), v.push(1 - o / c)
                    }
                }
                for (o = 0; o < c; o++)for (r = 0; r < l; r++) {
                    var x = r + u * o, b = r + u * (o + 1), w = r + 1 + u * (o + 1), S = r + 1 + u * o;
                    f.push(x, b, S), f.push(b, w, S)
                }
                this.setIndex(f), this.addAttribute("position", new ji(m, 3)), this.addAttribute("normal", new ji(g, 3)), this.addAttribute("uv", new ji(v, 2))
            }

            $i.prototype = Object.assign(Object.create(e.prototype), {
                constructor: $i,
                isBufferGeometry: !0,
                getIndex: function () {
                    return this.index
                },
                setIndex: function (t) {
                    Array.isArray(t) ? this.index = new (Ui(t) > 65535 ? zi : Ri)(t, 1) : this.index = t
                },
                addAttribute: function (t, e) {
                    return e && e.isBufferAttribute || e && e.isInterleavedBufferAttribute ? "index" === t ? (this.setIndex(e), this) : (this.attributes[t] = e, this) : this.addAttribute(t, new Oi(arguments[1], arguments[2]))
                },
                getAttribute: function (t) {
                    return this.attributes[t]
                },
                removeAttribute: function (t) {
                    return delete this.attributes[t], this
                },
                addGroup: function (t, e, i) {
                    this.groups.push({start: t, count: e, materialIndex: void 0 !== i ? i : 0})
                },
                clearGroups: function () {
                    this.groups = []
                },
                setDrawRange: function (t, e) {
                    this.drawRange.start = t, this.drawRange.count = e
                },
                applyMatrix: function (t) {
                    var e = this.attributes.position;
                    void 0 !== e && (t.applyToBufferAttribute(e), e.needsUpdate = !0);
                    var i = this.attributes.normal;
                    void 0 !== i && ((new Ee).getNormalMatrix(t).applyToBufferAttribute(i), i.needsUpdate = !0);
                    var n = this.attributes.tangent;
                    void 0 !== n && ((new Ee).getNormalMatrix(t).applyToBufferAttribute(n), n.needsUpdate = !0);
                    return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this
                },
                rotateX: function () {
                    var t = new ii;
                    return function (e) {
                        return t.makeRotationX(e), this.applyMatrix(t), this
                    }
                }(),
                rotateY: function () {
                    var t = new ii;
                    return function (e) {
                        return t.makeRotationY(e), this.applyMatrix(t), this
                    }
                }(),
                rotateZ: function () {
                    var t = new ii;
                    return function (e) {
                        return t.makeRotationZ(e), this.applyMatrix(t), this
                    }
                }(),
                translate: function () {
                    var t = new ii;
                    return function (e, i, n) {
                        return t.makeTranslation(e, i, n), this.applyMatrix(t), this
                    }
                }(),
                scale: function () {
                    var t = new ii;
                    return function (e, i, n) {
                        return t.makeScale(e, i, n), this.applyMatrix(t), this
                    }
                }(),
                lookAt: function () {
                    var t = new Ti;
                    return function (e) {
                        t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix)
                    }
                }(),
                center: function () {
                    var t = new Pe;
                    return function () {
                        return this.computeBoundingBox(), this.boundingBox.getCenter(t).negate(), this.translate(t.x, t.y, t.z), this
                    }
                }(),
                setFromObject: function (t) {
                    var e = t.geometry;
                    if (t.isPoints || t.isLine) {
                        var i = new ji(3 * e.vertices.length, 3), n = new ji(3 * e.colors.length, 3);
                        if (this.addAttribute("position", i.copyVector3sArray(e.vertices)), this.addAttribute("color", n.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length) {
                            var r = new ji(e.lineDistances.length, 1);
                            this.addAttribute("lineDistance", r.copyArray(e.lineDistances))
                        }
                        null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone())
                    } else t.isMesh && e && e.isGeometry && this.fromGeometry(e);
                    return this
                },
                setFromPoints: function (t) {
                    for (var e = [], i = 0, n = t.length; i < n; i++) {
                        var r = t[i];
                        e.push(r.x, r.y, r.z || 0)
                    }
                    return this.addAttribute("position", new ji(e, 3)), this
                },
                updateFromObject: function (t) {
                    var e, i = t.geometry;
                    if (t.isMesh) {
                        var n = i.__directGeometry;
                        if (!0 === i.elementsNeedUpdate && (n = void 0, i.elementsNeedUpdate = !1), void 0 === n)return this.fromGeometry(i);
                        n.verticesNeedUpdate = i.verticesNeedUpdate, n.normalsNeedUpdate = i.normalsNeedUpdate, n.colorsNeedUpdate = i.colorsNeedUpdate, n.uvsNeedUpdate = i.uvsNeedUpdate, n.groupsNeedUpdate = i.groupsNeedUpdate, i.verticesNeedUpdate = !1, i.normalsNeedUpdate = !1, i.colorsNeedUpdate = !1, i.uvsNeedUpdate = !1, i.groupsNeedUpdate = !1, i = n
                    }
                    return !0 === i.verticesNeedUpdate && (void 0 !== (e = this.attributes.position) && (e.copyVector3sArray(i.vertices), e.needsUpdate = !0), i.verticesNeedUpdate = !1), !0 === i.normalsNeedUpdate && (void 0 !== (e = this.attributes.normal) && (e.copyVector3sArray(i.normals), e.needsUpdate = !0), i.normalsNeedUpdate = !1), !0 === i.colorsNeedUpdate && (void 0 !== (e = this.attributes.color) && (e.copyColorsArray(i.colors), e.needsUpdate = !0), i.colorsNeedUpdate = !1), i.uvsNeedUpdate && (void 0 !== (e = this.attributes.uv) && (e.copyVector2sArray(i.uvs), e.needsUpdate = !0), i.uvsNeedUpdate = !1), i.lineDistancesNeedUpdate && (void 0 !== (e = this.attributes.lineDistance) && (e.copyArray(i.lineDistances), e.needsUpdate = !0), i.lineDistancesNeedUpdate = !1), i.groupsNeedUpdate && (i.computeGroups(t.geometry), this.groups = i.groups, i.groupsNeedUpdate = !1), this
                },
                fromGeometry: function (t) {
                    return t.__directGeometry = (new Bi).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry)
                },
                fromDirectGeometry: function (t) {
                    var e = new Float32Array(3 * t.vertices.length);
                    if (this.addAttribute("position", new Oi(e, 3).copyVector3sArray(t.vertices)), t.normals.length > 0) {
                        var i = new Float32Array(3 * t.normals.length);
                        this.addAttribute("normal", new Oi(i, 3).copyVector3sArray(t.normals))
                    }
                    if (t.colors.length > 0) {
                        var n = new Float32Array(3 * t.colors.length);
                        this.addAttribute("color", new Oi(n, 3).copyColorsArray(t.colors))
                    }
                    if (t.uvs.length > 0) {
                        var r = new Float32Array(2 * t.uvs.length);
                        this.addAttribute("uv", new Oi(r, 2).copyVector2sArray(t.uvs))
                    }
                    if (t.uvs2.length > 0) {
                        var o = new Float32Array(2 * t.uvs2.length);
                        this.addAttribute("uv2", new Oi(o, 2).copyVector2sArray(t.uvs2))
                    }
                    for (var a in this.groups = t.groups, t.morphTargets) {
                        for (var s = [], l = t.morphTargets[a], c = 0, u = l.length; c < u; c++) {
                            var h = l[c], d = new ji(3 * h.data.length, 3);
                            d.name = h.name, s.push(d.copyVector3sArray(h.data))
                        }
                        this.morphAttributes[a] = s
                    }
                    if (t.skinIndices.length > 0) {
                        var p = new ji(4 * t.skinIndices.length, 4);
                        this.addAttribute("skinIndex", p.copyVector4sArray(t.skinIndices))
                    }
                    if (t.skinWeights.length > 0) {
                        var f = new ji(4 * t.skinWeights.length, 4);
                        this.addAttribute("skinWeight", f.copyVector4sArray(t.skinWeights))
                    }
                    return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this
                },
                computeBoundingBox: function () {
                    var t = new Ke;
                    return function () {
                        null === this.boundingBox && (this.boundingBox = new Ke);
                        var e = this.attributes.position, i = this.morphAttributes.position;
                        if (void 0 !== e) {
                            if (this.boundingBox.setFromBufferAttribute(e), i)for (var n = 0, r = i.length; n < r; n++) {
                                var o = i[n];
                                t.setFromBufferAttribute(o), this.boundingBox.expandByPoint(t.min), this.boundingBox.expandByPoint(t.max)
                            }
                        } else this.boundingBox.makeEmpty();
                        isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)
                    }
                }(),
                computeBoundingSphere: function () {
                    var t = new Ke, e = new Ke, i = new Pe;
                    return function () {
                        null === this.boundingSphere && (this.boundingSphere = new Qe);
                        var n = this.attributes.position, r = this.morphAttributes.position;
                        if (n) {
                            var o = this.boundingSphere.center;
                            if (t.setFromBufferAttribute(n), r)for (var a = 0, s = r.length; a < s; a++) {
                                var l = r[a];
                                e.setFromBufferAttribute(l), t.expandByPoint(e.min), t.expandByPoint(e.max)
                            }
                            t.getCenter(o);
                            var c = 0;
                            for (a = 0, s = n.count; a < s; a++)i.fromBufferAttribute(n, a), c = Math.max(c, o.distanceToSquared(i));
                            if (r)for (a = 0, s = r.length; a < s; a++)for (var u = 0, h = (l = r[a]).count; u < h; u++)i.fromBufferAttribute(l, u), c = Math.max(c, o.distanceToSquared(i));
                            this.boundingSphere.radius = Math.sqrt(c), isNaN(this.boundingSphere.radius)
                        }
                    }
                }(),
                computeFaceNormals: function () {
                },
                computeVertexNormals: function () {
                    var t = this.index, e = this.attributes;
                    if (e.position) {
                        var i = e.position.array;
                        if (void 0 === e.normal) this.addAttribute("normal", new Oi(new Float32Array(i.length), 3)); else for (var n = e.normal.array, r = 0, o = n.length; r < o; r++)n[r] = 0;
                        var a, s, l, c = e.normal.array, u = new Pe, h = new Pe, d = new Pe, p = new Pe, f = new Pe;
                        if (t) {
                            var m = t.array;
                            for (r = 0, o = t.count; r < o; r += 3)a = 3 * m[r + 0], s = 3 * m[r + 1], l = 3 * m[r + 2], u.fromArray(i, a), h.fromArray(i, s), d.fromArray(i, l), p.subVectors(d, h), f.subVectors(u, h), p.cross(f), c[a] += p.x, c[a + 1] += p.y, c[a + 2] += p.z, c[s] += p.x, c[s + 1] += p.y, c[s + 2] += p.z, c[l] += p.x, c[l + 1] += p.y, c[l + 2] += p.z
                        } else for (r = 0, o = i.length; r < o; r += 9)u.fromArray(i, r), h.fromArray(i, r + 3), d.fromArray(i, r + 6), p.subVectors(d, h), f.subVectors(u, h), p.cross(f), c[r] = p.x, c[r + 1] = p.y, c[r + 2] = p.z, c[r + 3] = p.x, c[r + 4] = p.y, c[r + 5] = p.z, c[r + 6] = p.x, c[r + 7] = p.y, c[r + 8] = p.z;
                        this.normalizeNormals(), e.normal.needsUpdate = !0
                    }
                },
                merge: function (t, e) {
                    if (t && t.isBufferGeometry) {
                        void 0 === e && (e = 0);
                        var i = this.attributes;
                        for (var n in i)if (void 0 !== t.attributes[n])for (var r = i[n].array, o = t.attributes[n], a = o.array, s = o.itemSize * e, l = Math.min(a.length, r.length - s), c = 0, u = s; c < l; c++, u++)r[u] = a[c];
                        return this
                    }
                },
                normalizeNormals: function () {
                    var t = new Pe;
                    return function () {
                        for (var e = this.attributes.normal, i = 0, n = e.count; i < n; i++)t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.normalize(), e.setXYZ(i, t.x, t.y, t.z)
                    }
                }(),
                toNonIndexed: function () {
                    function t(t, e) {
                        for (var i = t.array, n = t.itemSize, r = new i.constructor(e.length * n), o = 0, a = 0, s = 0, l = e.length; s < l; s++) {
                            o = e[s] * n;
                            for (var c = 0; c < n; c++)r[a++] = i[o++]
                        }
                        return new Oi(r, n)
                    }

                    if (null === this.index)return this;
                    var e = new $i, i = this.index.array, n = this.attributes;
                    for (var r in n) {
                        var o = t(n[r], i);
                        e.addAttribute(r, o)
                    }
                    var a = this.morphAttributes;
                    for (r in a) {
                        for (var s = [], l = a[r], c = 0, u = l.length; c < u; c++) {
                            o = t(l[c], i);
                            s.push(o)
                        }
                        e.morphAttributes[r] = s
                    }
                    for (var h = this.groups, d = (c = 0, h.length); c < d; c++) {
                        var p = h[c];
                        e.addGroup(p.start, p.count, p.materialIndex)
                    }
                    return e
                },
                toJSON: function () {
                    var t = {metadata: {version: 4.5, type: "BufferGeometry", generator: "BufferGeometry.toJSON"}};
                    if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), Object.keys(this.userData).length > 0 && (t.userData = this.userData), void 0 !== this.parameters) {
                        var e = this.parameters;
                        for (var i in e)void 0 !== e[i] && (t[i] = e[i]);
                        return t
                    }
                    t.data = {attributes: {}};
                    var n = this.index;
                    null !== n && (t.data.index = {
                        type: n.array.constructor.name,
                        array: Array.prototype.slice.call(n.array)
                    });
                    var r = this.attributes;
                    for (var i in r) {
                        var o = {
                            itemSize: (d = r[i]).itemSize,
                            type: d.array.constructor.name,
                            array: Array.prototype.slice.call(d.array),
                            normalized: d.normalized
                        };
                        "" !== d.name && (o.name = d.name), t.data.attributes[i] = o
                    }
                    var a = {}, s = !1;
                    for (var i in this.morphAttributes) {
                        for (var l = this.morphAttributes[i], c = [], u = 0, h = l.length; u < h; u++) {
                            var d;
                            o = {
                                itemSize: (d = l[u]).itemSize,
                                type: d.array.constructor.name,
                                array: Array.prototype.slice.call(d.array),
                                normalized: d.normalized
                            };
                            "" !== d.name && (o.name = d.name), c.push(o)
                        }
                        c.length > 0 && (a[i] = c, s = !0)
                    }
                    s && (t.data.morphAttributes = a);
                    var p = this.groups;
                    p.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(p)));
                    var f = this.boundingSphere;
                    return null !== f && (t.data.boundingSphere = {center: f.center.toArray(), radius: f.radius}), t
                },
                clone: function () {
                    return (new $i).copy(this)
                },
                copy: function (t) {
                    var e, i, n;
                    this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.name = t.name;
                    var r = t.index;
                    null !== r && this.setIndex(r.clone());
                    var o = t.attributes;
                    for (e in o) {
                        var a = o[e];
                        this.addAttribute(e, a.clone())
                    }
                    var s = t.morphAttributes;
                    for (e in s) {
                        var l = [], c = s[e];
                        for (i = 0, n = c.length; i < n; i++)l.push(c[i].clone());
                        this.morphAttributes[e] = l
                    }
                    var u = t.groups;
                    for (i = 0, n = u.length; i < n; i++) {
                        var h = u[i];
                        this.addGroup(h.start, h.count, h.materialIndex)
                    }
                    var d = t.boundingBox;
                    null !== d && (this.boundingBox = d.clone());
                    var p = t.boundingSphere;
                    return null !== p && (this.boundingSphere = p.clone()), this.drawRange.start = t.drawRange.start, this.drawRange.count = t.drawRange.count, this.userData = t.userData, this
                },
                dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }), Vi.prototype = Object.create(Ci.prototype), Vi.prototype.constructor = Vi, Wi.prototype = Object.create($i.prototype), Wi.prototype.constructor = Wi, Hi.prototype = Object.create(Ci.prototype), Hi.prototype.constructor = Hi, Xi.prototype = Object.create($i.prototype), Xi.prototype.constructor = Xi;
            var qi = 0;

            function Yi() {
                Object.defineProperty(this, "id", {value: qi++}), this.uuid = Me.generateUUID(), this.name = "", this.type = "Material", this.fog = !0, this.lights = !0, this.blending = y, this.side = h, this.flatShading = !1, this.vertexTangents = !1, this.vertexColors = f, this.opacity = 1, this.transparent = !1, this.blendSrc = k, this.blendDst = I, this.blendEquation = S, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = G, this.depthTest = !0, this.depthWrite = !0, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaTest = 0, this.premultipliedAlpha = !1, this.visible = !0, this.userData = {}, this.needsUpdate = !0
            }

            Yi.prototype = Object.assign(Object.create(e.prototype), {
                constructor: Yi,
                isMaterial: !0,
                onBeforeCompile: function () {
                },
                setValues: function (t) {
                    if (void 0 !== t)for (var e in t) {
                        var i = t[e];
                        if (void 0 !== i)if ("shading" !== e) {
                            var n = this[e];
                            void 0 !== n && (n && n.isColor ? n.set(i) : n && n.isVector3 && i && i.isVector3 ? n.copy(i) : this[e] = i)
                        } else this.flatShading = 1 === i
                    }
                },
                toJSON: function (t) {
                    var e = void 0 === t || "string" == typeof t;
                    e && (t = {textures: {}, images: {}});
                    var i = {metadata: {version: 4.5, type: "Material", generator: "Material.toJSON"}};

                    function n(t) {
                        var e = [];
                        for (var i in t) {
                            var n = t[i];
                            delete n.metadata, e.push(n)
                        }
                        return e
                    }

                    if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), this.color && this.color.isColor && (i.color = this.color.getHex()), void 0 !== this.roughness && (i.roughness = this.roughness), void 0 !== this.metalness && (i.metalness = this.metalness), this.emissive && this.emissive.isColor && (i.emissive = this.emissive.getHex()), 1 !== this.emissiveIntensity && (i.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (i.specular = this.specular.getHex()), void 0 !== this.shininess && (i.shininess = this.shininess), void 0 !== this.clearCoat && (i.clearCoat = this.clearCoat), void 0 !== this.clearCoatRoughness && (i.clearCoatRoughness = this.clearCoatRoughness), this.map && this.map.isTexture && (i.map = this.map.toJSON(t).uuid), this.matcap && this.matcap.isTexture && (i.matcap = this.matcap.toJSON(t).uuid), this.alphaMap && this.alphaMap.isTexture && (i.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap && this.lightMap.isTexture && (i.lightMap = this.lightMap.toJSON(t).uuid), this.aoMap && this.aoMap.isTexture && (i.aoMap = this.aoMap.toJSON(t).uuid, i.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (i.bumpMap = this.bumpMap.toJSON(t).uuid, i.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (i.normalMap = this.normalMap.toJSON(t).uuid, i.normalMapType = this.normalMapType, i.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (i.displacementMap = this.displacementMap.toJSON(t).uuid, i.displacementScale = this.displacementScale, i.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (i.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap && this.metalnessMap.isTexture && (i.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap && this.emissiveMap.isTexture && (i.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap && this.specularMap.isTexture && (i.specularMap = this.specularMap.toJSON(t).uuid), this.envMap && this.envMap.isTexture && (i.envMap = this.envMap.toJSON(t).uuid, i.reflectivity = this.reflectivity, void 0 !== this.combine && (i.combine = this.combine), void 0 !== this.envMapIntensity && (i.envMapIntensity = this.envMapIntensity)), this.gradientMap && this.gradientMap.isTexture && (i.gradientMap = this.gradientMap.toJSON(t).uuid), void 0 !== this.size && (i.size = this.size), void 0 !== this.sizeAttenuation && (i.sizeAttenuation = this.sizeAttenuation), this.blending !== y && (i.blending = this.blending), !0 === this.flatShading && (i.flatShading = this.flatShading), this.side !== h && (i.side = this.side), this.vertexColors !== f && (i.vertexColors = this.vertexColors), this.opacity < 1 && (i.opacity = this.opacity), !0 === this.transparent && (i.transparent = this.transparent), i.depthFunc = this.depthFunc, i.depthTest = this.depthTest, i.depthWrite = this.depthWrite, 0 !== this.rotation && (i.rotation = this.rotation), !0 === this.polygonOffset && (i.polygonOffset = !0), 0 !== this.polygonOffsetFactor && (i.polygonOffsetFactor = this.polygonOffsetFactor), 0 !== this.polygonOffsetUnits && (i.polygonOffsetUnits = this.polygonOffsetUnits), 1 !== this.linewidth && (i.linewidth = this.linewidth), void 0 !== this.dashSize && (i.dashSize = this.dashSize), void 0 !== this.gapSize && (i.gapSize = this.gapSize), void 0 !== this.scale && (i.scale = this.scale), !0 === this.dithering && (i.dithering = !0), this.alphaTest > 0 && (i.alphaTest = this.alphaTest), !0 === this.premultipliedAlpha && (i.premultipliedAlpha = this.premultipliedAlpha), !0 === this.wireframe && (i.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (i.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (i.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (i.wireframeLinejoin = this.wireframeLinejoin), !0 === this.morphTargets && (i.morphTargets = !0), !0 === this.skinning && (i.skinning = !0), !1 === this.visible && (i.visible = !1), "{}" !== JSON.stringify(this.userData) && (i.userData = this.userData), e) {
                        var r = n(t.textures), o = n(t.images);
                        r.length > 0 && (i.textures = r), o.length > 0 && (i.images = o)
                    }
                    return i
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (t) {
                    this.name = t.name, this.fog = t.fog, this.lights = t.lights, this.blending = t.blending, this.side = t.side, this.flatShading = t.flatShading, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.dithering = t.dithering, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.visible = t.visible, this.userData = JSON.parse(JSON.stringify(t.userData)), this.clipShadows = t.clipShadows, this.clipIntersection = t.clipIntersection;
                    var e = t.clippingPlanes, i = null;
                    if (null !== e) {
                        var n = e.length;
                        i = new Array(n);
                        for (var r = 0; r !== n; ++r)i[r] = e[r].clone()
                    }
                    return this.clippingPlanes = i, this.shadowSide = t.shadowSide, this
                },
                dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            });
            var Ji, Zi, Ki, Qi, tn, en, nn, rn, on, an, sn, ln,
                cn = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",
                un = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";

            function hn(t) {
                Yi.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = cn, this.fragmentShader = un, this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = {
                    derivatives: !1,
                    fragDepth: !1,
                    drawBuffers: !1,
                    shaderTextureLOD: !1
                }, this.defaultAttributeValues = {
                    color: [1, 1, 1],
                    uv: [0, 0],
                    uv2: [0, 0]
                }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, void 0 !== t && (t.attributes, this.setValues(t))
            }

            function dn(t, e) {
                this.origin = void 0 !== t ? t : new Pe, this.direction = void 0 !== e ? e : new Pe
            }

            function pn(t, e, i) {
                this.a = void 0 !== t ? t : new Pe, this.b = void 0 !== e ? e : new Pe, this.c = void 0 !== i ? i : new Pe
            }

            function fn(t) {
                Yi.call(this), this.type = "MeshBasicMaterial", this.color = new hi(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = X, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.lights = !1, this.setValues(t)
            }

            function mn(t, e) {
                Ti.call(this), this.type = "Mesh", this.geometry = void 0 !== t ? t : new $i, this.material = void 0 !== e ? e : new fn({color: 16777215 * Math.random()}), this.drawMode = ue, this.updateMorphTargets()
            }

            function gn(t, e, i, n) {
                var r = t.getParameter(34921), o = n.isWebGL2 ? null : e.get("OES_vertex_array_object"),
                    a = n.isWebGL2 || null !== o, s = {}, l = d(null), c = l;

                function u(e) {
                    return n.isWebGL2 ? t.bindVertexArray(e) : o.bindVertexArrayOES(e)
                }

                function h(e) {
                    return n.isWebGL2 ? t.deleteVertexArray(e) : o.deleteVertexArrayOES(e)
                }

                function d(t) {
                    for (var e = [], i = [], n = [], o = 0; o < r; o++)e[o] = 0, i[o] = 0, n[o] = 0;
                    return {
                        geometry: null,
                        program: null,
                        wireframe: !1,
                        newAttributes: e,
                        enabledAttributes: i,
                        attributeDivisors: n,
                        object: t,
                        attributes: {}
                    }
                }

                function p() {
                    for (var t = c.newAttributes, e = 0, i = t.length; e < i; e++)t[e] = 0
                }

                function f(t) {
                    m(t, 0)
                }

                function m(i, r) {
                    var o = c.newAttributes, a = c.enabledAttributes, s = c.attributeDivisors;
                    (o[i] = 1, 0 === a[i] && (t.enableVertexAttribArray(i), a[i] = 1), s[i] !== r) && ((n.isWebGL2 ? t : e.get("ANGLE_instanced_arrays"))[n.isWebGL2 ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](i, r), s[i] = r)
                }

                function g() {
                    for (var e = c.newAttributes, i = c.enabledAttributes, n = 0, r = i.length; n < r; n++)i[n] !== e[n] && (t.disableVertexAttribArray(n), i[n] = 0)
                }

                function v() {
                    y(), c !== l && u((c = l).object)
                }

                function y() {
                    l.geometry = null, l.program = null, l.wireframe = !1
                }

                return {
                    setup: function (r, l, h, v) {
                        var y = !1;
                        if (a) {
                            var _ = function (e, i, r) {
                                var a = !0 === r.wireframe, l = s[e.id];
                                void 0 === l && (l = {}, s[e.id] = l);
                                var c = l[i.id];
                                void 0 === c && (c = {}, l[i.id] = c);
                                var u = c[a];
                                return void 0 === u && (u = d(n.isWebGL2 ? t.createVertexArray() : o.createVertexArrayOES()), c[a] = u), u
                            }(h, l, r);
                            c !== _ && u((c = _).object), (y = function (t) {
                                var e = c.attributes, i = t.attributes;
                                if (Object.keys(e).length !== Object.keys(i).length)return !0;
                                for (var n in i) {
                                    var r = e[n], o = i[n];
                                    if (r.attribute !== o)return !0;
                                    if (r.version !== o.versionVAO)return !0;
                                    if (r.data.buffer !== o.data)return !0;
                                    if (o.data && r.data.version !== o.data.versionVAO)return !0
                                }
                                return !1
                            }(h)) && function (t) {
                                var e = {}, i = t.attributes;
                                for (var n in i) {
                                    var r = i[n], o = {};
                                    o.attribute = r, o.version = r.versionVAO, o.data = {}, r.data && (o.data.buffer = r.data, o.data.version = r.data.versionVAO), e[n] = o
                                }
                                c.attributes = e
                            }(h)
                        } else {
                            var x = !0 === r.wireframe;
                            c.geometry === h.id && c.program === l.id && c.wireframe === x || (c.geometry = h.id, c.program = l.id, c.wireframe = x, y = !0)
                        }
                        null !== v && i.update(v, 34963), y && (function (r, o, a) {
                            if (!(a && a.isInstancedBufferGeometry & !n.isWebGL2 && null === e.get("ANGLE_instanced_arrays"))) {
                                p();
                                var s = a.attributes, l = o.getAttributes(), c = r.defaultAttributeValues;
                                for (var u in l) {
                                    var h = l[u];
                                    if (h >= 0) {
                                        var d = s[u];
                                        if (void 0 !== d) {
                                            var v = d.normalized, y = d.itemSize, _ = i.get(d);
                                            if (void 0 === _)continue;
                                            var x = _.buffer, b = _.type, w = _.bytesPerElement;
                                            if (d.isInterleavedBufferAttribute) {
                                                var S = d.data, M = S.stride, T = d.offset;
                                                S && S.isInstancedInterleavedBuffer ? (m(h, S.meshPerAttribute), void 0 === a.maxInstancedCount && (a.maxInstancedCount = S.meshPerAttribute * S.count)) : f(h), t.bindBuffer(34962, x), t.vertexAttribPointer(h, y, b, v, M * w, T * w)
                                            } else d.isInstancedBufferAttribute ? (m(h, d.meshPerAttribute), void 0 === a.maxInstancedCount && (a.maxInstancedCount = d.meshPerAttribute * d.count)) : f(h), t.bindBuffer(34962, x), t.vertexAttribPointer(h, y, b, v, 0, 0)
                                        } else if (void 0 !== c) {
                                            var A = c[u];
                                            if (void 0 !== A)switch (A.length) {
                                                case 2:
                                                    t.vertexAttrib2fv(h, A);
                                                    break;
                                                case 3:
                                                    t.vertexAttrib3fv(h, A);
                                                    break;
                                                case 4:
                                                    t.vertexAttrib4fv(h, A);
                                                    break;
                                                default:
                                                    t.vertexAttrib1fv(h, A)
                                            }
                                        }
                                    }
                                }
                                g()
                            }
                        }(r, l, h), null !== v && t.bindBuffer(34963, i.get(v).buffer))
                    }, reset: v, resetDefaultState: y, dispose: function () {
                        for (var t in v(), s) {
                            var e = s[t];
                            for (var i in e) {
                                var n = e[i];
                                for (var r in n)h(n[r].object), delete n[r];
                                delete e[i]
                            }
                            delete s[t]
                        }
                    }, releaseStatesOfGeometry: function (t) {
                        if (void 0 !== s[t.id]) {
                            var e = s[t.id];
                            for (var i in e) {
                                var n = e[i];
                                for (var r in n)h(n[r].object), delete n[r];
                                delete e[i]
                            }
                            delete s[t.id]
                        }
                    }, releaseStatesOfProgram: function (t) {
                        for (var e in s) {
                            var i = s[e];
                            if (void 0 !== i[t.id]) {
                                var n = i[t.id];
                                for (var r in n)h(n[r].object), delete n[r];
                                delete i[t.id]
                            }
                        }
                    }, initAttributes: p, enableAttribute: f, disableUnusedAttributes: g
                }
            }

            function vn(t, e) {
                return t[0] - e[0]
            }

            function yn(t, e) {
                return Math.abs(e[1]) - Math.abs(t[1])
            }

            function _n(t, e, i, n, r, o, a, s, l, c) {
                t = void 0 !== t ? t : [], e = void 0 !== e ? e : it, a = void 0 !== a ? a : Lt, We.call(this, t, e, i, n, r, o, a, s, l, c), this.flipY = !1
            }

            function xn(t, e, i, n) {
                We.call(this, null), this.image = {
                    data: t,
                    width: e,
                    height: i,
                    depth: n
                }, this.magFilter = dt, this.minFilter = dt, this.wrapR = ut, this.generateMipmaps = !1, this.flipY = !1
            }

            function bn(t, e, i, n) {
                We.call(this, null), this.image = {
                    data: t,
                    width: e,
                    height: i,
                    depth: n
                }, this.magFilter = dt, this.minFilter = dt, this.wrapR = ut, this.generateMipmaps = !1, this.flipY = !1
            }

            hn.prototype = Object.create(Yi.prototype), hn.prototype.constructor = hn, hn.prototype.isShaderMaterial = !0, hn.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = ri(t.uniforms), this.defines = Object.assign({}, t.defines), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.lights = t.lights, this.clipping = t.clipping, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this
            }, hn.prototype.toJSON = function (t) {
                var e = Yi.prototype.toJSON.call(this, t);
                for (var i in e.uniforms = {}, this.uniforms) {
                    var n = this.uniforms[i].value;
                    n && n.isTexture ? e.uniforms[i] = {
                        type: "t",
                        value: n.toJSON(t).uuid
                    } : n && n.isColor ? e.uniforms[i] = {
                        type: "c",
                        value: n.getHex()
                    } : n && n.isVector2 ? e.uniforms[i] = {
                        type: "v2",
                        value: n.toArray()
                    } : n && n.isVector3 ? e.uniforms[i] = {
                        type: "v3",
                        value: n.toArray()
                    } : n && n.isVector4 ? e.uniforms[i] = {
                        type: "v4",
                        value: n.toArray()
                    } : n && n.isMatrix3 ? e.uniforms[i] = {
                        type: "m3",
                        value: n.toArray()
                    } : n && n.isMatrix4 ? e.uniforms[i] = {type: "m4", value: n.toArray()} : e.uniforms[i] = {value: n}
                }
                Object.keys(this.defines).length > 0 && (e.defines = this.defines), e.vertexShader = this.vertexShader, e.fragmentShader = this.fragmentShader;
                var r = {};
                for (var o in this.extensions)!0 === this.extensions[o] && (r[o] = !0);
                return Object.keys(r).length > 0 && (e.extensions = r), e
            }, Object.assign(dn.prototype, {
                set: function (t, e) {
                    return this.origin.copy(t), this.direction.copy(e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.origin.copy(t.origin), this.direction.copy(t.direction), this
                }, at: function (t, e) {
                    return void 0 === e && (e = new Pe), e.copy(this.direction).multiplyScalar(t).add(this.origin)
                }, lookAt: function (t) {
                    return this.direction.copy(t).sub(this.origin).normalize(), this
                }, recast: function () {
                    var t = new Pe;
                    return function (e) {
                        return this.origin.copy(this.at(e, t)), this
                    }
                }(), closestPointToPoint: function (t, e) {
                    void 0 === e && (e = new Pe), e.subVectors(t, this.origin);
                    var i = e.dot(this.direction);
                    return i < 0 ? e.copy(this.origin) : e.copy(this.direction).multiplyScalar(i).add(this.origin)
                }, distanceToPoint: function (t) {
                    return Math.sqrt(this.distanceSqToPoint(t))
                }, distanceSqToPoint: function () {
                    var t = new Pe;
                    return function (e) {
                        var i = t.subVectors(e, this.origin).dot(this.direction);
                        return i < 0 ? this.origin.distanceToSquared(e) : (t.copy(this.direction).multiplyScalar(i).add(this.origin), t.distanceToSquared(e))
                    }
                }(), distanceSqToSegment: (Zi = new Pe, Ki = new Pe, Qi = new Pe, function (t, e, i, n) {
                    Zi.copy(t).add(e).multiplyScalar(.5), Ki.copy(e).sub(t).normalize(), Qi.copy(this.origin).sub(Zi);
                    var r, o, a, s, l = .5 * t.distanceTo(e), c = -this.direction.dot(Ki), u = Qi.dot(this.direction),
                        h = -Qi.dot(Ki), d = Qi.lengthSq(), p = Math.abs(1 - c * c);
                    if (p > 0)if (o = c * u - h, s = l * p, (r = c * h - u) >= 0)if (o >= -s)if (o <= s) {
                        var f = 1 / p;
                        a = (r *= f) * (r + c * (o *= f) + 2 * u) + o * (c * r + o + 2 * h) + d
                    } else o = l, a = -(r = Math.max(0, -(c * o + u))) * r + o * (o + 2 * h) + d; else o = -l, a = -(r = Math.max(0, -(c * o + u))) * r + o * (o + 2 * h) + d; else o <= -s ? a = -(r = Math.max(0, -(-c * l + u))) * r + (o = r > 0 ? -l : Math.min(Math.max(-l, -h), l)) * (o + 2 * h) + d : o <= s ? (r = 0, a = (o = Math.min(Math.max(-l, -h), l)) * (o + 2 * h) + d) : a = -(r = Math.max(0, -(c * l + u))) * r + (o = r > 0 ? l : Math.min(Math.max(-l, -h), l)) * (o + 2 * h) + d; else o = c > 0 ? -l : l, a = -(r = Math.max(0, -(c * o + u))) * r + o * (o + 2 * h) + d;
                    return i && i.copy(this.direction).multiplyScalar(r).add(this.origin), n && n.copy(Ki).multiplyScalar(o).add(Zi), a
                }), intersectSphere: function () {
                    var t = new Pe;
                    return function (e, i) {
                        t.subVectors(e.center, this.origin);
                        var n = t.dot(this.direction), r = t.dot(t) - n * n, o = e.radius * e.radius;
                        if (r > o)return null;
                        var a = Math.sqrt(o - r), s = n - a, l = n + a;
                        return s < 0 && l < 0 ? null : s < 0 ? this.at(l, i) : this.at(s, i)
                    }
                }(), intersectsSphere: function (t) {
                    return this.distanceSqToPoint(t.center) <= t.radius * t.radius
                }, distanceToPlane: function (t) {
                    var e = t.normal.dot(this.direction);
                    if (0 === e)return 0 === t.distanceToPoint(this.origin) ? 0 : null;
                    var i = -(this.origin.dot(t.normal) + t.constant) / e;
                    return i >= 0 ? i : null
                }, intersectPlane: function (t, e) {
                    var i = this.distanceToPlane(t);
                    return null === i ? null : this.at(i, e)
                }, intersectsPlane: function (t) {
                    var e = t.distanceToPoint(this.origin);
                    return 0 === e || t.normal.dot(this.direction) * e < 0
                }, intersectBox: function (t, e) {
                    var i, n, r, o, a, s, l = 1 / this.direction.x, c = 1 / this.direction.y, u = 1 / this.direction.z,
                        h = this.origin;
                    return l >= 0 ? (i = (t.min.x - h.x) * l, n = (t.max.x - h.x) * l) : (i = (t.max.x - h.x) * l, n = (t.min.x - h.x) * l), c >= 0 ? (r = (t.min.y - h.y) * c, o = (t.max.y - h.y) * c) : (r = (t.max.y - h.y) * c, o = (t.min.y - h.y) * c), i > o || r > n ? null : ((r > i || i != i) && (i = r), (o < n || n != n) && (n = o), u >= 0 ? (a = (t.min.z - h.z) * u, s = (t.max.z - h.z) * u) : (a = (t.max.z - h.z) * u, s = (t.min.z - h.z) * u), i > s || a > n ? null : ((a > i || i != i) && (i = a), (s < n || n != n) && (n = s), n < 0 ? null : this.at(i >= 0 ? i : n, e)))
                }, intersectsBox: (Ji = new Pe, function (t) {
                    return null !== this.intersectBox(t, Ji)
                }), intersectTriangle: function () {
                    var t = new Pe, e = new Pe, i = new Pe, n = new Pe;
                    return function (r, o, a, s, l) {
                        e.subVectors(o, r), i.subVectors(a, r), n.crossVectors(e, i);
                        var c, u = this.direction.dot(n);
                        if (u > 0) {
                            if (s)return null;
                            c = 1
                        } else {
                            if (!(u < 0))return null;
                            c = -1, u = -u
                        }
                        t.subVectors(this.origin, r);
                        var h = c * this.direction.dot(i.crossVectors(t, i));
                        if (h < 0)return null;
                        var d = c * this.direction.dot(e.cross(t));
                        if (d < 0)return null;
                        if (h + d > u)return null;
                        var p = -c * t.dot(n);
                        return p < 0 ? null : this.at(p / u, l)
                    }
                }(), applyMatrix4: function (t) {
                    return this.origin.applyMatrix4(t), this.direction.transformDirection(t), this
                }, equals: function (t) {
                    return t.origin.equals(this.origin) && t.direction.equals(this.direction)
                }
            }), Object.assign(pn, {
                getNormal: (en = new Pe, function (t, e, i, n) {
                    void 0 === n && (n = new Pe), n.subVectors(i, e), en.subVectors(t, e), n.cross(en);
                    var r = n.lengthSq();
                    return r > 0 ? n.multiplyScalar(1 / Math.sqrt(r)) : n.set(0, 0, 0)
                }), getBarycoord: function () {
                    var t = new Pe, e = new Pe, i = new Pe;
                    return function (n, r, o, a, s) {
                        t.subVectors(a, r), e.subVectors(o, r), i.subVectors(n, r);
                        var l = t.dot(t), c = t.dot(e), u = t.dot(i), h = e.dot(e), d = e.dot(i), p = l * h - c * c;
                        if (void 0 === s && (s = new Pe), 0 === p)return s.set(-2, -1, -1);
                        var f = 1 / p, m = (h * u - c * d) * f, g = (l * d - c * u) * f;
                        return s.set(1 - m - g, g, m)
                    }
                }(), containsPoint: function () {
                    var t = new Pe;
                    return function (e, i, n, r) {
                        return pn.getBarycoord(e, i, n, r, t), t.x >= 0 && t.y >= 0 && t.x + t.y <= 1
                    }
                }(), getUV: (tn = new Pe, function (t, e, i, n, r, o, a, s) {
                    return this.getBarycoord(t, e, i, n, tn), s.set(0, 0), s.addScaledVector(r, tn.x), s.addScaledVector(o, tn.y), s.addScaledVector(a, tn.z), s
                })
            }), Object.assign(pn.prototype, {
                set: function (t, e, i) {
                    return this.a.copy(t), this.b.copy(e), this.c.copy(i), this
                },
                setFromPointsAndIndices: function (t, e, i, n) {
                    return this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[n]), this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                },
                copy: function (t) {
                    return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this
                },
                getArea: function () {
                    var t = new Pe, e = new Pe;
                    return function () {
                        return t.subVectors(this.c, this.b), e.subVectors(this.a, this.b), .5 * t.cross(e).length()
                    }
                }(),
                getMidpoint: function (t) {
                    return void 0 === t && (t = new Pe), t.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
                },
                getNormal: function (t) {
                    return pn.getNormal(this.a, this.b, this.c, t)
                },
                getPlane: function (t) {
                    return void 0 === t && (t = new Pe), t.setFromCoplanarPoints(this.a, this.b, this.c)
                },
                getBarycoord: function (t, e) {
                    return pn.getBarycoord(t, this.a, this.b, this.c, e)
                },
                containsPoint: function (t) {
                    return pn.containsPoint(t, this.a, this.b, this.c)
                },
                getUV: function (t, e, i, n, r) {
                    return pn.getUV(t, this.a, this.b, this.c, e, i, n, r)
                },
                intersectsBox: function (t) {
                    return t.intersectsTriangle(this)
                },
                closestPointToPoint: (nn = new Pe, rn = new Pe, on = new Pe, an = new Pe, sn = new Pe, ln = new Pe, function (t, e) {
                    void 0 === e && (e = new Pe);
                    var i, n, r = this.a, o = this.b, a = this.c;
                    nn.subVectors(o, r), rn.subVectors(a, r), an.subVectors(t, r);
                    var s = nn.dot(an), l = rn.dot(an);
                    if (s <= 0 && l <= 0)return e.copy(r);
                    sn.subVectors(t, o);
                    var c = nn.dot(sn), u = rn.dot(sn);
                    if (c >= 0 && u <= c)return e.copy(o);
                    var h = s * u - c * l;
                    if (h <= 0 && s >= 0 && c <= 0)return i = s / (s - c), e.copy(r).addScaledVector(nn, i);
                    ln.subVectors(t, a);
                    var d = nn.dot(ln), p = rn.dot(ln);
                    if (p >= 0 && d <= p)return e.copy(a);
                    var f = d * l - s * p;
                    if (f <= 0 && l >= 0 && p <= 0)return n = l / (l - p), e.copy(r).addScaledVector(rn, n);
                    var m = c * p - d * u;
                    if (m <= 0 && u - c >= 0 && d - p >= 0)return on.subVectors(a, o), n = (u - c) / (u - c + (d - p)), e.copy(o).addScaledVector(on, n);
                    var g = 1 / (m + f + h);
                    return i = f * g, n = h * g, e.copy(r).addScaledVector(nn, i).addScaledVector(rn, n)
                }),
                equals: function (t) {
                    return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
                }
            }), fn.prototype = Object.create(Yi.prototype), fn.prototype.constructor = fn, fn.prototype.isMeshBasicMaterial = !0, fn.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this
            }, mn.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: mn,
                isMesh: !0,
                setDrawMode: function (t) {
                    this.drawMode = t
                },
                copy: function (t) {
                    return Ti.prototype.copy.call(this, t), this.drawMode = t.drawMode, void 0 !== t.morphTargetInfluences && (this.morphTargetInfluences = t.morphTargetInfluences.slice()), void 0 !== t.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, t.morphTargetDictionary)), this
                },
                updateMorphTargets: function () {
                    var t, e, i, n = this.geometry;
                    if (n.isBufferGeometry) {
                        var r = n.morphAttributes, o = Object.keys(r);
                        if (o.length > 0) {
                            var a = r[o[0]];
                            if (void 0 !== a)for (this.morphTargetInfluences = [], this.morphTargetDictionary = {}, t = 0, e = a.length; t < e; t++)i = a[t].name || String(t), this.morphTargetInfluences.push(0), this.morphTargetDictionary[i] = t
                        }
                    } else {
                        var s = n.morphTargets;
                        void 0 !== s && s.length
                    }
                },
                raycast: function () {
                    var t = new ii, e = new dn, i = new Qe, n = new Pe, r = new Pe, o = new Pe, a = new Pe, s = new Pe,
                        l = new Pe, c = new Pe, u = new Pe, h = new Pe, f = new Te, m = new Te, g = new Te, v = new Pe,
                        y = new Pe;

                    function _(t, e, i, n, r, o, a, s) {
                        if (null === (e.side === d ? n.intersectTriangle(a, o, r, !0, s) : n.intersectTriangle(r, o, a, e.side !== p, s)))return null;
                        y.copy(s), y.applyMatrix4(t.matrixWorld);
                        var l = i.ray.origin.distanceTo(y);
                        return l < i.near || l > i.far ? null : {distance: l, point: y.clone(), object: t}
                    }

                    function x(t, e, i, d, p, y, x, b, w, S) {
                        n.fromBufferAttribute(p, b), r.fromBufferAttribute(p, w), o.fromBufferAttribute(p, S);
                        var M = t.morphTargetInfluences;
                        if (e.morphTargets && y && M) {
                            c.set(0, 0, 0), u.set(0, 0, 0), h.set(0, 0, 0);
                            for (var T = 0, A = y.length; T < A; T++) {
                                var P = M[T], E = y[T];
                                0 !== P && (a.fromBufferAttribute(E, b), s.fromBufferAttribute(E, w), l.fromBufferAttribute(E, S), c.addScaledVector(a.sub(n), P), u.addScaledVector(s.sub(r), P), h.addScaledVector(l.sub(o), P))
                            }
                            n.add(c), r.add(u), o.add(h)
                        }
                        var C = _(t, e, i, d, n, r, o, v);
                        if (C) {
                            x && (f.fromBufferAttribute(x, b), m.fromBufferAttribute(x, w), g.fromBufferAttribute(x, S), C.uv = pn.getUV(v, n, r, o, f, m, g, new Te));
                            var O = new vi(b, w, S);
                            pn.getNormal(n, r, o, O.normal), C.face = O
                        }
                        return C
                    }

                    return function (n, r) {
                        var o, a = this.geometry, s = this.material, l = this.matrixWorld;
                        if (void 0 !== s && (null === a.boundingSphere && a.computeBoundingSphere(), i.copy(a.boundingSphere), i.applyMatrix4(l), !1 !== n.ray.intersectsSphere(i) && (t.getInverse(l), e.copy(n.ray).applyMatrix4(t), null === a.boundingBox || !1 !== e.intersectsBox(a.boundingBox))))if (a.isBufferGeometry) {
                            var c, u, h, d, p, y, b, w, S, M = a.index, T = a.attributes.position,
                                A = a.morphAttributes.position, P = a.attributes.uv, E = a.groups, C = a.drawRange;
                            if (null !== M)if (Array.isArray(s))for (d = 0, y = E.length; d < y; d++)for (S = s[(w = E[d]).materialIndex], p = Math.max(w.start, C.start), b = Math.min(w.start + w.count, C.start + C.count); p < b; p += 3)c = M.getX(p), u = M.getX(p + 1), h = M.getX(p + 2), (o = x(this, S, n, e, T, A, P, c, u, h)) && (o.faceIndex = Math.floor(p / 3), o.face.materialIndex = w.materialIndex, r.push(o)); else for (d = Math.max(0, C.start), y = Math.min(M.count, C.start + C.count); d < y; d += 3)c = M.getX(d), u = M.getX(d + 1), h = M.getX(d + 2), (o = x(this, s, n, e, T, A, P, c, u, h)) && (o.faceIndex = Math.floor(d / 3), r.push(o)); else if (void 0 !== T)if (Array.isArray(s))for (d = 0, y = E.length; d < y; d++)for (S = s[(w = E[d]).materialIndex], p = Math.max(w.start, C.start), b = Math.min(w.start + w.count, C.start + C.count); p < b; p += 3)(o = x(this, S, n, e, T, A, P, c = p, u = p + 1, h = p + 2)) && (o.faceIndex = Math.floor(p / 3), o.face.materialIndex = w.materialIndex, r.push(o)); else for (d = Math.max(0, C.start), y = Math.min(T.count, C.start + C.count); d < y; d += 3)(o = x(this, s, n, e, T, A, P, c = d, u = d + 1, h = d + 2)) && (o.faceIndex = Math.floor(d / 3), r.push(o))
                        } else if (a.isGeometry) {
                            var O, L, k, I, N = Array.isArray(s), R = a.vertices, D = a.faces, z = a.faceVertexUvs[0];
                            z.length > 0 && (I = z);
                            for (var j = 0, F = D.length; j < F; j++) {
                                var B = D[j], U = N ? s[B.materialIndex] : s;
                                if (void 0 !== U && (O = R[B.a], L = R[B.b], k = R[B.c], o = _(this, U, n, e, O, L, k, v))) {
                                    if (I && I[j]) {
                                        var G = I[j];
                                        f.copy(G[0]), m.copy(G[1]), g.copy(G[2]), o.uv = pn.getUV(v, O, L, k, f, m, g, new Te)
                                    }
                                    o.face = B, o.faceIndex = j, r.push(o)
                                }
                            }
                        }
                    }
                }(),
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), _n.prototype = Object.create(We.prototype), _n.prototype.constructor = _n, _n.prototype.isCubeTexture = !0, Object.defineProperty(_n.prototype, "images", {
                get: function () {
                    return this.image
                }, set: function (t) {
                    this.image = t
                }
            }), xn.prototype = Object.create(We.prototype), xn.prototype.constructor = xn, xn.prototype.isDataTexture2DArray = !0, bn.prototype = Object.create(We.prototype), bn.prototype.constructor = bn, bn.prototype.isDataTexture3D = !0;
            var wn = new We, Sn = new xn, Mn = new bn, Tn = new _n, An = [], Pn = [], En = new Float32Array(16),
                Cn = new Float32Array(9), On = new Float32Array(4);

            function Ln(t, e, i) {
                var n = t[0];
                if (n <= 0 || n > 0)return t;
                var r = e * i, o = An[r];
                if (void 0 === o && (o = new Float32Array(r), An[r] = o), 0 !== e) {
                    n.toArray(o, 0);
                    for (var a = 1, s = 0; a !== e; ++a)s += i, t[a].toArray(o, s)
                }
                return o
            }

            function kn(t, e) {
                if (t.length !== e.length)return !1;
                for (var i = 0, n = t.length; i < n; i++)if (t[i] !== e[i])return !1;
                return !0
            }

            function In(t, e) {
                for (var i = 0, n = e.length; i < n; i++)t[i] = e[i]
            }

            function Nn(t, e) {
                var i = Pn[e];
                void 0 === i && (i = new Int32Array(e), Pn[e] = i);
                for (var n = 0; n !== e; ++n)i[n] = t.allocateTextureUnit();
                return i
            }

            function Rn(t, e) {
                var i = this.cache;
                i[0] !== e && (t.uniform1f(this.addr, e), i[0] = e)
            }

            function Dn(t, e) {
                var i = this.cache;
                i[0] !== e && (t.uniform1i(this.addr, e), i[0] = e)
            }

            function zn(t, e) {
                var i = this.cache;
                if (void 0 !== e.x) i[0] === e.x && i[1] === e.y || (t.uniform2f(this.addr, e.x, e.y), i[0] = e.x, i[1] = e.y); else {
                    if (kn(i, e))return;
                    t.uniform2fv(this.addr, e), In(i, e)
                }
            }

            function jn(t, e) {
                var i = this.cache;
                if (void 0 !== e.x) i[0] === e.x && i[1] === e.y && i[2] === e.z || (t.uniform3f(this.addr, e.x, e.y, e.z), i[0] = e.x, i[1] = e.y, i[2] = e.z); else if (void 0 !== e.r) i[0] === e.r && i[1] === e.g && i[2] === e.b || (t.uniform3f(this.addr, e.r, e.g, e.b), i[0] = e.r, i[1] = e.g, i[2] = e.b); else {
                    if (kn(i, e))return;
                    t.uniform3fv(this.addr, e), In(i, e)
                }
            }

            function Fn(t, e) {
                var i = this.cache;
                if (void 0 !== e.x) i[0] === e.x && i[1] === e.y && i[2] === e.z && i[3] === e.w || (t.uniform4f(this.addr, e.x, e.y, e.z, e.w), i[0] = e.x, i[1] = e.y, i[2] = e.z, i[3] = e.w); else {
                    if (kn(i, e))return;
                    t.uniform4fv(this.addr, e), In(i, e)
                }
            }

            function Bn(t, e) {
                var i = this.cache, n = e.elements;
                if (void 0 === n) {
                    if (kn(i, e))return;
                    t.uniformMatrix2fv(this.addr, !1, e), In(i, e)
                } else {
                    if (kn(i, n))return;
                    On.set(n), t.uniformMatrix2fv(this.addr, !1, On), In(i, n)
                }
            }

            function Un(t, e) {
                var i = this.cache, n = e.elements;
                if (void 0 === n) {
                    if (kn(i, e))return;
                    t.uniformMatrix3fv(this.addr, !1, e), In(i, e)
                } else {
                    if (kn(i, n))return;
                    Cn.set(n), t.uniformMatrix3fv(this.addr, !1, Cn), In(i, n)
                }
            }

            function Gn(t, e) {
                var i = this.cache, n = e.elements;
                if (void 0 === n) {
                    if (kn(i, e))return;
                    t.uniformMatrix4fv(this.addr, !1, e), In(i, e)
                } else {
                    if (kn(i, n))return;
                    En.set(n), t.uniformMatrix4fv(this.addr, !1, En), In(i, n)
                }
            }

            function $n(t, e, i) {
                var n = this.cache, r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.safeSetTexture2D(e || wn, r)
            }

            function Vn(t, e, i) {
                var n = this.cache, r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.setTexture2DArray(e || Sn, r)
            }

            function Wn(t, e, i) {
                var n = this.cache, r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.setTexture3D(e || Mn, r)
            }

            function Hn(t, e, i) {
                var n = this.cache, r = i.allocateTextureUnit();
                n[0] !== r && (t.uniform1i(this.addr, r), n[0] = r), i.safeSetTextureCube(e || Tn, r)
            }

            function Xn(t, e) {
                var i = this.cache;
                kn(i, e) || (t.uniform2iv(this.addr, e), In(i, e))
            }

            function qn(t, e) {
                var i = this.cache;
                kn(i, e) || (t.uniform3iv(this.addr, e), In(i, e))
            }

            function Yn(t, e) {
                var i = this.cache;
                kn(i, e) || (t.uniform4iv(this.addr, e), In(i, e))
            }

            function Jn(t, e) {
                var i = this.cache;
                kn(i, e) || (t.uniform1fv(this.addr, e), In(i, e))
            }

            function Zn(t, e) {
                var i = this.cache;
                kn(i, e) || (t.uniform1iv(this.addr, e), In(i, e))
            }

            function Kn(t, e) {
                var i = this.cache, n = Ln(e, this.size, 2);
                kn(i, n) || (t.uniform2fv(this.addr, n), this.updateCache(n))
            }

            function Qn(t, e) {
                var i = this.cache, n = Ln(e, this.size, 3);
                kn(i, n) || (t.uniform3fv(this.addr, n), this.updateCache(n))
            }

            function tr(t, e) {
                var i = this.cache, n = Ln(e, this.size, 4);
                kn(i, n) || (t.uniform4fv(this.addr, n), this.updateCache(n))
            }

            function er(t, e) {
                var i = this.cache, n = Ln(e, this.size, 4);
                kn(i, n) || (t.uniformMatrix2fv(this.addr, !1, n), this.updateCache(n))
            }

            function ir(t, e) {
                var i = this.cache, n = Ln(e, this.size, 9);
                kn(i, n) || (t.uniformMatrix3fv(this.addr, !1, n), this.updateCache(n))
            }

            function nr(t, e) {
                var i = this.cache, n = Ln(e, this.size, 16);
                kn(i, n) || (t.uniformMatrix4fv(this.addr, !1, n), this.updateCache(n))
            }

            function rr(t, e, i) {
                var n = this.cache, r = e.length, o = Nn(i, r);
                !1 === kn(n, o) && (t.uniform1iv(this.addr, o), In(n, o));
                for (var a = 0; a !== r; ++a)i.safeSetTexture2D(e[a] || wn, o[a])
            }

            function or(t, e, i) {
                var n = this.cache, r = e.length, o = Nn(i, r);
                !1 === kn(n, o) && (t.uniform1iv(this.addr, o), In(n, o));
                for (var a = 0; a !== r; ++a)i.safeSetTextureCube(e[a] || Tn, o[a])
            }

            function ar(t, e, i) {
                this.id = t, this.addr = i, this.cache = [], this.setValue = function (t) {
                    switch (t) {
                        case 5126:
                            return Rn;
                        case 35664:
                            return zn;
                        case 35665:
                            return jn;
                        case 35666:
                            return Fn;
                        case 35674:
                            return Bn;
                        case 35675:
                            return Un;
                        case 35676:
                            return Gn;
                        case 35678:
                        case 36198:
                            return $n;
                        case 35679:
                            return Wn;
                        case 35680:
                            return Hn;
                        case 36289:
                            return Vn;
                        case 5124:
                        case 35670:
                            return Dn;
                        case 35667:
                        case 35671:
                            return Xn;
                        case 35668:
                        case 35672:
                            return qn;
                        case 35669:
                        case 35673:
                            return Yn
                    }
                }(e.type)
            }

            function sr(t, e, i) {
                this.id = t, this.addr = i, this.cache = [], this.size = e.size, this.setValue = function (t) {
                    switch (t) {
                        case 5126:
                            return Jn;
                        case 35664:
                            return Kn;
                        case 35665:
                            return Qn;
                        case 35666:
                            return tr;
                        case 35674:
                            return er;
                        case 35675:
                            return ir;
                        case 35676:
                            return nr;
                        case 35678:
                            return rr;
                        case 35680:
                            return or;
                        case 5124:
                        case 35670:
                            return Zn;
                        case 35667:
                        case 35671:
                            return Xn;
                        case 35668:
                        case 35672:
                            return qn;
                        case 35669:
                        case 35673:
                            return Yn
                    }
                }(e.type)
            }

            function lr(t) {
                this.id = t, this.seq = [], this.map = {}
            }

            sr.prototype.updateCache = function (t) {
                var e = this.cache;
                t instanceof Float32Array && e.length !== t.length && (this.cache = new Float32Array(t.length)), In(e, t)
            }, lr.prototype.setValue = function (t, e, i) {
                for (var n = this.seq, r = 0, o = n.length; r !== o; ++r) {
                    var a = n[r];
                    a.setValue(t, e[a.id], i)
                }
            };
            var cr = /([\w\d_]+)(\])?(\[|\.)?/g;

            function ur(t, e) {
                t.seq.push(e), t.map[e.id] = e
            }

            function hr(t, e, i) {
                var n = t.name, r = n.length;
                for (cr.lastIndex = 0; ;) {
                    var o = cr.exec(n), a = cr.lastIndex, s = o[1], l = "]" === o[2], c = o[3];
                    if (l && (s |= 0), void 0 === c || "[" === c && a + 2 === r) {
                        ur(i, void 0 === c ? new ar(s, t, e) : new sr(s, t, e));
                        break
                    }
                    var u = i.map[s];
                    void 0 === u && ur(i, u = new lr(s)), i = u
                }
            }

            function dr(t, e) {
                this.seq = [], this.map = {};
                for (var i = t.getProgramParameter(e, 35718), n = 0; n < i; ++n) {
                    var r = t.getActiveUniform(e, n);
                    hr(r, t.getUniformLocation(e, r.name), this)
                }
            }

            function pr(t, e, i, n) {
                var r = t.createShader(e);
                return t.shaderSource(r, i), t.compileShader(r), !0 === n && (t.getShaderParameter(r, 35713), t.getShaderInfoLog(r)), r
            }

            dr.prototype.setValue = function (t, e, i, n) {
                var r = this.map[e];
                void 0 !== r && r.setValue(t, i, n)
            }, dr.prototype.setOptional = function (t, e, i) {
                var n = e[i];
                void 0 !== n && this.setValue(t, i, n)
            }, dr.upload = function (t, e, i, n) {
                for (var r = 0, o = e.length; r !== o; ++r) {
                    var a = e[r], s = i[a.id];
                    !1 !== s.needsUpdate && a.setValue(t, s.value, n)
                }
            }, dr.seqWithValue = function (t, e) {
                for (var i = [], n = 0, r = t.length; n !== r; ++n) {
                    var o = t[n];
                    o.id in e && i.push(o)
                }
                return i
            };
            var fr = 0;

            function mr(t) {
                switch (t) {
                    case pe:
                        return ["Linear", "( value )"];
                    case fe:
                        return ["sRGB", "( value )"];
                    case ge:
                        return ["RGBE", "( value )"];
                    case ve:
                        return ["RGBM", "( value, 7.0 )"];
                    case ye:
                        return ["RGBM", "( value, 16.0 )"];
                    case _e:
                        return ["RGBD", "( value, 256.0 )"];
                    case me:
                        return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                    default:
                        throw new Error("unsupported encoding: " + t)
                }
            }

            function gr(t, e) {
                var i = mr(e);
                return "vec4 " + t + "( vec4 value ) { return " + i[0] + "ToLinear" + i[1] + "; }"
            }

            function vr(t) {
                return "" !== t
            }

            function yr(t, e) {
                return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights)
            }

            function _r(t, e) {
                return t.replace(/NUM_CLIPPING_PLANES/g, e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, e.numClippingPlanes - e.numClipIntersection)
            }

            function xr(t) {
                return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm, function (t, e) {
                    var i = ni[e];
                    if (void 0 === i)throw new Error("Can not resolve #include <" + e + ">");
                    return xr(i)
                })
            }

            function br(t) {
                return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function (t, e, i, n) {
                    for (var r = "", o = parseInt(e); o < parseInt(i); o++)r += n.replace(/\[ i \]/g, "[ " + o + " ]");
                    return r
                })
            }

            function wr(t, e, i, n, r, o, a, s, l) {
                var h = t.context, d = n.defines, p = r.vertexShader, f = r.fragmentShader, m = "SHADOWMAP_TYPE_BASIC";
                o.shadowMapType === c ? m = "SHADOWMAP_TYPE_PCF" : o.shadowMapType === u && (m = "SHADOWMAP_TYPE_PCF_SOFT");
                var g = "ENVMAP_TYPE_CUBE", v = "ENVMAP_MODE_REFLECTION", y = "ENVMAP_BLENDING_MULTIPLY";
                if (o.envMap) {
                    switch (n.envMap.mapping) {
                        case it:
                        case nt:
                            g = "ENVMAP_TYPE_CUBE";
                            break;
                        case st:
                        case lt:
                            g = "ENVMAP_TYPE_CUBE_UV";
                            break;
                        case rt:
                        case ot:
                            g = "ENVMAP_TYPE_EQUIREC";
                            break;
                        case at:
                            g = "ENVMAP_TYPE_SPHERE"
                    }
                    switch (n.envMap.mapping) {
                        case nt:
                        case ot:
                            v = "ENVMAP_MODE_REFRACTION"
                    }
                    switch (n.combine) {
                        case X:
                            y = "ENVMAP_BLENDING_MULTIPLY";
                            break;
                        case q:
                            y = "ENVMAP_BLENDING_MIX";
                            break;
                        case Y:
                            y = "ENVMAP_BLENDING_ADD"
                    }
                }
                var _, x, b, w, S, M = t.gammaFactor > 0 ? t.gammaFactor : 1, T = a.isWebGL2 ? "" : function (t, e, i) {
                    return [(t = t || {}).derivatives || e.envMapCubeUV || e.bumpMap || e.normalMap && !e.objectSpaceNormalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && i.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && i.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && i.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(vr).join("\n")
                }(n.extensions, o, e), A = function (t) {
                    var e = [];
                    for (var i in t) {
                        var n = t[i];
                        !1 !== n && e.push("#define " + i + " " + n)
                    }
                    return e.join("\n")
                }(d), P = h.createProgram();
                if (n.isRawShaderMaterial ? ((_ = [A].filter(vr).join("\n")).length > 0 && (_ += "\n"), (x = [T, A].filter(vr).join("\n")).length > 0 && (x += "\n")) : (_ = ["precision " + o.precision + " float;", "precision " + o.precision + " int;", "#define SHADER_NAME " + r.name, A, o.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + M, "#define MAX_BONES " + o.maxBones, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + v : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.displacementMap && o.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.vertexTangents ? "#define USE_TANGENT" : "", o.vertexColors ? "#define USE_COLOR" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.skinning ? "#define USE_SKINNING" : "", o.useVertexTexture ? "#define BONE_TEXTURE" : "", o.morphTargets ? "#define USE_MORPHTARGETS" : "", o.morphNormals && !1 === o.flatShading ? "#define USE_MORPHNORMALS" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + m : "", o.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (a.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_TANGENT", "\tattribute vec4 tangent;", "#endif", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(vr).join("\n"), x = [T, "precision " + o.precision + " float;", "precision " + o.precision + " int;", "#define SHADER_NAME " + r.name, A, o.alphaTest ? "#define ALPHATEST " + o.alphaTest + (o.alphaTest % 1 ? "" : ".0") : "", "#define GAMMA_FACTOR " + M, o.useFog && o.fog ? "#define USE_FOG" : "", o.useFog && o.fogExp ? "#define FOG_EXP2" : "", o.map ? "#define USE_MAP" : "", o.matcap ? "#define USE_MATCAP" : "", o.envMap ? "#define USE_ENVMAP" : "", o.envMap ? "#define " + g : "", o.envMap ? "#define " + v : "", o.envMap ? "#define " + y : "", o.lightMap ? "#define USE_LIGHTMAP" : "", o.aoMap ? "#define USE_AOMAP" : "", o.emissiveMap ? "#define USE_EMISSIVEMAP" : "", o.bumpMap ? "#define USE_BUMPMAP" : "", o.normalMap ? "#define USE_NORMALMAP" : "", o.normalMap && o.objectSpaceNormalMap ? "#define OBJECTSPACE_NORMALMAP" : "", o.specularMap ? "#define USE_SPECULARMAP" : "", o.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", o.metalnessMap ? "#define USE_METALNESSMAP" : "", o.alphaMap ? "#define USE_ALPHAMAP" : "", o.vertexTangents ? "#define USE_TANGENT" : "", o.vertexColors ? "#define USE_COLOR" : "", o.gradientMap ? "#define USE_GRADIENTMAP" : "", o.flatShading ? "#define FLAT_SHADED" : "", o.doubleSided ? "#define DOUBLE_SIDED" : "", o.flipSided ? "#define FLIP_SIDED" : "", o.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", o.shadowMapEnabled ? "#define " + m : "", o.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", o.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", o.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", o.logarithmicDepthBuffer && (a.isWebGL2 || e.get("EXT_frag_depth")) ? "#define USE_LOGDEPTHBUF_EXT" : "", o.envMap && (a.isWebGL2 || e.get("EXT_shader_texture_lod")) ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", o.toneMapping !== J ? "#define TONE_MAPPING" : "", o.toneMapping !== J ? ni.tonemapping_pars_fragment : "", o.toneMapping !== J ? function (t, e) {
                        var i;
                        switch (e) {
                            case Z:
                                i = "Linear";
                                break;
                            case K:
                                i = "Reinhard";
                                break;
                            case Q:
                                i = "Uncharted2";
                                break;
                            case tt:
                                i = "OptimizedCineon";
                                break;
                            case et:
                                i = "ACESFilmic";
                                break;
                            default:
                                throw new Error("unsupported toneMapping: " + e)
                        }
                        return "vec3 " + t + "( vec3 color ) { return " + i + "ToneMapping( color ); }"
                    }("toneMapping", o.toneMapping) : "", o.dithering ? "#define DITHERING" : "", o.outputEncoding || o.mapEncoding || o.matcapEncoding || o.envMapEncoding || o.emissiveMapEncoding ? ni.encodings_pars_fragment : "", o.mapEncoding ? gr("mapTexelToLinear", o.mapEncoding) : "", o.matcapEncoding ? gr("matcapTexelToLinear", o.matcapEncoding) : "", o.envMapEncoding ? gr("envMapTexelToLinear", o.envMapEncoding) : "", o.emissiveMapEncoding ? gr("emissiveMapTexelToLinear", o.emissiveMapEncoding) : "", o.outputEncoding ? (b = "linearToOutputTexel", w = o.outputEncoding, S = mr(w), "vec4 " + b + "( vec4 value ) { return LinearTo" + S[0] + S[1] + "; }") : "", o.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "", "\n"].filter(vr).join("\n")), p = _r(p = yr(p = xr(p), o), o), f = _r(f = yr(f = xr(f), o), o), p = br(p), f = br(f), a.isWebGL2 && !n.isRawShaderMaterial) {
                    var E = !1, C = /^\s*#version\s+300\s+es\s*\n/;
                    n.isShaderMaterial && null !== p.match(C) && null !== f.match(C) && (E = !0, p = p.replace(C, ""), f = f.replace(C, "")), _ = ["#version 300 es\n", "#define attribute in", "#define varying out", "#define texture2D texture"].join("\n") + "\n" + _, x = ["#version 300 es\n", "#define varying in", E ? "" : "out highp vec4 pc_fragColor;", E ? "" : "#define gl_FragColor pc_fragColor", "#define gl_FragDepthEXT gl_FragDepth", "#define texture2D texture", "#define textureCube texture", "#define texture2DProj textureProj", "#define texture2DLodEXT textureLod", "#define texture2DProjLodEXT textureProjLod", "#define textureCubeLodEXT textureLod", "#define texture2DGradEXT textureGrad", "#define texture2DProjGradEXT textureProjGrad", "#define textureCubeGradEXT textureGrad"].join("\n") + "\n" + x
                }
                var O, L, k = x + f, I = pr(h, 35633, _ + p, t.debug.checkShaderErrors),
                    N = pr(h, 35632, k, t.debug.checkShaderErrors);
                if (h.attachShader(P, I), h.attachShader(P, N), void 0 !== n.index0AttributeName ? h.bindAttribLocation(P, 0, n.index0AttributeName) : !0 === o.morphTargets && h.bindAttribLocation(P, 0, "position"), h.linkProgram(P), t.debug.checkShaderErrors) {
                    var R = h.getProgramInfoLog(P).trim(), D = h.getShaderInfoLog(I).trim(),
                        z = h.getShaderInfoLog(N).trim(), j = !0, F = !0;
                    !1 === h.getProgramParameter(P, 35714) ? j = !1 : "" !== R || "" !== D && "" !== z || (F = !1), F && (this.diagnostics = {
                        runnable: j,
                        material: n,
                        programLog: R,
                        vertexShader: {log: D, prefix: _},
                        fragmentShader: {log: z, prefix: x}
                    })
                }
                return h.deleteShader(I), h.deleteShader(N), this.getUniforms = function () {
                    return void 0 === O && (O = new dr(h, P, s)), O
                }, this.getAttributes = function () {
                    return void 0 === L && (L = function (t, e) {
                        for (var i = {}, n = t.getProgramParameter(e, 35721), r = 0; r < n; r++) {
                            var o = t.getActiveAttrib(e, r).name;
                            i[o] = t.getAttribLocation(e, o)
                        }
                        return i
                    }(h, P)), L
                }, this.destroy = function () {
                    l.releaseStatesOfProgram(this), h.deleteProgram(P), this.program = void 0
                }, Object.defineProperties(this, {
                    uniforms: {
                        get: function () {
                            return this.getUniforms()
                        }
                    }, attributes: {
                        get: function () {
                            return this.getAttributes()
                        }
                    }
                }), this.name = r.name, this.id = fr++, this.code = i, this.usedTimes = 1, this.program = P, this.vertexShader = I, this.fragmentShader = N, this
            }

            function Sr(t, e, i, n, r) {
                var o = [], a = {
                        MeshDepthMaterial: "depth",
                        MeshDistanceMaterial: "distanceRGBA",
                        MeshNormalMaterial: "normal",
                        MeshBasicMaterial: "basic",
                        MeshLambertMaterial: "lambert",
                        MeshPhongMaterial: "phong",
                        MeshToonMaterial: "phong",
                        MeshStandardMaterial: "physical",
                        MeshPhysicalMaterial: "physical",
                        MeshMatcapMaterial: "matcap",
                        LineBasicMaterial: "basic",
                        LineDashedMaterial: "dashed",
                        PointsMaterial: "points",
                        ShadowMaterial: "shadow",
                        SpriteMaterial: "sprite"
                    },
                    s = ["precision", "supportsVertexTextures", "map", "mapEncoding", "matcap", "matcapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "objectSpaceNormalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "gradientMap", "alphaMap", "combine", "vertexColors", "vertexTangents", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "numRectAreaLights", "shadowMapEnabled", "shadowMapType", "toneMapping", "physicallyCorrectLights", "alphaTest", "doubleSided", "flipSided", "numClippingPlanes", "numClipIntersection", "depthPacking", "dithering"];

                function l(t, e) {
                    var i;
                    return t ? t.isTexture ? i = t.encoding : t.isWebGLRenderTarget && (i = t.texture.encoding) : i = pe, i === pe && e && (i = me), i
                }

                this.getParameters = function (e, n, r, o, s, c, u) {
                    var h = a[e.type], f = u.isSkinnedMesh ? function (t) {
                        var e = t.skeleton.bones;
                        if (i.floatVertexTextures)return 1024;
                        var n = i.maxVertexUniforms, r = Math.floor((n - 20) / 4), o = Math.min(r, e.length);
                        return o < e.length ? 0 : o
                    }(u) : 0, m = i.precision;
                    null !== e.precision && (m = i.getMaxPrecision(e.precision), e.precision);
                    var g = t.getRenderTarget();
                    return {
                        shaderID: h,
                        precision: m,
                        supportsVertexTextures: i.vertexTextures,
                        outputEncoding: l(g ? g.texture : null, t.gammaOutput),
                        map: !!e.map,
                        mapEncoding: l(e.map, t.gammaInput),
                        matcap: !!e.matcap,
                        matcapEncoding: l(e.matcap, t.gammaInput),
                        envMap: !!e.envMap,
                        envMapMode: e.envMap && e.envMap.mapping,
                        envMapEncoding: l(e.envMap, t.gammaInput),
                        envMapCubeUV: !!e.envMap && (e.envMap.mapping === st || e.envMap.mapping === lt),
                        lightMap: !!e.lightMap,
                        aoMap: !!e.aoMap,
                        emissiveMap: !!e.emissiveMap,
                        emissiveMapEncoding: l(e.emissiveMap, t.gammaInput),
                        bumpMap: !!e.bumpMap,
                        normalMap: !!e.normalMap,
                        objectSpaceNormalMap: e.normalMapType === Se,
                        displacementMap: !!e.displacementMap,
                        roughnessMap: !!e.roughnessMap,
                        metalnessMap: !!e.metalnessMap,
                        specularMap: !!e.specularMap,
                        alphaMap: !!e.alphaMap,
                        gradientMap: !!e.gradientMap,
                        combine: e.combine,
                        vertexTangents: e.normalMap && e.vertexTangents,
                        vertexColors: e.vertexColors,
                        fog: !!o,
                        useFog: e.fog,
                        fogExp: o && o.isFogExp2,
                        flatShading: e.flatShading,
                        sizeAttenuation: e.sizeAttenuation,
                        logarithmicDepthBuffer: i.logarithmicDepthBuffer,
                        skinning: e.skinning && f > 0,
                        maxBones: f,
                        useVertexTexture: i.floatVertexTextures,
                        morphTargets: e.morphTargets,
                        morphNormals: e.morphNormals,
                        maxMorphTargets: t.maxMorphTargets,
                        maxMorphNormals: t.maxMorphNormals,
                        numDirLights: n.directional.length,
                        numPointLights: n.point.length,
                        numSpotLights: n.spot.length,
                        numRectAreaLights: n.rectArea.length,
                        numHemiLights: n.hemi.length,
                        numClippingPlanes: s,
                        numClipIntersection: c,
                        dithering: e.dithering,
                        shadowMapEnabled: t.shadowMap.enabled && u.receiveShadow && r.length > 0,
                        shadowMapType: t.shadowMap.type,
                        toneMapping: t.toneMapping,
                        physicallyCorrectLights: t.physicallyCorrectLights,
                        premultipliedAlpha: e.premultipliedAlpha,
                        alphaTest: e.alphaTest,
                        doubleSided: e.side === p,
                        flipSided: e.side === d,
                        depthPacking: void 0 !== e.depthPacking && e.depthPacking
                    }
                }, this.getProgramCode = function (e, i) {
                    var n = [];
                    if (i.shaderID ? n.push(i.shaderID) : (n.push(e.fragmentShader), n.push(e.vertexShader)), void 0 !== e.defines)for (var r in e.defines)n.push(r), n.push(e.defines[r]);
                    for (var o = 0; o < s.length; o++)n.push(i[s[o]]);
                    return n.push(e.onBeforeCompile.toString()), n.push(t.gammaOutput), n.push(t.gammaFactor), n.join()
                }, this.acquireProgram = function (a, s, l, c) {
                    for (var u, h = 0, d = o.length; h < d; h++) {
                        var p = o[h];
                        if (p.code === c) {
                            ++(u = p).usedTimes;
                            break
                        }
                    }
                    return void 0 === u && (u = new wr(t, e, c, a, s, l, i, n, r), o.push(u)), u
                }, this.releaseProgram = function (t) {
                    if (0 == --t.usedTimes) {
                        var e = o.indexOf(t);
                        o[e] = o[o.length - 1], o.pop(), t.destroy()
                    }
                }, this.programs = o
            }

            function Mr(t, e) {
                return t.groupOrder !== e.groupOrder ? t.groupOrder - e.groupOrder : t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.program !== e.program ? t.program.id - e.program.id : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id
            }

            function Tr(t, e) {
                return t.groupOrder !== e.groupOrder ? t.groupOrder - e.groupOrder : t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id
            }

            function Ar() {
                var t = [], e = 0, i = [], n = [], r = {id: -1};

                function o(i, n, o, a, s, l) {
                    var c = t[e];
                    return void 0 === c ? (c = {
                        id: i.id,
                        object: i,
                        geometry: n,
                        material: o,
                        program: o.program || r,
                        groupOrder: a,
                        renderOrder: i.renderOrder,
                        z: s,
                        group: l
                    }, t[e] = c) : (c.id = i.id, c.object = i, c.geometry = n, c.material = o, c.program = o.program || r, c.groupOrder = a, c.renderOrder = i.renderOrder, c.z = s, c.group = l), e++, c
                }

                return {
                    opaque: i, transparent: n, init: function () {
                        e = 0, i.length = 0, n.length = 0
                    }, push: function (t, e, r, a, s, l) {
                        var c = o(t, e, r, a, s, l);
                        (!0 === r.transparent ? n : i).push(c)
                    }, unshift: function (t, e, r, a, s, l) {
                        var c = o(t, e, r, a, s, l);
                        (!0 === r.transparent ? n : i).unshift(c)
                    }, sort: function () {
                        i.length > 1 && i.sort(Mr), n.length > 1 && n.sort(Tr)
                    }
                }
            }

            var Pr = 0;

            function Er() {
                for (var t = new function () {
                    var t = {};
                    return {
                        get: function (e) {
                            if (void 0 !== t[e.id])return t[e.id];
                            var i;
                            switch (e.type) {
                                case"DirectionalLight":
                                    i = {
                                        direction: new Pe,
                                        color: new hi,
                                        shadow: !1,
                                        shadowBias: 0,
                                        shadowRadius: 1,
                                        shadowMapSize: new Te
                                    };
                                    break;
                                case"SpotLight":
                                    i = {
                                        position: new Pe,
                                        direction: new Pe,
                                        color: new hi,
                                        distance: 0,
                                        coneCos: 0,
                                        penumbraCos: 0,
                                        decay: 0,
                                        shadow: !1,
                                        shadowBias: 0,
                                        shadowRadius: 1,
                                        shadowMapSize: new Te
                                    };
                                    break;
                                case"PointLight":
                                    i = {
                                        position: new Pe,
                                        color: new hi,
                                        distance: 0,
                                        decay: 0,
                                        shadow: !1,
                                        shadowBias: 0,
                                        shadowRadius: 1,
                                        shadowMapSize: new Te,
                                        shadowCameraNear: 1,
                                        shadowCameraFar: 1e3
                                    };
                                    break;
                                case"HemisphereLight":
                                    i = {direction: new Pe, skyColor: new hi, groundColor: new hi};
                                    break;
                                case"RectAreaLight":
                                    i = {color: new hi, position: new Pe, halfWidth: new Pe, halfHeight: new Pe}
                            }
                            return t[e.id] = i, i
                        }
                    }
                }, e = {
                    id: Pr++,
                    hash: {
                        stateID: -1,
                        directionalLength: -1,
                        pointLength: -1,
                        spotLength: -1,
                        rectAreaLength: -1,
                        hemiLength: -1,
                        shadowsLength: -1
                    },
                    ambient: [0, 0, 0],
                    probe: [],
                    directional: [],
                    directionalShadowMap: [],
                    directionalShadowMatrix: [],
                    spot: [],
                    spotShadowMap: [],
                    spotShadowMatrix: [],
                    rectArea: [],
                    point: [],
                    pointShadowMap: [],
                    pointShadowMatrix: [],
                    hemi: []
                }, i = 0; i < 9; i++)e.probe.push(new Pe);
                var n = new Pe, r = new ii, o = new ii;
                return {
                    setup: function (i, a, s) {
                        for (var l = 0, c = 0, u = 0, h = 0; h < 9; h++)e.probe[h].set(0, 0, 0);
                        for (var d = 0, p = 0, f = 0, m = 0, g = 0, v = s.matrixWorldInverse, y = (h = 0, i.length); h < y; h++) {
                            var _ = i[h], x = _.color, b = _.intensity, w = _.distance,
                                S = _.shadow && _.shadow.map ? _.shadow.map.texture : null;
                            if (_.isAmbientLight) l += x.r * b, c += x.g * b, u += x.b * b; else if (_.isLightProbe)for (var M = 0; M < 9; M++)e.probe[M].addScaledVector(_.sh.coefficients[M], b); else if (_.isDirectionalLight) {
                                if ((A = t.get(_)).color.copy(_.color).multiplyScalar(_.intensity), A.direction.setFromMatrixPosition(_.matrixWorld), n.setFromMatrixPosition(_.target.matrixWorld), A.direction.sub(n), A.direction.transformDirection(v), A.shadow = _.castShadow, _.castShadow) {
                                    var T = _.shadow;
                                    A.shadowBias = T.bias, A.shadowRadius = T.radius, A.shadowMapSize = T.mapSize
                                }
                                e.directionalShadowMap[d] = S, e.directionalShadowMatrix[d] = _.shadow.matrix, e.directional[d] = A, d++
                            } else if (_.isSpotLight) (A = t.get(_)).position.setFromMatrixPosition(_.matrixWorld), A.position.applyMatrix4(v), A.color.copy(x).multiplyScalar(b), A.distance = w, A.direction.setFromMatrixPosition(_.matrixWorld), n.setFromMatrixPosition(_.target.matrixWorld), A.direction.sub(n), A.direction.transformDirection(v), A.coneCos = Math.cos(_.angle), A.penumbraCos = Math.cos(_.angle * (1 - _.penumbra)), A.decay = _.decay, A.shadow = _.castShadow, _.castShadow && (T = _.shadow, A.shadowBias = T.bias, A.shadowRadius = T.radius, A.shadowMapSize = T.mapSize), e.spotShadowMap[f] = S, e.spotShadowMatrix[f] = _.shadow.matrix, e.spot[f] = A, f++; else if (_.isRectAreaLight) (A = t.get(_)).color.copy(x).multiplyScalar(b), A.position.setFromMatrixPosition(_.matrixWorld), A.position.applyMatrix4(v), o.identity(), r.copy(_.matrixWorld), r.premultiply(v), o.extractRotation(r), A.halfWidth.set(.5 * _.width, 0, 0), A.halfHeight.set(0, .5 * _.height, 0), A.halfWidth.applyMatrix4(o), A.halfHeight.applyMatrix4(o), e.rectArea[m] = A, m++; else if (_.isPointLight) (A = t.get(_)).position.setFromMatrixPosition(_.matrixWorld), A.position.applyMatrix4(v), A.color.copy(_.color).multiplyScalar(_.intensity), A.distance = _.distance, A.decay = _.decay, A.shadow = _.castShadow, _.castShadow && (T = _.shadow, A.shadowBias = T.bias, A.shadowRadius = T.radius, A.shadowMapSize = T.mapSize, A.shadowCameraNear = T.camera.near, A.shadowCameraFar = T.camera.far), e.pointShadowMap[p] = S, e.pointShadowMatrix[p] = _.shadow.matrix, e.point[p] = A, p++; else if (_.isHemisphereLight) {
                                var A;
                                (A = t.get(_)).direction.setFromMatrixPosition(_.matrixWorld), A.direction.transformDirection(v), A.direction.normalize(), A.skyColor.copy(_.color).multiplyScalar(b), A.groundColor.copy(_.groundColor).multiplyScalar(b), e.hemi[g] = A, g++
                            }
                        }
                        e.ambient[0] = l, e.ambient[1] = c, e.ambient[2] = u, e.directional.length = d, e.spot.length = f, e.rectArea.length = m, e.point.length = p, e.hemi.length = g, e.hash.stateID = e.id, e.hash.directionalLength = d, e.hash.pointLength = p, e.hash.spotLength = f, e.hash.rectAreaLength = m, e.hash.hemiLength = g, e.hash.shadowsLength = a.length
                    }, state: e
                }
            }

            function Cr() {
                var t = new Er, e = [], i = [];
                return {
                    init: function () {
                        e.length = 0, i.length = 0
                    }, state: {lightsArray: e, shadowsArray: i, lights: t}, setupLights: function (n) {
                        t.setup(e, i, n)
                    }, pushLight: function (t) {
                        e.push(t)
                    }, pushShadow: function (t) {
                        i.push(t)
                    }
                }
            }

            function Or(t) {
                Yi.call(this), this.type = "MeshDepthMaterial", this.depthPacking = xe, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.setValues(t)
            }

            function Lr(t) {
                Yi.call(this), this.type = "MeshDistanceMaterial", this.referencePosition = new Pe, this.nearDistance = 1, this.farDistance = 1e3, this.skinning = !1, this.morphTargets = !1, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.fog = !1, this.lights = !1, this.setValues(t)
            }

            function kr(t, e, i) {
                for (var n = new ei, r = new ii, o = new Te, a = new Te(i, i), s = new Pe, l = new Pe, u = 1, f = 2, m = 1 + (u | f), g = new Array(m), y = new Array(m), _ = {}, x = {
                    0: d,
                    1: h,
                    2: p
                }, b = [new Pe(1, 0, 0), new Pe(-1, 0, 0), new Pe(0, 0, 1), new Pe(0, 0, -1), new Pe(0, 1, 0), new Pe(0, -1, 0)], w = [new Pe(0, 1, 0), new Pe(0, 1, 0), new Pe(0, 1, 0), new Pe(0, 1, 0), new Pe(0, 0, 1), new Pe(0, 0, -1)], S = [new He, new He, new He, new He, new He, new He], M = 0; M !== m; ++M) {
                    var T = 0 != (M & u), A = 0 != (M & f),
                        P = new Or({depthPacking: be, morphTargets: T, skinning: A});
                    g[M] = P;
                    var E = new Lr({morphTargets: T, skinning: A});
                    y[M] = E
                }
                var C = this;

                function O(e, i, n, r, o, a) {
                    var s = e.geometry, l = null, c = g, h = e.customDepthMaterial;
                    if (n && (c = y, h = e.customDistanceMaterial), h) l = h; else {
                        var d = !1;
                        i.morphTargets && (s && s.isBufferGeometry ? d = s.morphAttributes && s.morphAttributes.position && s.morphAttributes.position.length > 0 : s && s.isGeometry && (d = s.morphTargets && s.morphTargets.length > 0)), e.isSkinnedMesh && i.skinning;
                        var p = e.isSkinnedMesh && i.skinning, m = 0;
                        d && (m |= u), p && (m |= f), l = c[m]
                    }
                    if (t.localClippingEnabled && !0 === i.clipShadows && 0 !== i.clippingPlanes.length) {
                        var v = l.uuid, b = i.uuid, w = _[v];
                        void 0 === w && (w = {}, _[v] = w);
                        var S = w[b];
                        void 0 === S && (S = l.clone(), w[b] = S), l = S
                    }
                    return l.visible = i.visible, l.wireframe = i.wireframe, l.side = null != i.shadowSide ? i.shadowSide : x[i.side], l.clipShadows = i.clipShadows, l.clippingPlanes = i.clippingPlanes, l.clipIntersection = i.clipIntersection, l.wireframeLinewidth = i.wireframeLinewidth, l.linewidth = i.linewidth, n && l.isMeshDistanceMaterial && (l.referencePosition.copy(r), l.nearDistance = o, l.farDistance = a), l
                }

                function L(i, r, o, a) {
                    if (!1 !== i.visible) {
                        if (i.layers.test(r.layers) && (i.isMesh || i.isLine || i.isPoints) && i.castShadow && (!i.frustumCulled || n.intersectsObject(i))) {
                            i.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse, i.matrixWorld);
                            var s = e.update(i), c = i.material;
                            if (Array.isArray(c))for (var u = s.groups, h = 0, d = u.length; h < d; h++) {
                                var p = u[h], f = c[p.materialIndex];
                                if (f && f.visible) {
                                    var m = O(i, f, a, l, o.near, o.far);
                                    t.renderBufferDirect(o, null, s, m, i, p)
                                }
                            } else if (c.visible) {
                                m = O(i, c, a, l, o.near, o.far);
                                t.renderBufferDirect(o, null, s, m, i, null)
                            }
                        }
                        for (var g = i.children, v = 0, y = g.length; v < y; v++)L(g[v], r, o, a)
                    }
                }

                this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = c, this.render = function (e, i, c) {
                    if (!1 !== C.enabled && (!1 !== C.autoUpdate || !1 !== C.needsUpdate) && 0 !== e.length) {
                        var u, h = t.getRenderTarget(), d = t.state;
                        d.setBlending(v), d.buffers.color.setClear(1, 1, 1, 1), d.buffers.depth.setTest(!0), d.setScissorTest(!1);
                        for (var p = 0, f = e.length; p < f; p++) {
                            var m = e[p], g = m.shadow, y = m && m.isPointLight;
                            if (void 0 !== g) {
                                var _ = g.camera;
                                if (o.copy(g.mapSize), o.min(a), y) {
                                    var x = o.x, M = o.y;
                                    S[0].set(2 * x, M, x, M), S[1].set(0, M, x, M), S[2].set(3 * x, M, x, M), S[3].set(x, M, x, M), S[4].set(3 * x, 0, x, M), S[5].set(x, 0, x, M), o.x *= 4, o.y *= 2
                                }
                                if (null === g.map) {
                                    var T = {minFilter: dt, magFilter: dt, format: kt};
                                    g.map = new Xe(o.x, o.y, T), g.map.texture.name = m.name + ".shadowMap", _.updateProjectionMatrix()
                                }
                                g.isSpotLightShadow && g.update(m);
                                var A = g.map, P = g.matrix;
                                l.setFromMatrixPosition(m.matrixWorld), _.position.copy(l), y ? (u = 6, P.makeTranslation(-l.x, -l.y, -l.z)) : (u = 1, s.setFromMatrixPosition(m.target.matrixWorld), _.lookAt(s), _.updateMatrixWorld(), P.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), P.multiply(_.projectionMatrix), P.multiply(_.matrixWorldInverse)), t.setRenderTarget(A), t.clear();
                                for (var E = 0; E < u; E++) {
                                    if (y) {
                                        s.copy(_.position), s.add(b[E]), _.up.copy(w[E]), _.lookAt(s), _.updateMatrixWorld();
                                        var O = S[E];
                                        d.viewport(O)
                                    }
                                    r.multiplyMatrices(_.projectionMatrix, _.matrixWorldInverse), n.setFromMatrix(r), L(i, c, _, y)
                                }
                            }
                        }
                        C.needsUpdate = !1, t.setRenderTarget(h)
                    }
                }
            }

            function Ir(t, e, i, n, r, o, a) {
                var s, l = {}, c = "undefined" != typeof OffscreenCanvas;

                function u(t, e) {
                    return c ? new OffscreenCanvas(t, e) : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas")
                }

                function h(t, e, i, n) {
                    var r = 1;
                    if ((t.width > n || t.height > n) && (r = n / Math.max(t.width, t.height)), r < 1 || !0 === e) {
                        if ("undefined" != typeof HTMLImageElement && t instanceof HTMLImageElement || "undefined" != typeof HTMLCanvasElement && t instanceof HTMLCanvasElement || "undefined" != typeof ImageBitmap && t instanceof ImageBitmap) {
                            var o = e ? Me.floorPowerOfTwo : Math.floor, a = o(r * t.width), l = o(r * t.height);
                            void 0 === s && (s = u(a, l));
                            var c = i ? u(a, l) : s;
                            return c.width = a, c.height = l, c.getContext("2d").drawImage(t, 0, 0, a, l), c
                        }
                        return t
                    }
                    return t
                }

                function d(t) {
                    return Me.isPowerOfTwo(t.width) && Me.isPowerOfTwo(t.height)
                }

                function p(t, e) {
                    return t.generateMipmaps && e && t.minFilter !== dt && t.minFilter !== mt
                }

                function f(e, i, r, o) {
                    t.generateMipmap(e), n.get(i).__maxMipLevel = Math.log(Math.max(r, o)) * Math.LOG2E
                }

                function m(t, i) {
                    if (!r.isWebGL2)return t;
                    var n = t;
                    return 6403 === t && (5126 === i && (n = 33326), 5131 === i && (n = 33325), 5121 === i && (n = 33321)), 6407 === t && (5126 === i && (n = 34837), 5131 === i && (n = 34843), 5121 === i && (n = 32849)), 6408 === t && (5126 === i && (n = 34836), 5131 === i && (n = 34842), 5121 === i && (n = 32856)), 33325 !== n && 33326 !== n && 34842 !== n && 34836 !== n || e.get("EXT_color_buffer_float"), n
                }

                function g(t) {
                    return t === dt || t === pt || t === ft ? 9728 : 9729
                }

                function v(e) {
                    var i = e.target;
                    i.removeEventListener("dispose", v), function (e) {
                        var i = n.get(e);
                        if (void 0 === i.__webglInit)return;
                        t.deleteTexture(i.__webglTexture), n.remove(e)
                    }(i), i.isVideoTexture && delete l[i.id], a.memory.textures--
                }

                function y(e) {
                    var i = e.target;
                    i.removeEventListener("dispose", y), function (e) {
                        var i = n.get(e), r = n.get(e.texture);
                        if (!e)return;
                        void 0 !== r.__webglTexture && t.deleteTexture(r.__webglTexture);
                        e.depthTexture && e.depthTexture.dispose();
                        if (e.isWebGLRenderTargetCube)for (var o = 0; o < 6; o++)t.deleteFramebuffer(i.__webglFramebuffer[o]), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer[o]); else t.deleteFramebuffer(i.__webglFramebuffer), i.__webglDepthbuffer && t.deleteRenderbuffer(i.__webglDepthbuffer);
                        if (e.isWebGLMultiRenderTarget)for (var s = e.textures, o = 0, l = s.length; o < l; o++) {
                            var c = n.get(s[o]);
                            c.__webglTexture && (t.deleteTexture(c.__webglTexture), a.memory.textures--), n.remove(s[o])
                        }
                        n.remove(e.texture), n.remove(e)
                    }(i), a.memory.textures--
                }

                var _ = 0;

                function x(t, e) {
                    var r = n.get(t);
                    if (t.isVideoTexture && function (t) {
                            var e = t.id, i = a.render.frame;
                            l[e] !== i && (l[e] = i, t.update())
                        }(t), t.version > 0 && r.__version !== t.version) {
                        var o = t.image;
                        if (void 0 === o); else if (!1 !== o.complete)return void T(r, t, e)
                    }
                    i.activeTexture(33984 + e), i.bindTexture(3553, r.__webglTexture)
                }

                function b(e, a) {
                    var s = n.get(e);
                    if (6 === e.image.length)if (e.version > 0 && s.__version !== e.version) {
                        M(s, e), i.activeTexture(33984 + a), i.bindTexture(34067, s.__webglTexture), t.pixelStorei(37440, e.flipY);
                        for (var l = e && e.isCompressedTexture, c = e.image[0] && e.image[0].isDataTexture, u = [], g = 0; g < 6; g++)u[g] = l || c ? c ? e.image[g].image : e.image[g] : h(e.image[g], !1, !0, r.maxCubemapSize);
                        var v = u[0], y = d(v) || r.isWebGL2, _ = o.convert(e.format), x = o.convert(e.type),
                            b = m(_, x);
                        S(34067, e, y);
                        for (g = 0; g < 6; g++)if (l)for (var w, T = u[g].mipmaps, A = 0, P = T.length; A < P; A++)w = T[A], e.format !== kt && e.format !== Lt ? i.getCompressedTextureFormats().indexOf(_) > -1 && i.compressedTexImage2D(34069 + g, A, b, w.width, w.height, 0, w.data) : i.texImage2D(34069 + g, A, b, w.width, w.height, 0, _, x, w.data); else c ? i.texImage2D(34069 + g, 0, b, u[g].width, u[g].height, 0, _, x, u[g].data) : i.texImage2D(34069 + g, 0, b, _, x, u[g]);
                        s.__maxMipLevel = l ? T.length - 1 : 0, p(e, y) && f(34067, e, v.width, v.height), s.__version = e.version, e.onUpdate && e.onUpdate(e)
                    } else i.activeTexture(33984 + a), i.bindTexture(34067, s.__webglTexture)
                }

                function w(t, e) {
                    i.activeTexture(33984 + e), i.bindTexture(34067, n.get(t).__webglTexture)
                }

                function S(i, a, s) {
                    var l;
                    if (s ? (t.texParameteri(i, 10242, o.convert(a.wrapS)), t.texParameteri(i, 10243, o.convert(a.wrapT)), 32879 !== i && 35866 !== i || t.texParameteri(i, 32882, o.convert(a.wrapR)), t.texParameteri(i, 10240, o.convert(a.magFilter)), t.texParameteri(i, 10241, o.convert(a.minFilter))) : (t.texParameteri(i, 10242, 33071), t.texParameteri(i, 10243, 33071), 32879 !== i && 35866 !== i || t.texParameteri(i, 32882, 33071), a.wrapS !== ut || a.wrapT, t.texParameteri(i, 10240, g(a.magFilter)), t.texParameteri(i, 10241, g(a.minFilter)), a.minFilter !== dt && a.minFilter), l = e.get("EXT_texture_filter_anisotropic")) {
                        if (a.type === Mt && null === e.get("OES_texture_float_linear"))return;
                        if (a.type === Tt && null === (r.isWebGL2 || e.get("OES_texture_half_float_linear")))return;
                        (a.anisotropy > 1 || n.get(a).__currentAnisotropy) && (t.texParameterf(i, l.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(a.anisotropy, r.getMaxAnisotropy())), n.get(a).__currentAnisotropy = a.anisotropy)
                    }
                }

                function M(e, i) {
                    void 0 === e.__webglInit && (e.__webglInit = !0, i.addEventListener("dispose", v), e.__webglTexture = t.createTexture(), a.memory.textures++)
                }

                function T(e, n, a) {
                    var s = 3553;
                    n.isDataTexture2DArray && (s = 35866), n.isDataTexture3D && (s = 32879), M(e, n), i.activeTexture(33984 + a), i.bindTexture(s, e.__webglTexture), t.pixelStorei(37440, n.flipY), t.pixelStorei(37441, n.premultiplyAlpha), t.pixelStorei(3317, n.unpackAlignment);
                    var l = function (t) {
                                return !r.isWebGL2 && (t.wrapS !== ut || t.wrapT !== ut || t.minFilter !== dt && t.minFilter !== mt)
                            }(n) && !1 === d(n.image), c = h(n.image, l, !1, r.maxTextureSize), u = d(c) || r.isWebGL2,
                        g = o.convert(n.format), v = o.convert(n.type), y = m(g, v);
                    S(s, n, u);
                    var _, x = n.mipmaps;
                    if (n.isDepthTexture) {
                        if (y = 6402, n.type === Mt) {
                            if (!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");
                            y = 36012
                        } else r.isWebGL2 && (y = 33189);
                        n.format === Dt && 6402 === y && n.type !== bt && n.type !== St && (n.type = bt, v = o.convert(n.type)), n.format === zt && (y = 34041, n.type !== Ct && (n.type = Ct, v = o.convert(n.type))), i.texImage2D(3553, 0, y, c.width, c.height, 0, g, v, null)
                    } else if (n.isDataTexture)if (x.length > 0 && u) {
                        for (var b = 0, w = x.length; b < w; b++)_ = x[b], i.texImage2D(3553, b, y, _.width, _.height, 0, g, v, _.data);
                        n.generateMipmaps = !1, e.__maxMipLevel = x.length - 1
                    } else i.texImage2D(3553, 0, y, c.width, c.height, 0, g, v, c.data), e.__maxMipLevel = 0; else if (n.isCompressedTexture) {
                        for (b = 0, w = x.length; b < w; b++)_ = x[b], n.format !== kt && n.format !== Lt ? i.getCompressedTextureFormats().indexOf(g) > -1 && i.compressedTexImage2D(3553, b, y, _.width, _.height, 0, _.data) : i.texImage2D(3553, b, y, _.width, _.height, 0, g, v, _.data);
                        e.__maxMipLevel = x.length - 1
                    } else if (n.isDataTexture2DArray) i.texImage3D(35866, 0, y, c.width, c.height, c.depth, 0, g, v, c.data), e.__maxMipLevel = 0; else if (n.isDataTexture3D) i.texImage3D(32879, 0, y, c.width, c.height, c.depth, 0, g, v, c.data), e.__maxMipLevel = 0; else if (x.length > 0 && u) {
                        for (b = 0, w = x.length; b < w; b++)_ = x[b], i.texImage2D(3553, b, y, g, v, _);
                        n.generateMipmaps = !1, e.__maxMipLevel = x.length - 1
                    } else i.texImage2D(3553, 0, y, g, v, c), e.__maxMipLevel = 0;
                    p(n, u) && f(3553, n, c.width, c.height), e.__version = n.version, n.onUpdate && n.onUpdate(n)
                }

                function A(e, r, a, s, l) {
                    var c = o.convert(r.texture.format), u = o.convert(r.texture.type), h = m(c, u);
                    i.texImage2D(l, 0, h, r.width, r.height, 0, c, u, null), t.bindFramebuffer(36160, e), t.framebufferTexture2D(36160, s, l, n.get(a).__webglTexture, 0), t.bindFramebuffer(36160, null)
                }

                function P(e, i, n) {
                    if (t.bindRenderbuffer(36161, e), i.depthBuffer && !i.stencilBuffer) {
                        if (n) {
                            var r = C(i);
                            t.renderbufferStorageMultisample(36161, r, 33189, i.width, i.height)
                        } else t.renderbufferStorage(36161, 33189, i.width, i.height);
                        t.framebufferRenderbuffer(36160, 36096, 36161, e)
                    } else if (i.depthBuffer && i.stencilBuffer) {
                        if (n) {
                            r = C(i);
                            t.renderbufferStorageMultisample(36161, r, 34041, i.width, i.height)
                        } else t.renderbufferStorage(36161, 34041, i.width, i.height);
                        t.framebufferRenderbuffer(36160, 33306, 36161, e)
                    } else {
                        var a = m(o.convert(i.texture.format), o.convert(i.texture.type));
                        if (n) {
                            r = C(i);
                            t.renderbufferStorageMultisample(36161, r, a, i.width, i.height)
                        } else t.renderbufferStorage(36161, a, i.width, i.height)
                    }
                    t.bindRenderbuffer(36161, null)
                }

                function E(e) {
                    var i = n.get(e), r = !0 === e.isWebGLRenderTargetCube;
                    if (e.depthTexture) {
                        if (r)throw new Error("target.depthTexture not supported in Cube render targets");
                        !function (e, i) {
                            if (i && i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");
                            if (t.bindFramebuffer(36160, e), !i.depthTexture || !i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                            n.get(i.depthTexture).__webglTexture && i.depthTexture.image.width === i.width && i.depthTexture.image.height === i.height || (i.depthTexture.image.width = i.width, i.depthTexture.image.height = i.height, i.depthTexture.needsUpdate = !0), x(i.depthTexture, 0);
                            var r = n.get(i.depthTexture).__webglTexture;
                            if (i.depthTexture.format === Dt) t.framebufferTexture2D(36160, 36096, 3553, r, 0); else {
                                if (i.depthTexture.format !== zt)throw new Error("Unknown depthTexture format");
                                t.framebufferTexture2D(36160, 33306, 3553, r, 0)
                            }
                        }(i.__webglFramebuffer, e)
                    } else if (r) {
                        i.__webglDepthbuffer = [];
                        for (var o = 0; o < 6; o++)t.bindFramebuffer(36160, i.__webglFramebuffer[o]), i.__webglDepthbuffer[o] = t.createRenderbuffer(), P(i.__webglDepthbuffer[o], e)
                    } else t.bindFramebuffer(36160, i.__webglFramebuffer), i.__webglDepthbuffer = t.createRenderbuffer(), P(i.__webglDepthbuffer, e);
                    t.bindFramebuffer(36160, null)
                }

                function C(t) {
                    return r.isWebGL2 && t.isWebGLMultisampleRenderTarget ? Math.min(r.maxSamples, t.samples) : 0
                }

                var O = !1, L = !1;
                this.allocateTextureUnit = function () {
                    var t = _;
                    return r.maxTextures, _ += 1, t
                }, this.resetTextureUnits = function () {
                    _ = 0
                }, this.setTexture2D = x, this.setTexture2DArray = function (t, e) {
                    var r = n.get(t);
                    t.version > 0 && r.__version !== t.version ? T(r, t, e) : (i.activeTexture(33984 + e), i.bindTexture(35866, r.__webglTexture))
                }, this.setTexture3D = function (t, e) {
                    var r = n.get(t);
                    t.version > 0 && r.__version !== t.version ? T(r, t, e) : (i.activeTexture(33984 + e), i.bindTexture(32879, r.__webglTexture))
                }, this.setTextureCube = b, this.setTextureCubeDynamic = w, this.setupRenderTarget = function (e) {
                    var s = n.get(e), l = n.get(e.texture);
                    e.addEventListener("dispose", y), l.__webglTexture = t.createTexture(), a.memory.textures++;
                    var c = !0 === e.isWebGLRenderTargetCube, u = !0 === e.isWebGLMultisampleRenderTarget,
                        h = !0 === e.isWebGLMultiRenderTarget, g = d(e) || r.isWebGL2;
                    if (c) {
                        s.__webglFramebuffer = [];
                        for (var v = 0; v < 6; v++)s.__webglFramebuffer[v] = t.createFramebuffer()
                    } else if (s.__webglFramebuffer = t.createFramebuffer(), h) {
                        if (r.multiRenderTarget) {
                            v = 0;
                            for (var _ = e.textures.length; v < _; v++)void 0 === (T = n.get(e.textures[v])).__webglTexture && (T.__webglTexture = t.createTexture(), a.memory.textures++)
                        }
                    } else if (u && r.isWebGL2) {
                        s.__webglMultisampledFramebuffer = t.createFramebuffer(), s.__webglColorRenderbuffer = t.createRenderbuffer(), t.bindRenderbuffer(36161, s.__webglColorRenderbuffer);
                        var x = m(o.convert(e.texture.format), o.convert(e.texture.type)), b = C(e);
                        t.renderbufferStorageMultisample(36161, b, x, e.width, e.height), t.bindFramebuffer(36160, s.__webglMultisampledFramebuffer), t.framebufferRenderbuffer(36160, 36064, 36161, s.__webglColorRenderbuffer), t.bindRenderbuffer(36161, null), e.depthBuffer && (s.__webglDepthRenderbuffer = t.createRenderbuffer(), P(s.__webglDepthRenderbuffer, e, !0)), t.bindFramebuffer(36160, null)
                    }
                    if (c) {
                        for (i.bindTexture(34067, l.__webglTexture), S(34067, e.texture, g), v = 0; v < 6; v++)A(s.__webglFramebuffer[v], e, e.texture, 36064, 34069 + v);
                        p(e.texture, g) && f(34067, e.texture, e.width, e.height), i.bindTexture(34067, null)
                    } else if (h) {
                        var w = e.textures;
                        for (v = 0, _ = w.length; v < _; v++) {
                            var M = w[v], T = n.get(M);
                            i.bindTexture(3553, T.__webglTexture), S(3553, M, g), A(s.__webglFramebuffer, e, w[v], 36064 + v, 3553), p(e.texture, g) && f(3553, w[v], e.width, e.height)
                        }
                        i.bindTexture(3553, null)
                    } else i.bindTexture(3553, l.__webglTexture), S(3553, e.texture, g), A(s.__webglFramebuffer, e, e.texture, 36064, 3553), p(e.texture, g) && f(3553, e.texture, e.width, e.height), i.bindTexture(3553, null);
                    e.depthBuffer && E(e)
                }, this.updateRenderTargetMipmap = function (t) {
                    var e = t.texture;
                    if (p(e, d(t) || r.isWebGL2)) {
                        var o = t.isWebGLRenderTargetCube ? 34067 : 3553, a = n.get(e).__webglTexture;
                        i.bindTexture(o, a), f(o, e, t.width, t.height), i.bindTexture(o, null)
                    }
                }, this.updateMultisampleRenderTarget = function (e) {
                    if (e.isWebGLMultisampleRenderTarget && r.isWebGL2) {
                        var i = n.get(e);
                        t.bindFramebuffer(36008, i.__webglMultisampledFramebuffer), t.bindFramebuffer(36009, i.__webglFramebuffer);
                        var o = e.width, a = e.height, s = 16384;
                        e.depthBuffer && (s |= 256), e.stencilBuffer && (s |= 1024), t.blitFramebuffer(0, 0, o, a, 0, 0, o, a, s, 9728)
                    }
                }, this.safeSetTexture2D = function (t, e) {
                    t && t.isWebGLRenderTarget && (!1 === O && (O = !0), t = t.texture), x(t, e)
                }, this.safeSetTextureCube = function (t, e) {
                    t && t.isWebGLRenderTargetCube && (!1 === L && (L = !0), t = t.texture), t && t.isCubeTexture || Array.isArray(t.image) && 6 === t.image.length ? b(t, e) : w(t, e)
                }
            }

            function Nr(t, e, i) {
                return {
                    convert: function (t) {
                        var n;
                        if (t === ct)return 10497;
                        if (t === ut)return 33071;
                        if (t === ht)return 33648;
                        if (t === dt)return 9728;
                        if (t === pt)return 9984;
                        if (t === ft)return 9986;
                        if (t === mt)return 9729;
                        if (t === gt)return 9985;
                        if (t === vt)return 9987;
                        if (t === yt)return 5121;
                        if (t === At)return 32819;
                        if (t === Pt)return 32820;
                        if (t === Et)return 33635;
                        if (t === _t)return 5120;
                        if (t === xt)return 5122;
                        if (t === bt)return 5123;
                        if (t === wt)return 5124;
                        if (t === St)return 5125;
                        if (t === Mt)return 5126;
                        if (t === Tt) {
                            if (i.isWebGL2)return 5131;
                            if (null !== (n = e.get("OES_texture_half_float")))return n.HALF_FLOAT_OES
                        }
                        if (t === Ot)return 6406;
                        if (t === Lt)return 6407;
                        if (t === kt)return 6408;
                        if (t === It)return 6409;
                        if (t === Nt)return 6410;
                        if (t === Dt)return 6402;
                        if (t === zt)return 34041;
                        if (t === jt)return 6403;
                        if (t === S)return 32774;
                        if (t === M)return 32778;
                        if (t === T)return 32779;
                        if (t === E)return 0;
                        if (t === C)return 1;
                        if (t === O)return 768;
                        if (t === L)return 769;
                        if (t === k)return 770;
                        if (t === I)return 771;
                        if (t === N)return 772;
                        if (t === R)return 773;
                        if (t === D)return 774;
                        if (t === z)return 775;
                        if (t === j)return 776;
                        if ((t === Ft || t === Bt || t === Ut || t === Gt) && null !== (n = e.get("WEBGL_compressed_texture_s3tc"))) {
                            if (t === Ft)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;
                            if (t === Bt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                            if (t === Ut)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                            if (t === Gt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT
                        }
                        if ((t === $t || t === Vt || t === Wt || t === Ht) && null !== (n = e.get("WEBGL_compressed_texture_pvrtc"))) {
                            if (t === $t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                            if (t === Vt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                            if (t === Wt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                            if (t === Ht)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                        }
                        if (t === Xt && null !== (n = e.get("WEBGL_compressed_texture_etc1")))return n.COMPRESSED_RGB_ETC1_WEBGL;
                        if ((t === qt || t === Yt || t === Jt || t === Zt || t === Kt || t === Qt || t === te || t === ee || t === ie || t === ne || t === re || t === oe || t === ae || t === se) && null !== (n = e.get("WEBGL_compressed_texture_astc")))return t;
                        if (t === A || t === P) {
                            if (i.isWebGL2) {
                                if (t === A)return 32775;
                                if (t === P)return 32776
                            }
                            if (null !== (n = e.get("EXT_blend_minmax"))) {
                                if (t === A)return n.MIN_EXT;
                                if (t === P)return n.MAX_EXT
                            }
                        }
                        if (t === Ct) {
                            if (i.isWebGL2)return 34042;
                            if (null !== (n = e.get("WEBGL_depth_texture")))return n.UNSIGNED_INT_24_8_WEBGL
                        }
                        return 0
                    }
                }
            }

            function Rr() {
                Ti.call(this), this.type = "Group"
            }

            function Dr() {
                Ti.call(this), this.type = "Camera", this.matrixWorldInverse = new ii, this.projectionMatrix = new ii, this.projectionMatrixInverse = new ii
            }

            function zr(t, e, i, n) {
                Dr.call(this), this.type = "PerspectiveCamera", this.fov = void 0 !== t ? t : 50, this.zoom = 1, this.near = void 0 !== i ? i : .1, this.far = void 0 !== n ? n : 2e3, this.focus = 10, this.aspect = void 0 !== e ? e : 1, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix()
            }

            function jr(t) {
                zr.call(this), this.cameras = t || []
            }

            Or.prototype = Object.create(Yi.prototype), Or.prototype.constructor = Or, Or.prototype.isMeshDepthMaterial = !0, Or.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.depthPacking = t.depthPacking, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this
            }, Lr.prototype = Object.create(Yi.prototype), Lr.prototype.constructor = Lr, Lr.prototype.isMeshDistanceMaterial = !0, Lr.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.referencePosition.copy(t.referencePosition), this.nearDistance = t.nearDistance, this.farDistance = t.farDistance, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this
            }, Rr.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: Rr,
                isGroup: !0
            }), Dr.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: Dr,
                isCamera: !0,
                copy: function (t, e) {
                    return Ti.prototype.copy.call(this, t, e), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this.projectionMatrixInverse.copy(t.projectionMatrixInverse), this
                },
                getWorldDirection: function (t) {
                    void 0 === t && (t = new Pe), this.updateMatrixWorld(!0);
                    var e = this.matrixWorld.elements;
                    return t.set(-e[8], -e[9], -e[10]).normalize()
                },
                updateMatrixWorld: function (t) {
                    Ti.prototype.updateMatrixWorld.call(this, t), this.matrixWorldInverse.getInverse(this.matrixWorld)
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                }
            }), zr.prototype = Object.assign(Object.create(Dr.prototype), {
                constructor: zr,
                isPerspectiveCamera: !0,
                copy: function (t, e) {
                    return Dr.prototype.copy.call(this, t, e), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = null === t.view ? null : Object.assign({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this
                },
                setFocalLength: function (t) {
                    var e = .5 * this.getFilmHeight() / t;
                    this.fov = 2 * Me.RAD2DEG * Math.atan(e), this.updateProjectionMatrix()
                },
                getFocalLength: function () {
                    var t = Math.tan(.5 * Me.DEG2RAD * this.fov);
                    return .5 * this.getFilmHeight() / t
                },
                getEffectiveFOV: function () {
                    return 2 * Me.RAD2DEG * Math.atan(Math.tan(.5 * Me.DEG2RAD * this.fov) / this.zoom)
                },
                getFilmWidth: function () {
                    return this.filmGauge * Math.min(this.aspect, 1)
                },
                getFilmHeight: function () {
                    return this.filmGauge / Math.max(this.aspect, 1)
                },
                setViewOffset: function (t, e, i, n, r, o) {
                    this.aspect = t / e, null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = e, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                },
                clearViewOffset: function () {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                },
                updateProjectionMatrix: function () {
                    var t = this.near, e = t * Math.tan(.5 * Me.DEG2RAD * this.fov) / this.zoom, i = 2 * e,
                        n = this.aspect * i, r = -.5 * n, o = this.view;
                    if (null !== this.view && this.view.enabled) {
                        var a = o.fullWidth, s = o.fullHeight;
                        r += o.offsetX * n / a, e -= o.offsetY * i / s, n *= o.width / a, i *= o.height / s
                    }
                    var l = this.filmOffset;
                    0 !== l && (r += t * l / this.getFilmWidth()), this.projectionMatrix.makePerspective(r, r + n, e, e - i, t, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                },
                toJSON: function (t) {
                    var e = Ti.prototype.toJSON.call(this, t);
                    return e.object.fov = this.fov, e.object.zoom = this.zoom, e.object.near = this.near, e.object.far = this.far, e.object.focus = this.focus, e.object.aspect = this.aspect, null !== this.view && (e.object.view = Object.assign({}, this.view)), e.object.filmGauge = this.filmGauge, e.object.filmOffset = this.filmOffset, e
                }
            }), jr.prototype = Object.assign(Object.create(zr.prototype), {constructor: jr, isArrayCamera: !0});
            var Fr, Br, Ur, Gr, $r, Vr, Wr = new Pe, Hr = new Pe;

            function Xr(t, e, i) {
                Wr.setFromMatrixPosition(e.matrixWorld), Hr.setFromMatrixPosition(i.matrixWorld);
                var n = Wr.distanceTo(Hr), r = e.projectionMatrix.elements, o = i.projectionMatrix.elements,
                    a = r[14] / (r[10] - 1), s = r[14] / (r[10] + 1), l = (r[9] + 1) / r[5], c = (r[9] - 1) / r[5],
                    u = (r[8] - 1) / r[0], h = (o[8] + 1) / o[0], d = a * u, p = a * h, f = n / (-u + h), m = f * -u;
                e.matrixWorld.decompose(t.position, t.quaternion, t.scale), t.translateX(m), t.translateZ(f), t.matrixWorld.compose(t.position, t.quaternion, t.scale), t.matrixWorldInverse.getInverse(t.matrixWorld);
                var g = a + f, v = s + f, y = d - m, _ = p + (n - m), x = l * s / v * g, b = c * s / v * g;
                t.projectionMatrix.makePerspective(y, _, x, b, g, v)
            }

            function qr(t) {
                var e, i, n = this, r = null, o = null, a = null, s = [], l = new ii, c = new ii, u = 1, h = "stage";
                "undefined" != typeof window && "VRFrameData" in window && (o = new window.VRFrameData, window.addEventListener("vrdisplaypresentchange", b, !1));
                var d = new ii, p = new Ae, f = new Pe, m = new zr;
                m.viewport = new He, m.layers.enable(1);
                var g = new zr;
                g.viewport = new He, g.layers.enable(2);
                var v = new jr([m, g]);

                function y() {
                    return null !== r && !0 === r.isPresenting
                }

                v.layers.enable(1), v.layers.enable(2);
                var _, x = new Te;

                function b() {
                    if (y()) {
                        var o = r.getEyeParameters("left");
                        e = o.renderWidth * u, i = o.renderHeight * u, _ = t.getPixelRatio(), t.getSize(x), t.setDrawingBufferSize(2 * e, i, 1), m.viewport.set(0, 0, e, i), g.viewport.set(e, 0, e, i), T.start()
                    } else n.enabled && t.setDrawingBufferSize(x.width, x.height, _), T.stop()
                }

                var w = [];

                function S(t) {
                    for (var e = navigator.getGamepads && navigator.getGamepads(), i = 0, n = 0, r = e.length; i < r; i++) {
                        var o = e[i];
                        if (o && ("Daydream Controller" === o.id || "Gear VR Controller" === o.id || "Oculus Go Controller" === o.id || "OpenVR Gamepad" === o.id || o.id.startsWith("Oculus Touch") || o.id.startsWith("Spatial Controller"))) {
                            if (n === t)return o;
                            n++
                        }
                    }
                }

                function M(t, n) {
                    null !== n && 4 === n.length && t.set(n[0] * e, n[1] * i, n[2] * e, n[3] * i)
                }

                this.enabled = !1, this.getController = function (t) {
                    var e = s[t];
                    return void 0 === e && ((e = new Rr).matrixAutoUpdate = !1, e.visible = !1, s[t] = e), e
                }, this.getDevice = function () {
                    return r
                }, this.setDevice = function (t) {
                    void 0 !== t && (r = t), T.setContext(t)
                }, this.setFramebufferScaleFactor = function (t) {
                    u = t
                }, this.setFrameOfReferenceType = function (t) {
                    h = t
                }, this.setPoseTarget = function (t) {
                    void 0 !== t && (a = t)
                }, this.getCamera = function (t) {
                    var e = "stage" === h ? 1.6 : 0;
                    if (!1 === y())return t.position.set(0, e, 0), t.rotation.set(0, 0, 0), t;
                    if (r.depthNear = t.near, r.depthFar = t.far, r.getFrameData(o), "stage" === h) {
                        var i = r.stageParameters;
                        i ? l.fromArray(i.sittingToStandingTransform) : l.makeTranslation(0, e, 0)
                    }
                    var n = o.pose, u = null !== a ? a : t;
                    u.matrix.copy(l), u.matrix.decompose(u.position, u.quaternion, u.scale), null !== n.orientation && (p.fromArray(n.orientation), u.quaternion.multiply(p)), null !== n.position && (p.setFromRotationMatrix(l), f.fromArray(n.position), f.applyQuaternion(p), u.position.add(f)), u.updateMatrixWorld(), m.near = t.near, g.near = t.near, m.far = t.far, g.far = t.far, m.matrixWorldInverse.fromArray(o.leftViewMatrix), g.matrixWorldInverse.fromArray(o.rightViewMatrix), c.getInverse(l), "stage" === h && (m.matrixWorldInverse.multiply(c), g.matrixWorldInverse.multiply(c));
                    var _ = u.parent;
                    null !== _ && (d.getInverse(_.matrixWorld), m.matrixWorldInverse.multiply(d), g.matrixWorldInverse.multiply(d)), m.matrixWorld.getInverse(m.matrixWorldInverse), g.matrixWorld.getInverse(g.matrixWorldInverse), m.projectionMatrix.fromArray(o.leftProjectionMatrix), g.projectionMatrix.fromArray(o.rightProjectionMatrix), Xr(v, m, g);
                    var x = r.getLayers();
                    if (x.length) {
                        var b = x[0];
                        M(m.viewport, b.leftBounds), M(g.viewport, b.rightBounds)
                    }
                    return function () {
                        for (var t = 0; t < s.length; t++) {
                            var e = s[t], i = S(t);
                            if (void 0 !== i && void 0 !== i.pose) {
                                if (null === i.pose)return;
                                var n = i.pose;
                                !1 === n.hasPosition && e.position.set(.2, -.6, -.05), null !== n.position && e.position.fromArray(n.position), null !== n.orientation && e.quaternion.fromArray(n.orientation), e.matrix.compose(e.position, e.quaternion, e.scale), e.matrix.premultiply(l), e.matrix.decompose(e.position, e.quaternion, e.scale), e.matrixWorldNeedsUpdate = !0, e.visible = !0;
                                var r = "Daydream Controller" === i.id ? 0 : 1;
                                w[t] !== i.buttons[r].pressed && (w[t] = i.buttons[r].pressed, !0 === w[t] ? e.dispatchEvent({type: "selectstart"}) : (e.dispatchEvent({type: "selectend"}), e.dispatchEvent({type: "select"})))
                            } else e.visible = !1
                        }
                    }(), v
                }, this.getStandingMatrix = function () {
                    return l
                }, this.isPresenting = y;
                var T = new mi;
                this.setAnimationLoop = function (t) {
                    T.setAnimationLoop(t), y() && T.start()
                }, this.submitFrame = function () {
                    y() && r.submitFrame()
                }, this.dispose = function () {
                    "undefined" != typeof window && window.removeEventListener("vrdisplaypresentchange", b)
                }
            }

            function Yr(t) {
                var e = void 0 !== (t = t || {}).canvas ? t.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
                    i = void 0 !== t.context ? t.context : null, n = void 0 !== t.alpha && t.alpha,
                    r = void 0 === t.depth || t.depth, o = void 0 === t.stencil || t.stencil,
                    c = void 0 !== t.antialias && t.antialias,
                    u = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
                    f = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer,
                    m = void 0 !== t.powerPreference ? t.powerPreference : "default", g = null, M = null;
                this.domElement = e, this.context = null, this.debug = {checkShaderErrors: !0}, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this.gammaFactor = 2, this.gammaInput = !1, this.gammaOutput = !1, this.physicallyCorrectLights = !1, this.toneMapping = Z, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4;
                var T, A, P, E, C, O, L, k, I, N, R, D, z, j, X, q, Y, J, K, Q = this, tt = !1, et = null, it = null,
                    nt = null, rt = -1, ot = null, at = null, st = new He, lt = new He, ct = null, ut = e.width,
                    ht = e.height, dt = 1, pt = new He(0, 0, ut, ht), ft = new He(0, 0, ut, ht), mt = !1, gt = [],
                    vt = new ei, _t = new function () {
                        var t = this, e = null, i = 0, n = !1, r = !1, o = new ti, a = new Ee,
                            s = {value: null, needsUpdate: !1};

                        function l() {
                            s.value !== e && (s.value = e, s.needsUpdate = i > 0), t.numPlanes = i, t.numIntersection = 0
                        }

                        function c(e, i, n, r) {
                            var l = null !== e ? e.length : 0, c = null;
                            if (0 !== l) {
                                if (c = s.value, !0 !== r || null === c) {
                                    var u = n + 4 * l, h = i.matrixWorldInverse;
                                    a.getNormalMatrix(h), (null === c || c.length < u) && (c = new Float32Array(u));
                                    for (var d = 0, p = n; d !== l; ++d, p += 4)o.copy(e[d]).applyMatrix4(h, a), o.normal.toArray(c, p), c[p + 3] = o.constant
                                }
                                s.value = c, s.needsUpdate = !0
                            }
                            return t.numPlanes = l, c
                        }

                        this.uniform = s, this.numPlanes = 0, this.numIntersection = 0, this.init = function (t, r, o) {
                            var a = 0 !== t.length || r || 0 !== i || n;
                            return n = r, e = c(t, o, 0), i = t.length, a
                        }, this.beginShadows = function () {
                            r = !0, c(null)
                        }, this.endShadows = function () {
                            r = !1, l()
                        }, this.setState = function (t, o, a, u, h, d) {
                            if (!n || null === t || 0 === t.length || r && !a) r ? c(null) : l(); else {
                                var p = r ? 0 : i, f = 4 * p, m = h.clippingState || null;
                                s.value = m, m = c(t, u, f, d);
                                for (var g = 0; g !== f; ++g)m[g] = e[g];
                                h.clippingState = m, this.numIntersection = o ? this.numPlanes : 0, this.numPlanes += p
                            }
                        }
                    }, xt = !1, bt = !1, wt = new ii, St = new Pe;

                function At() {
                    return null === it ? dt : 1
                }

                try {
                    var Pt = {
                        alpha: n,
                        depth: r,
                        stencil: o,
                        antialias: c,
                        premultipliedAlpha: u,
                        preserveDrawingBuffer: f,
                        powerPreference: m
                    };
                    if (e.addEventListener("webglcontextlost", Lt, !1), e.addEventListener("webglcontextrestored", It, !1), null === (T = i || e.getContext("webgl", Pt) || e.getContext("experimental-webgl", Pt)))throw null !== e.getContext("webgl") ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
                    void 0 === T.getShaderPrecisionFormat && (T.getShaderPrecisionFormat = function () {
                        return {rangeMin: 1, rangeMax: 1, precision: 1}
                    })
                } catch (t) {
                    throw t
                }
                function Et() {
                    A = new function (t) {
                        var e = {};
                        return {
                            get: function (i) {
                                if (void 0 !== e[i])return e[i];
                                var n;
                                switch (i) {
                                    case"WEBGL_depth_texture":
                                        n = t.getExtension("WEBGL_depth_texture") || t.getExtension("MOZ_WEBGL_depth_texture") || t.getExtension("WEBKIT_WEBGL_depth_texture");
                                        break;
                                    case"EXT_texture_filter_anisotropic":
                                        n = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                                        break;
                                    case"WEBGL_compressed_texture_s3tc":
                                        n = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                                        break;
                                    case"WEBGL_compressed_texture_pvrtc":
                                        n = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                                        break;
                                    default:
                                        n = t.getExtension(i)
                                }
                                return e[i] = n, n
                            }
                        }
                    }(T), (P = new function (t, e, i) {
                        var n;

                        function r(e) {
                            if ("highp" === e) {
                                if (t.getShaderPrecisionFormat(35633, 36338).precision > 0 && t.getShaderPrecisionFormat(35632, 36338).precision > 0)return "highp";
                                e = "mediump"
                            }
                            return "mediump" === e && t.getShaderPrecisionFormat(35633, 36337).precision > 0 && t.getShaderPrecisionFormat(35632, 36337).precision > 0 ? "mediump" : "lowp"
                        }

                        var o = "undefined" != typeof WebGL2RenderingContext && t instanceof WebGL2RenderingContext,
                            a = void 0 !== i.precision ? i.precision : "highp", s = r(a);
                        s !== a && (a = s);
                        var l = !0 === i.logarithmicDepthBuffer, c = t.getParameter(34930), u = t.getParameter(35660),
                            h = t.getParameter(3379), d = t.getParameter(34076), p = t.getParameter(34921),
                            f = t.getParameter(36347), m = t.getParameter(36348), g = t.getParameter(36349), v = u > 0,
                            y = o || !!e.get("OES_texture_float");
                        return {
                            isWebGL2: o,
                            getMaxAnisotropy: function () {
                                if (void 0 !== n)return n;
                                var i = e.get("EXT_texture_filter_anisotropic");
                                return n = null !== i ? t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0
                            },
                            getMaxPrecision: r,
                            precision: a,
                            logarithmicDepthBuffer: l,
                            maxTextures: c,
                            maxVertexTextures: u,
                            maxTextureSize: h,
                            maxCubemapSize: d,
                            maxAttributes: p,
                            maxVertexUniforms: f,
                            maxVaryings: m,
                            maxFragmentUniforms: g,
                            vertexTextures: v,
                            floatFragmentTextures: y,
                            floatVertexTextures: v && y,
                            maxSamples: o ? t.getParameter(36183) : 0,
                            multiRenderTarget: o || !!e.get("WEBGL_draw_buffers")
                        }
                    }(T, A, t)).isWebGL2 || (A.get("WEBGL_depth_texture"), A.get("OES_texture_float"), A.get("OES_texture_half_float"), A.get("OES_texture_half_float_linear"), A.get("OES_standard_derivatives"), A.get("OES_element_index_uint"), A.get("OES_vertex_array_object"), A.get("ANGLE_instanced_arrays")), A.get("OES_texture_float_linear"), J = new Nr(T, A, P), (E = new function (t, e, i) {
                        var n = new function () {
                                var e = !1, i = new He, n = null, r = new He(0, 0, 0, 0);
                                return {
                                    setMask: function (i) {
                                        n === i || e || (t.colorMask(i, i, i, i), n = i)
                                    }, setLocked: function (t) {
                                        e = t
                                    }, setClear: function (e, n, o, a, s) {
                                        !0 === s && (e *= a, n *= a, o *= a), i.set(e, n, o, a), !1 === r.equals(i) && (t.clearColor(e, n, o, a), r.copy(i))
                                    }, reset: function () {
                                        e = !1, n = null, r.set(-1, 0, 0, 0)
                                    }
                                }
                            }, r = new function () {
                                var e = !1, i = null, n = null, r = null;
                                return {
                                    setTest: function (t) {
                                        t ? Q(2929) : tt(2929)
                                    }, setMask: function (n) {
                                        i === n || e || (t.depthMask(n), i = n)
                                    }, setFunc: function (e) {
                                        if (n !== e) {
                                            if (e)switch (e) {
                                                case F:
                                                    t.depthFunc(512);
                                                    break;
                                                case B:
                                                    t.depthFunc(519);
                                                    break;
                                                case U:
                                                    t.depthFunc(513);
                                                    break;
                                                case G:
                                                    t.depthFunc(515);
                                                    break;
                                                case $:
                                                    t.depthFunc(514);
                                                    break;
                                                case V:
                                                    t.depthFunc(518);
                                                    break;
                                                case W:
                                                    t.depthFunc(516);
                                                    break;
                                                case H:
                                                    t.depthFunc(517);
                                                    break;
                                                default:
                                                    t.depthFunc(515)
                                            } else t.depthFunc(515);
                                            n = e
                                        }
                                    }, setLocked: function (t) {
                                        e = t
                                    }, setClear: function (e) {
                                        r !== e && (t.clearDepth(e), r = e)
                                    }, reset: function () {
                                        e = !1, i = null, n = null, r = null
                                    }
                                }
                            }, o = new function () {
                                var e = !1, i = null, n = null, r = null, o = null, a = null, s = null, l = null, c = null;
                                return {
                                    setTest: function (t) {
                                        t ? Q(2960) : tt(2960)
                                    }, setMask: function (n) {
                                        i === n || e || (t.stencilMask(n), i = n)
                                    }, setFunc: function (e, i, a) {
                                        n === e && r === i && o === a || (t.stencilFunc(e, i, a), n = e, r = i, o = a)
                                    }, setOp: function (e, i, n) {
                                        a === e && s === i && l === n || (t.stencilOp(e, i, n), a = e, s = i, l = n)
                                    }, setLocked: function (t) {
                                        e = t
                                    }, setClear: function (e) {
                                        c !== e && (t.clearStencil(e), c = e)
                                    }, reset: function () {
                                        e = !1, i = null, n = null, r = null, o = null, a = null, s = null, l = null, c = null
                                    }
                                }
                            }, c = {}, u = null, h = null, f = null, m = null, g = null, M = null, T = null, A = null,
                            P = null, E = null, C = !1, O = null, L = null, k = null, I = null, N = null,
                            R = t.getParameter(35661), D = !1, z = 0, j = t.getParameter(7938);
                        -1 !== j.indexOf("WebGL") ? (z = parseFloat(/^WebGL\ ([0-9])/.exec(j)[1]), D = z >= 1) : -1 !== j.indexOf("OpenGL ES") && (z = parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(j)[1]), D = z >= 2);
                        var X = null, q = {}, Y = new He, J = new He;

                        function Z(e, i, n) {
                            var r = new Uint8Array(4), o = t.createTexture();
                            t.bindTexture(e, o), t.texParameteri(e, 10241, 9728), t.texParameteri(e, 10240, 9728);
                            for (var a = 0; a < n; a++)t.texImage2D(i + a, 0, 6408, 1, 1, 0, 6408, 5121, r);
                            return o
                        }

                        var K = {};

                        function Q(e) {
                            !0 !== c[e] && (t.enable(e), c[e] = !0)
                        }

                        function tt(e) {
                            !1 !== c[e] && (t.disable(e), c[e] = !1)
                        }

                        function et(e, n, r, o, a, s, l, c) {
                            if (e !== v) {
                                if (f || (Q(3042), f = !0), e === w) a = a || n, s = s || r, l = l || o, n === g && a === A || (t.blendEquationSeparate(i.convert(n), i.convert(a)), g = n, A = a), r === M && o === T && s === P && l === E || (t.blendFuncSeparate(i.convert(r), i.convert(o), i.convert(s), i.convert(l)), M = r, T = o, P = s, E = l), m = e, C = null; else if (e !== m || c !== C) {
                                    if (g === S && A === S || (t.blendEquation(32774), g = S, A = S), c)switch (e) {
                                        case y:
                                            t.blendFuncSeparate(1, 771, 1, 771);
                                            break;
                                        case _:
                                            t.blendFunc(1, 1);
                                            break;
                                        case x:
                                            t.blendFuncSeparate(0, 0, 769, 771);
                                            break;
                                        case b:
                                            t.blendFuncSeparate(0, 768, 0, 770)
                                    } else switch (e) {
                                        case y:
                                            t.blendFuncSeparate(770, 771, 1, 771);
                                            break;
                                        case _:
                                            t.blendFunc(770, 1);
                                            break;
                                        case x:
                                            t.blendFunc(0, 769);
                                            break;
                                        case b:
                                            t.blendFunc(0, 768)
                                    }
                                    M = null, T = null, P = null, E = null, m = e, C = c
                                }
                            } else f && (tt(3042), f = !1)
                        }

                        function it(e) {
                            O !== e && (e ? t.frontFace(2304) : t.frontFace(2305), O = e)
                        }

                        function nt(e) {
                            e !== a ? (Q(2884), e !== L && (e === s ? t.cullFace(1029) : e === l ? t.cullFace(1028) : t.cullFace(1032))) : tt(2884), L = e
                        }

                        function rt(e, i, n) {
                            e ? (Q(32823), I === i && N === n || (t.polygonOffset(i, n), I = i, N = n)) : tt(32823)
                        }

                        function ot(e) {
                            void 0 === e && (e = 33984 + R - 1), X !== e && (t.activeTexture(e), X = e)
                        }

                        return K[3553] = Z(3553, 3553, 1), K[34067] = Z(34067, 34069, 6), n.setClear(0, 0, 0, 1), r.setClear(1), o.setClear(0), Q(2929), r.setFunc(G), it(!1), nt(s), Q(2884), et(v), {
                            buffers: {
                                color: n,
                                depth: r,
                                stencil: o
                            }, enable: Q, disable: tt, getCompressedTextureFormats: function () {
                                if (null === u && (u = [], e.get("WEBGL_compressed_texture_pvrtc") || e.get("WEBGL_compressed_texture_s3tc") || e.get("WEBGL_compressed_texture_etc1") || e.get("WEBGL_compressed_texture_astc")))for (var i = t.getParameter(34467), n = 0; n < i.length; n++)u.push(i[n]);
                                return u
                            }, useProgram: function (e) {
                                return h !== e && (t.useProgram(e), h = e, !0)
                            }, setBlending: et, setMaterial: function (t, e) {
                                t.side === p ? tt(2884) : Q(2884);
                                var i = t.side === d;
                                e && (i = !i), it(i), t.blending === y && !1 === t.transparent ? et(v) : et(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.premultipliedAlpha), r.setFunc(t.depthFunc), r.setTest(t.depthTest), r.setMask(t.depthWrite), n.setMask(t.colorWrite), rt(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits)
                            }, setFlipSided: it, setCullFace: nt, setLineWidth: function (e) {
                                e !== k && (D && t.lineWidth(e), k = e)
                            }, setPolygonOffset: rt, setScissorTest: function (t) {
                                t ? Q(3089) : tt(3089)
                            }, activeTexture: ot, bindTexture: function (e, i) {
                                null === X && ot();
                                var n = q[X];
                                void 0 === n && (n = {
                                    type: void 0,
                                    texture: void 0
                                }, q[X] = n), n.type === e && n.texture === i || (t.bindTexture(e, i || K[e]), n.type = e, n.texture = i)
                            }, compressedTexImage2D: function () {
                                try {
                                    t.compressedTexImage2D.apply(t, arguments)
                                } catch (t) {
                                }
                            }, texImage2D: function () {
                                try {
                                    t.texImage2D.apply(t, arguments)
                                } catch (t) {
                                }
                            }, texImage3D: function () {
                                try {
                                    t.texImage3D.apply(t, arguments)
                                } catch (t) {
                                }
                            }, scissor: function (e) {
                                !1 === Y.equals(e) && (t.scissor(e.x, e.y, e.z, e.w), Y.copy(e))
                            }, viewport: function (e) {
                                !1 === J.equals(e) && (t.viewport(e.x, e.y, e.z, e.w), J.copy(e))
                            }, reset: function () {
                                c = {}, u = null, X = null, q = {}, h = null, m = null, O = null, L = null, n.reset(), r.reset(), o.reset()
                            }
                        }
                    }(T, A, J)).scissor(lt.copy(ft).multiplyScalar(dt)), E.viewport(st.copy(pt).multiplyScalar(dt)), gt[0] = 1029, C = new function (t) {
                        var e = {frame: 0, calls: 0, triangles: 0, points: 0, lines: 0};
                        return {
                            memory: {geometries: 0, textures: 0},
                            render: e,
                            programs: null,
                            autoReset: !0,
                            reset: function () {
                                e.frame++, e.calls = 0, e.triangles = 0, e.points = 0, e.lines = 0
                            },
                            update: function (t, i, n) {
                                switch (n = n || 1, e.calls++, i) {
                                    case 4:
                                        e.triangles += n * (t / 3);
                                        break;
                                    case 5:
                                    case 6:
                                        e.triangles += n * (t - 2);
                                        break;
                                    case 1:
                                        e.lines += n * (t / 2);
                                        break;
                                    case 3:
                                        e.lines += n * (t - 1);
                                        break;
                                    case 2:
                                        e.lines += n * t;
                                        break;
                                    case 0:
                                        e.points += n * t
                                }
                            }
                        }
                    }(T), O = new function () {
                        var t = new WeakMap;
                        return {
                            get: function (e) {
                                var i = t.get(e);
                                return void 0 === i && (i = {}, t.set(e, i)), i
                            }, remove: function (e) {
                                t.delete(e)
                            }, update: function (e, i, n) {
                                t.get(e)[i] = n
                            }, dispose: function () {
                                t = new WeakMap
                            }
                        }
                    }, L = new Ir(T, A, E, O, P, J, C), k = new gi(T), K = new gn(T, A, k, P), I = new function (t, e, i, n) {
                        var r = {}, o = {};

                        function a(t) {
                            var s = t.target, l = r[s.id];
                            for (var c in null !== l.index && e.remove(l.index), l.attributes)e.remove(l.attributes[c]);
                            s.removeEventListener("dispose", a), delete r[s.id];
                            var u = o[l.id];
                            u && (e.remove(u), delete o[l.id]), n.releaseStatesOfGeometry(s), i.memory.geometries--
                        }

                        return {
                            get: function (t, e) {
                                var n = r[e.id];
                                return n || (e.addEventListener("dispose", a), e.isBufferGeometry ? n = e : e.isGeometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new $i).setFromObject(t)), n = e._bufferGeometry), r[e.id] = n, i.memory.geometries++, n)
                            }, update: function (t) {
                                var i = t.attributes;
                                for (var n in i)e.update(i[n], 34962);
                                var r = t.morphAttributes;
                                for (var n in r)for (var o = r[n], a = 0, s = o.length; a < s; a++)e.update(o[a], 34962)
                            }, getWireframeAttribute: function (t) {
                                var e = o[t.id];
                                if (e)return e;
                                var i, n = [], r = t.index, a = t.attributes;
                                if (null !== r)for (var s = 0, l = (i = r.array).length; s < l; s += 3) {
                                    var c = i[s + 0], u = i[s + 1], h = i[s + 2];
                                    n.push(c, u, u, h, h, c)
                                } else for (s = 0, l = (i = a.position.array).length / 3 - 1; s < l; s += 3)c = s + 0, u = s + 1, h = s + 2, n.push(c, u, u, h, h, c);
                                return e = new (Ui(n) > 65535 ? zi : Ri)(n, 1), o[t.id] = e, e
                            }
                        }
                    }(T, k, C, K), N = new function (t, e) {
                        var i = {};
                        return {
                            update: function (n) {
                                var r = e.render.frame, o = n.geometry, a = t.get(n, o);
                                return i[a.id] !== r && (o.isGeometry && a.updateFromObject(n), t.update(a), i[a.id] = r), a
                            }, dispose: function () {
                                i = {}
                            }
                        }
                    }(I, C), X = new function (t) {
                        for (var e = {}, i = new Float32Array(8), n = [], r = 0; r < 8; r++)n[r] = [r, 0];
                        return {
                            update: function (r, o, a, s) {
                                var l = r.morphTargetInfluences, c = l.length, u = e[o.id];
                                if (void 0 === u) {
                                    u = [];
                                    for (var h = 0; h < c; h++)u[h] = [h, 0];
                                    e[o.id] = u
                                }
                                for (h = 0; h < c; h++)(f = u[h])[0] = h, f[1] = l[h];
                                for (u.sort(yn), h = 0; h < 8; h++)h < c && u[h][1] ? (n[h][0] = u[h][0], n[h][1] = u[h][1]) : (n[h][0] = Number.MAX_SAFE_INTEGER, n[h][1] = 0);
                                n.sort(vn);
                                var d = a.morphTargets && o.morphAttributes.position,
                                    p = a.morphNormals && o.morphAttributes.normal;
                                for (h = 0; h < 8; h++) {
                                    var f, m = (f = n[h])[0], g = f[1];
                                    m !== Number.MAX_SAFE_INTEGER && g ? (d && o.getAttribute("morphTarget" + h) !== d[m] && o.addAttribute("morphTarget" + h, d[m]), p && o.getAttribute("morphNormal" + h) !== p[m] && o.addAttribute("morphNormal" + h, p[m]), i[h] = g) : (d && void 0 !== o.getAttribute("morphTarget" + h) && o.removeAttribute("morphTarget" + h), p && void 0 !== o.getAttribute("morphNormal" + h) && o.removeAttribute("morphNormal" + h), i[h] = 0)
                                }
                                s.getUniforms().setValue(t, "morphTargetInfluences", i)
                            }
                        }
                    }(T), R = new Sr(Q, A, P, L, K), D = new function () {
                        var t = {};

                        function e(i) {
                            var n = i.target;
                            n.removeEventListener("dispose", e), delete t[n.id]
                        }

                        return {
                            get: function (i, n) {
                                var r, o = t[i.id];
                                return void 0 === o ? (r = new Ar, t[i.id] = {}, t[i.id][n.id] = r, i.addEventListener("dispose", e)) : void 0 === (r = o[n.id]) && (r = new Ar, o[n.id] = r), r
                            }, dispose: function () {
                                t = {}
                            }
                        }
                    }, z = new function () {
                        var t = {};

                        function e(i) {
                            var n = i.target;
                            n.removeEventListener("dispose", e), delete t[n.id]
                        }

                        return {
                            get: function (i, n) {
                                var r;
                                return void 0 === t[i.id] ? (r = new Cr, t[i.id] = {}, t[i.id][n.id] = r, i.addEventListener("dispose", e)) : void 0 === t[i.id][n.id] ? (r = new Cr, t[i.id][n.id] = r) : r = t[i.id][n.id], r
                            }, dispose: function () {
                                t = {}
                            }
                        }
                    }, j = new function (t, e, i, n) {
                        var r, o, a = new hi(0), s = 0, l = null, c = 0;

                        function u(t, i) {
                            e.buffers.color.setClear(t.r, t.g, t.b, i, n)
                        }

                        return {
                            getClearColor: function () {
                                return a
                            }, setClearColor: function (t, e) {
                                a.set(t), u(a, s = void 0 !== e ? e : 1)
                            }, getClearAlpha: function () {
                                return s
                            }, setClearAlpha: function (t) {
                                u(a, s = t)
                            }, render: function (e, n, p, f) {
                                var m = n.background, g = t.vr, v = g.getSession && g.getSession();
                                if (v && "additive" === v.environmentBlendMode && (m = null), null === m ? (u(a, s), l = null, c = 0) : m && m.isColor && (u(m, 1), f = !0, l = null, c = 0), (t.autoClear || f) && t.clear(t.autoClearColor, t.autoClearDepth, t.autoClearStencil), m && (m.isCubeTexture || m.isWebGLRenderTargetCube)) {
                                    void 0 === o && ((o = new mn(new Wi(1, 1, 1), new hn({
                                        type: "BackgroundCubeMaterial",
                                        uniforms: ri(fi.cube.uniforms),
                                        vertexShader: fi.cube.vertexShader,
                                        fragmentShader: fi.cube.fragmentShader,
                                        side: d,
                                        depthTest: !1,
                                        depthWrite: !1,
                                        fog: !1
                                    }))).geometry.removeAttribute("normal"), o.geometry.removeAttribute("uv"), o.onBeforeRender = function (t, e, i) {
                                        this.matrixWorld.copyPosition(i.matrixWorld)
                                    }, Object.defineProperty(o.material, "map", {
                                        get: function () {
                                            return this.uniforms.tCube.value
                                        }
                                    }), i.update(o));
                                    var y = m.isWebGLRenderTargetCube ? m.texture : m;
                                    o.material.uniforms.tCube.value = y, o.material.uniforms.tFlip.value = m.isWebGLRenderTargetCube ? 1 : -1, l === m && c === y.version || (o.material.needsUpdate = !0, l = m, c = y.version), e.unshift(o, o.geometry, o.material, 0, 0, null)
                                } else m && m.isTexture && (void 0 === r && ((r = new mn(new Xi(2, 2), new hn({
                                    type: "BackgroundMaterial",
                                    uniforms: ri(fi.background.uniforms),
                                    vertexShader: fi.background.vertexShader,
                                    fragmentShader: fi.background.fragmentShader,
                                    side: h,
                                    depthTest: !1,
                                    depthWrite: !1,
                                    fog: !1
                                }))).geometry.removeAttribute("normal"), Object.defineProperty(r.material, "map", {
                                    get: function () {
                                        return this.uniforms.t2D.value
                                    }
                                }), i.update(r)), r.material.uniforms.t2D.value = m, !0 === m.matrixAutoUpdate && m.updateMatrix(), r.material.uniforms.uvTransform.value.copy(m.matrix), l === m && c === m.version || (r.material.needsUpdate = !0, l = m, c = m.version), e.unshift(r, r.geometry, r.material, 0, 0, null))
                            }
                        }
                    }(Q, E, N, u), q = new function (t, e, i, n) {
                        var r;
                        this.setMode = function (t) {
                            r = t
                        }, this.render = function (e, n) {
                            t.drawArrays(r, e, n), i.update(n, r)
                        }, this.renderInstances = function (o, a, s) {
                            var l;
                            if (n.isWebGL2) l = t; else if (null === (l = e.get("ANGLE_instanced_arrays")))return;
                            l[n.isWebGL2 ? "drawArraysInstanced" : "drawArraysInstancedANGLE"](r, a, s, o.maxInstancedCount), i.update(s, r, o.maxInstancedCount)
                        }
                    }(T, A, C, P), Y = new function (t, e, i, n) {
                        var r, o, a;
                        this.setMode = function (t) {
                            r = t
                        }, this.setIndex = function (t) {
                            o = t.type, a = t.bytesPerElement
                        }, this.render = function (e, n) {
                            t.drawElements(r, n, o, e * a), i.update(n, r)
                        }, this.renderInstances = function (s, l, c) {
                            var u;
                            if (n.isWebGL2) u = t; else if (null === (u = e.get("ANGLE_instanced_arrays")))return;
                            u[n.isWebGL2 ? "drawElementsInstanced" : "drawElementsInstancedANGLE"](r, c, o, l * a, s.maxInstancedCount), i.update(c, r, s.maxInstancedCount)
                        }
                    }(T, A, C, P), C.programs = R.programs, Q.context = T, Q.capabilities = P, Q.extensions = A, Q.properties = O, Q.renderLists = D, Q.state = E, Q.info = C
                }

                Et();
                var Ct = "undefined" != typeof navigator && "xr" in navigator ? new function (t) {
                    var e = t.context, i = null, n = null, r = 1, o = null, a = "stage", s = null, l = [], c = [];

                    function u() {
                        return null !== n && null !== o
                    }

                    var h = new zr;
                    h.layers.enable(1), h.viewport = new He;
                    var d = new zr;
                    d.layers.enable(2), d.viewport = new He;
                    var p = new jr([h, d]);

                    function f(t) {
                        var e = l[c.indexOf(t.inputSource)];
                        e && e.dispatchEvent({type: t.type})
                    }

                    function m() {
                        t.setFramebuffer(null), t.setRenderTarget(t.getRenderTarget()), y.stop()
                    }

                    function g(t, e) {
                        null === e ? t.matrixWorld.copy(t.matrix) : t.matrixWorld.multiplyMatrices(e.matrixWorld, t.matrix), t.matrixWorldInverse.getInverse(t.matrixWorld)
                    }

                    p.layers.enable(1), p.layers.enable(2), this.enabled = !1, this.getController = function (t) {
                        var e = l[t];
                        return void 0 === e && ((e = new Rr).matrixAutoUpdate = !1, e.visible = !1, l[t] = e), e
                    }, this.getDevice = function () {
                        return i
                    }, this.setDevice = function (t) {
                        void 0 !== t && (i = t), t instanceof XRDevice && e.setCompatibleXRDevice(t)
                    }, this.setFramebufferScaleFactor = function (t) {
                        r = t
                    }, this.setFrameOfReferenceType = function (t) {
                        a = t
                    }, this.setSession = function (i) {
                        null !== (n = i) && (n.addEventListener("select", f), n.addEventListener("selectstart", f), n.addEventListener("selectend", f), n.addEventListener("end", m), n.baseLayer = new XRWebGLLayer(n, e, {framebufferScaleFactor: r}), n.requestFrameOfReference(a).then(function (e) {
                            o = e, t.setFramebuffer(n.baseLayer.framebuffer), y.setContext(n), y.start()
                        }), c = n.getInputSources(), n.addEventListener("inputsourceschange", function () {
                            c = n.getInputSources();
                            for (var t = 0; t < l.length; t++)l[t].userData.inputSource = c[t]
                        }))
                    }, this.getCamera = function (t) {
                        if (u()) {
                            var e = t.parent, i = p.cameras;
                            g(p, e);
                            for (var n = 0; n < i.length; n++)g(i[n], e);
                            t.matrixWorld.copy(p.matrixWorld);
                            for (var r = t.children, o = (n = 0, r.length); n < o; n++)r[n].updateMatrixWorld(!0);
                            return Xr(p, h, d), p
                        }
                        return t
                    }, this.isPresenting = u;
                    var v = null, y = new mi;
                    y.setAnimationLoop(function (t, e) {
                        if (null !== (s = e.getDevicePose(o)))for (var i = n.baseLayer, r = e.views, a = 0; a < r.length; a++) {
                            var u = r[a], h = i.getViewport(u), d = s.getViewMatrix(u), f = p.cameras[a];
                            f.matrix.fromArray(d).getInverse(f.matrix), f.projectionMatrix.fromArray(u.projectionMatrix), f.viewport.set(h.x, h.y, h.width, h.height), 0 === a && p.matrix.copy(f.matrix)
                        }
                        for (a = 0; a < l.length; a++) {
                            var m = l[a], g = c[a];
                            if (g) {
                                var y = e.getInputPose(g, o);
                                if (null !== y) {
                                    "targetRay" in y ? m.matrix.elements = y.targetRay.transformMatrix : "pointerMatrix" in y && (m.matrix.elements = y.pointerMatrix), m.matrix.decompose(m.position, m.rotation, m.scale), m.visible = !0;
                                    continue
                                }
                            }
                            m.visible = !1
                        }
                        v && v(t)
                    }), this.setAnimationLoop = function (t) {
                        v = t
                    }, this.dispose = function () {
                    }, this.getStandingMatrix = function () {
                        return new ii
                    }, this.submitFrame = function () {
                    }
                }(Q) : new qr(Q);
                this.vr = Ct;
                var Ot = new kr(Q, N, P.maxTextureSize);

                function Lt(t) {
                    t.preventDefault(), tt = !0
                }

                function It() {
                    tt = !1, Et()
                }

                function Nt(t) {
                    var e = t.target;
                    e.removeEventListener("dispose", Nt), function (t) {
                        Rt(t), O.remove(t)
                    }(e)
                }

                function Rt(t) {
                    var e = O.get(t).program;
                    t.program = void 0, void 0 !== e && R.releaseProgram(e)
                }

                this.shadowMap = Ot, this.getContext = function () {
                    return T
                }, this.getContextAttributes = function () {
                    return T.getContextAttributes()
                }, this.forceContextLoss = function () {
                    var t = A.get("WEBGL_lose_context");
                    t && t.loseContext()
                }, this.forceContextRestore = function () {
                    var t = A.get("WEBGL_lose_context");
                    t && t.restoreContext()
                }, this.getPixelRatio = function () {
                    return dt
                }, this.setPixelRatio = function (t) {
                    void 0 !== t && (dt = t, this.setSize(ut, ht, !1))
                }, this.getSize = function (t) {
                    return void 0 === t && (t = new Te), t.set(ut, ht)
                }, this.setSize = function (t, i, n) {
                    Ct.isPresenting() || (ut = t, ht = i, e.width = t * dt, e.height = i * dt, !1 !== n && (e.style.width = t + "px", e.style.height = i + "px"), this.setViewport(0, 0, t, i))
                }, this.getDrawingBufferSize = function (t) {
                    return void 0 === t && (t = new Te), t.set(ut * dt, ht * dt)
                }, this.setDrawingBufferSize = function (t, i, n) {
                    ut = t, ht = i, dt = n, e.width = t * n, e.height = i * n, this.setViewport(0, 0, t, i)
                }, this.getCurrentViewport = function (t) {
                    return void 0 === t && (t = new He), t.copy(st)
                }, this.getViewport = function (t) {
                    return t.copy(pt)
                }, this.setViewport = function (t, e, i, n) {
                    t.isVector4 ? pt.set(t.x, t.y, t.z, t.w) : pt.set(t, e, i, n), E.viewport(st.copy(pt).multiplyScalar(dt))
                }, this.getScissor = function (t) {
                    return t.copy(ft)
                }, this.setScissor = function (t, e, i, n) {
                    t.isVector4 ? ft.set(t.x, t.y, t.z, t.w) : ft.set(t, e, i, n), E.scissor(lt.copy(ft).multiplyScalar(dt))
                }, this.getScissorTest = function () {
                    return mt
                }, this.setScissorTest = function (t) {
                    E.setScissorTest(mt = t)
                }, this.getClearColor = function () {
                    return j.getClearColor()
                }, this.setClearColor = function () {
                    j.setClearColor.apply(j, arguments)
                }, this.getClearAlpha = function () {
                    return j.getClearAlpha()
                }, this.setClearAlpha = function () {
                    j.setClearAlpha.apply(j, arguments)
                }, this.clear = function (t, e, i) {
                    var n = 0;
                    (void 0 === t || t) && (n |= 16384), (void 0 === e || e) && (n |= 256), (void 0 === i || i) && (n |= 1024), T.clear(n)
                }, this.clearColor = function () {
                    this.clear(!0, !1, !1)
                }, this.clearDepth = function () {
                    this.clear(!1, !0, !1)
                }, this.clearStencil = function () {
                    this.clear(!1, !1, !0)
                }, this.dispose = function () {
                    e.removeEventListener("webglcontextlost", Lt, !1), e.removeEventListener("webglcontextrestored", It, !1), D.dispose(), z.dispose(), O.dispose(), N.dispose(), K.dispose(), Ct.dispose(), zt.stop()
                }, this.renderBufferImmediate = function (t, e) {
                    K.initAttributes();
                    var i = O.get(t);
                    t.hasPositions && !i.position && (i.position = T.createBuffer()), t.hasNormals && !i.normal && (i.normal = T.createBuffer()), t.hasUvs && !i.uv && (i.uv = T.createBuffer()), t.hasColors && !i.color && (i.color = T.createBuffer());
                    var n = e.getAttributes();
                    t.hasPositions && (T.bindBuffer(34962, i.position), T.bufferData(34962, t.positionArray, 35048), K.enableAttribute(n.position), T.vertexAttribPointer(n.position, 3, 5126, !1, 0, 0)), t.hasNormals && (T.bindBuffer(34962, i.normal), T.bufferData(34962, t.normalArray, 35048), K.enableAttribute(n.normal), T.vertexAttribPointer(n.normal, 3, 5126, !1, 0, 0)), t.hasUvs && (T.bindBuffer(34962, i.uv), T.bufferData(34962, t.uvArray, 35048), K.enableAttribute(n.uv), T.vertexAttribPointer(n.uv, 2, 5126, !1, 0, 0)), t.hasColors && (T.bindBuffer(34962, i.color), T.bufferData(34962, t.colorArray, 35048), K.enableAttribute(n.color), T.vertexAttribPointer(n.color, 3, 5126, !1, 0, 0)), K.disableUnusedAttributes(), T.drawArrays(4, 0, t.count), t.count = 0
                }, this.renderLIGHT = function (t, e, i, n, r) {
                    K.resetDefaultState(), rt = -1, ot = null, (M = z.get(t, e)).init(), this.info.calls++, void 0 === n && (n = null), this.setRenderTarget(n), (this.autoClear || r) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil);
                    N.update(i);
                    this.renderBufferDirect(e, null, i.geometry, i.material, i, null), E.buffers.depth.setTest(!0), E.buffers.depth.setMask(!0), E.buffers.color.setMask(!0), g = null, M = null
                }, this.renderBufferDirect = function (t, e, i, n, r, o) {
                    var a = r.isMesh && r.matrixWorld.determinant() < 0;
                    E.setMaterial(n, a);
                    var s, l = Ut(t, e, n, r), c = i.index, u = i.attributes.position, h = 1;
                    !0 === n.wireframe && (c = I.getWireframeAttribute(i), h = 2), r.morphTargetInfluences && X.update(r, i, n, l), K.setup(n, l, i, c);
                    var d = q;
                    null !== c && (s = k.get(c), (d = Y).setIndex(s));
                    var p = 1 / 0;
                    null !== c ? p = c.count : void 0 !== u && (p = u.count);
                    var f = i.drawRange.start * h, m = i.drawRange.count * h, g = null !== o ? o.start * h : 0,
                        v = null !== o ? o.count * h : 1 / 0, y = Math.max(f, g), _ = Math.min(p, f + m, g + v) - 1,
                        x = Math.max(0, _ - y + 1);
                    if (0 !== x) {
                        if (r.isMesh)if (!0 === n.wireframe) E.setLineWidth(n.wireframeLinewidth * At()), d.setMode(1); else switch (r.drawMode) {
                            case ue:
                                d.setMode(4);
                                break;
                            case he:
                                d.setMode(5);
                                break;
                            case de:
                                d.setMode(6)
                        } else if (r.isLine) {
                            var b = n.linewidth;
                            void 0 === b && (b = 1), E.setLineWidth(b * At()), r.isLineSegments ? d.setMode(1) : r.isLineLoop ? d.setMode(2) : d.setMode(3)
                        } else r.isPoints ? d.setMode(0) : r.isSprite && d.setMode(4);
                        i && i.isInstancedBufferGeometry ? i.maxInstancedCount > 0 && d.renderInstances(i, y, x) : d.render(y, x)
                    }
                }, this.compile = function (t, e) {
                    (M = z.get(t, e)).init(), t.traverse(function (t) {
                        t.isLight && (M.pushLight(t), t.castShadow && M.pushShadow(t))
                    }), M.setupLights(e), t.traverse(function (e) {
                        if (e.material)if (Array.isArray(e.material))for (var i = 0; i < e.material.length; i++)Bt(e.material[i], t.fog, e); else Bt(e.material, t.fog, e)
                    })
                };
                var Dt = null;
                var zt = new mi;

                function jt(t, e, i, n) {
                    for (var r = 0, o = t.length; r < o; r++) {
                        var a = t[r], s = a.object, l = a.geometry, c = void 0 === n ? a.material : n, u = a.group;
                        if (i.isArrayCamera) {
                            at = i;
                            for (var h = i.cameras, d = 0, p = h.length; d < p; d++) {
                                var f = h[d];
                                s.layers.test(f.layers) && (E.viewport(st.copy(f.viewport)), M.setupLights(f), Ft(s, e, f, l, c, u))
                            }
                        } else at = null, Ft(s, e, i, l, c, u)
                    }
                }

                function Ft(t, e, i, n, r, o) {
                    if (t.onBeforeRender(Q, e, i, n, r, o), M = z.get(e, at || i), t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, t.matrixWorld), t.normalMatrix.getNormalMatrix(t.modelViewMatrix), t.isImmediateRenderObject) {
                        E.setMaterial(r);
                        var a = Ut(i, e.fog, r, t);
                        K.reset(), function (t, e) {
                            t.render(function (t) {
                                Q.renderBufferImmediate(t, e)
                            })
                        }(t, a)
                    } else Q.renderBufferDirect(i, e.fog, n, r, t, o);
                    t.onAfterRender(Q, e, i, n, r, o), M = z.get(e, at || i)
                }

                function Bt(t, e, i) {
                    var n = O.get(t), r = M.state.lights, o = M.state.shadowsArray, a = n.lightsHash, s = r.state.hash,
                        l = R.getParameters(t, r.state, o, e, _t.numPlanes, _t.numIntersection, i),
                        c = R.getProgramCode(t, l), u = n.program, h = !0;
                    if (void 0 === u) t.addEventListener("dispose", Nt); else if (u.code !== c) Rt(t); else if (a.stateID !== s.stateID || a.directionalLength !== s.directionalLength || a.pointLength !== s.pointLength || a.spotLength !== s.spotLength || a.rectAreaLength !== s.rectAreaLength || a.hemiLength !== s.hemiLength || a.shadowsLength !== s.shadowsLength) a.stateID = s.stateID, a.directionalLength = s.directionalLength, a.pointLength = s.pointLength, a.spotLength = s.spotLength, a.rectAreaLength = s.rectAreaLength, a.hemiLength = s.hemiLength, a.shadowsLength = s.shadowsLength, h = !1; else {
                        if (void 0 !== l.shaderID)return;
                        h = !1
                    }
                    if (h) {
                        if (l.shaderID) {
                            var d = fi[l.shaderID];
                            n.shader = {
                                name: t.type,
                                uniforms: ri(d.uniforms),
                                vertexShader: d.vertexShader,
                                fragmentShader: d.fragmentShader
                            }
                        } else n.shader = {
                            name: t.type,
                            uniforms: t.uniforms,
                            vertexShader: t.vertexShader,
                            fragmentShader: t.fragmentShader
                        };
                        t.onBeforeCompile(n.shader, Q), c = R.getProgramCode(t, l), u = R.acquireProgram(t, n.shader, l, c), n.program = u, t.program = u
                    }
                    var p = u.getAttributes();
                    if (t.morphTargets) {
                        t.numSupportedMorphTargets = 0;
                        for (var f = 0; f < Q.maxMorphTargets; f++)p["morphTarget" + f] >= 0 && t.numSupportedMorphTargets++
                    }
                    if (t.morphNormals) {
                        t.numSupportedMorphNormals = 0;
                        for (f = 0; f < Q.maxMorphNormals; f++)p["morphNormal" + f] >= 0 && t.numSupportedMorphNormals++
                    }
                    var m = n.shader.uniforms;
                    (t.isShaderMaterial || t.isRawShaderMaterial) && !0 !== t.clipping || (n.numClippingPlanes = _t.numPlanes, n.numIntersection = _t.numIntersection, m.clippingPlanes = _t.uniform), n.fog = e, void 0 === a && (n.lightsHash = a = {}), a.stateID = s.stateID, a.directionalLength = s.directionalLength, a.pointLength = s.pointLength, a.spotLength = s.spotLength, a.rectAreaLength = s.rectAreaLength, a.hemiLength = s.hemiLength, a.shadowsLength = s.shadowsLength, t.lights && (m.ambientLightColor.value = r.state.ambient, m.lightProbe.value = r.state.probe, m.directionalLights.value = r.state.directional, m.spotLights.value = r.state.spot, m.rectAreaLights.value = r.state.rectArea, m.pointLights.value = r.state.point, m.hemisphereLights.value = r.state.hemi, m.directionalShadowMap.value = r.state.directionalShadowMap, m.directionalShadowMatrix.value = r.state.directionalShadowMatrix, m.spotShadowMap.value = r.state.spotShadowMap, m.spotShadowMatrix.value = r.state.spotShadowMatrix, m.pointShadowMap.value = r.state.pointShadowMap, m.pointShadowMatrix.value = r.state.pointShadowMatrix);
                    var g = n.program.getUniforms(), v = dr.seqWithValue(g.seq, m);
                    n.uniformsList = v
                }

                function Ut(t, e, i, n) {
                    L.resetTextureUnits();
                    var r = O.get(i), o = M.state.lights, a = r.lightsHash, s = o.state.hash;
                    if (xt && (bt || t !== ot)) {
                        var l = t === ot && i.id === rt;
                        _t.setState(i.clippingPlanes, i.clipIntersection, i.clipShadows, t, r, l)
                    }
                    !1 === i.needsUpdate && (void 0 === r.program ? i.needsUpdate = !0 : i.fog && r.fog !== e ? i.needsUpdate = !0 : (!i.lights || a.stateID === s.stateID && a.directionalLength === s.directionalLength && a.pointLength === s.pointLength && a.spotLength === s.spotLength && a.rectAreaLength === s.rectAreaLength && a.hemiLength === s.hemiLength && a.shadowsLength === s.shadowsLength) && (void 0 === r.numClippingPlanes || r.numClippingPlanes === _t.numPlanes && r.numIntersection === _t.numIntersection) || (i.needsUpdate = !0)), i.needsUpdate && (Bt(i, e, n), i.needsUpdate = !1);
                    var c, u, h = !1, p = !1, f = !1, m = r.program, g = m.getUniforms(), v = r.shader.uniforms;
                    if (E.useProgram(m.program) && (h = !0, p = !0, f = !0), i.id !== rt && (rt = i.id, p = !0), h || ot !== t) {
                        if (g.setValue(T, "projectionMatrix", t.projectionMatrix), P.logarithmicDepthBuffer && g.setValue(T, "logDepthBufFC", 2 / (Math.log(t.far + 1) / Math.LN2)), ot !== t && (ot = t, p = !0, f = !0), i.isShaderMaterial || i.isMeshPhongMaterial || i.isMeshStandardMaterial || i.envMap) {
                            var y = g.map.cameraPosition;
                            void 0 !== y && y.setValue(T, St.setFromMatrixPosition(t.matrixWorld))
                        }
                        (i.isMeshPhongMaterial || i.isMeshLambertMaterial || i.isMeshBasicMaterial || i.isMeshStandardMaterial || i.isShaderMaterial || i.skinning) && g.setValue(T, "viewMatrix", t.matrixWorldInverse)
                    }
                    if (i.skinning) {
                        g.setOptional(T, n, "bindMatrix"), g.setOptional(T, n, "bindMatrixInverse");
                        var _ = n.skeleton;
                        if (_) {
                            var x = _.bones;
                            if (P.floatVertexTextures) {
                                if (void 0 === _.boneTexture) {
                                    var b = Math.sqrt(4 * x.length);
                                    b = Me.ceilPowerOfTwo(b), b = Math.max(b, 4);
                                    var w = new Float32Array(b * b * 4);
                                    w.set(_.boneMatrices);
                                    var S = new Ze(w, b, b, kt, Mt);
                                    S.needsUpdate = !0, _.boneMatrices = w, _.boneTexture = S, _.boneTextureSize = b
                                }
                                g.setValue(T, "boneTexture", _.boneTexture, L), g.setValue(T, "boneTextureSize", _.boneTextureSize)
                            } else g.setOptional(T, _, "boneMatrices")
                        }
                    }
                    return p && (g.setValue(T, "toneMappingExposure", Q.toneMappingExposure), g.setValue(T, "toneMappingWhitePoint", Q.toneMappingWhitePoint), i.lights && (u = f, (c = v).ambientLightColor.needsUpdate = u, c.lightProbe.needsUpdate = u, c.directionalLights.needsUpdate = u, c.pointLights.needsUpdate = u, c.spotLights.needsUpdate = u, c.rectAreaLights.needsUpdate = u, c.hemisphereLights.needsUpdate = u), e && i.fog && function (t, e) {
                        t.fogColor.value.copy(e.color), e.isFog ? (t.fogNear.value = e.near, t.fogFar.value = e.far) : e.isFogExp2 && (t.fogDensity.value = e.density)
                    }(v, e), i.isMeshBasicMaterial ? Gt(v, i) : i.isMeshLambertMaterial ? (Gt(v, i), function (t, e) {
                        e.emissiveMap && (t.emissiveMap.value = e.emissiveMap)
                    }(v, i)) : i.isMeshPhongMaterial ? (Gt(v, i), i.isMeshToonMaterial ? function (t, e) {
                        $t(t, e), e.gradientMap && (t.gradientMap.value = e.gradientMap)
                    }(v, i) : $t(v, i)) : i.isMeshStandardMaterial ? (Gt(v, i), i.isMeshPhysicalMaterial ? function (t, e) {
                        Vt(t, e), t.reflectivity.value = e.reflectivity, t.clearCoat.value = e.clearCoat, t.clearCoatRoughness.value = e.clearCoatRoughness
                    }(v, i) : Vt(v, i)) : i.isMeshMatcapMaterial ? (Gt(v, i), function (t, e) {
                        e.matcap && (t.matcap.value = e.matcap);
                        e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === d && (t.bumpScale.value *= -1));
                        e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === d && t.normalScale.value.negate());
                        e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                    }(v, i)) : i.isMeshDepthMaterial ? (Gt(v, i), function (t, e) {
                        e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                    }(v, i)) : i.isMeshDistanceMaterial ? (Gt(v, i), function (t, e) {
                        e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias);
                        t.referencePosition.value.copy(e.referencePosition), t.nearDistance.value = e.nearDistance, t.farDistance.value = e.farDistance
                    }(v, i)) : i.isMeshNormalMaterial ? (Gt(v, i), function (t, e) {
                        e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === d && (t.bumpScale.value *= -1));
                        e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === d && t.normalScale.value.negate());
                        e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                    }(v, i)) : i.isLineBasicMaterial ? (function (t, e) {
                        t.diffuse.value.copy(e.color), t.opacity.value = e.opacity
                    }(v, i), i.isLineDashedMaterial && function (t, e) {
                        t.dashSize.value = e.dashSize, t.totalSize.value = e.dashSize + e.gapSize, t.scale.value = e.scale
                    }(v, i)) : i.isPointsMaterial ? function (t, e) {
                        t.diffuse.value.copy(e.color), t.opacity.value = e.opacity, t.size.value = e.size * dt, t.scale.value = .5 * ht, t.map.value = e.map, null !== e.map && (!0 === e.map.matrixAutoUpdate && e.map.updateMatrix(), t.uvTransform.value.copy(e.map.matrix))
                    }(v, i) : i.isSpriteMaterial ? function (t, e) {
                        t.diffuse.value.copy(e.color), t.opacity.value = e.opacity, t.rotation.value = e.rotation, t.map.value = e.map, null !== e.map && (!0 === e.map.matrixAutoUpdate && e.map.updateMatrix(), t.uvTransform.value.copy(e.map.matrix))
                    }(v, i) : i.isShadowMaterial && (v.color.value.copy(i.color), v.opacity.value = i.opacity), void 0 !== v.ltc_1 && (v.ltc_1.value = pi.LTC_1), void 0 !== v.ltc_2 && (v.ltc_2.value = pi.LTC_2), dr.upload(T, r.uniformsList, v, L)), i.isShaderMaterial && !0 === i.uniformsNeedUpdate && (dr.upload(T, r.uniformsList, v, L), i.uniformsNeedUpdate = !1), i.isSpriteMaterial && g.setValue(T, "center", n.center), g.setValue(T, "modelViewMatrix", n.modelViewMatrix), g.setValue(T, "normalMatrix", n.normalMatrix), g.setValue(T, "modelMatrix", n.matrixWorld), m
                }

                function Gt(t, e) {
                    var i;
                    t.opacity.value = e.opacity, e.color && t.diffuse.value.copy(e.color), e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity), e.map && (t.map.value = e.map), e.alphaMap && (t.alphaMap.value = e.alphaMap), e.specularMap && (t.specularMap.value = e.specularMap), e.envMap && (t.envMap.value = e.envMap, t.flipEnvMap.value = e.envMap.isCubeTexture ? -1 : 1, t.reflectivity.value = e.reflectivity, t.refractionRatio.value = e.refractionRatio, t.maxMipLevel.value = O.get(e.envMap).__maxMipLevel), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.aoMap && (t.aoMap.value = e.aoMap, t.aoMapIntensity.value = e.aoMapIntensity), e.map ? i = e.map : e.specularMap ? i = e.specularMap : e.displacementMap ? i = e.displacementMap : e.normalMap ? i = e.normalMap : e.bumpMap ? i = e.bumpMap : e.roughnessMap ? i = e.roughnessMap : e.metalnessMap ? i = e.metalnessMap : e.alphaMap ? i = e.alphaMap : e.emissiveMap && (i = e.emissiveMap), void 0 !== i && (i.isWebGLRenderTarget && (i = i.texture), !0 === i.matrixAutoUpdate && i.updateMatrix(), t.uvTransform.value.copy(i.matrix))
                }

                function $t(t, e) {
                    t.specular.value.copy(e.specular), t.shininess.value = Math.max(e.shininess, 1e-4), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === d && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === d && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias)
                }

                function Vt(t, e) {
                    t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale, e.side === d && (t.bumpScale.value *= -1)), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale), e.side === d && t.normalScale.value.negate()), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), e.envMap && (t.envMapIntensity.value = e.envMapIntensity)
                }

                zt.setAnimationLoop(function (t) {
                    Ct.isPresenting() || Dt && Dt(t)
                }), "undefined" != typeof window && zt.setContext(window), this.setAnimationLoop = function (t) {
                    Dt = t, Ct.setAnimationLoop(t), zt.start()
                }, this.render = function (t, e) {
                    var i, n;
                    if (void 0 !== arguments[2] && (i = arguments[2]), void 0 !== arguments[3] && (n = arguments[3]), e && e.isCamera && !tt) {
                        K.resetDefaultState(), rt = -1, ot = null, !0 === t.autoUpdate && t.updateMatrixWorld(), null === e.parent && e.updateMatrixWorld(), Ct.enabled && (e = Ct.getCamera(e)), (M = z.get(t, e)).init(), t.onBeforeRender(Q, t, e, i || it), wt.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), vt.setFromMatrix(wt), bt = this.localClippingEnabled, xt = _t.init(this.clippingPlanes, bt, e), (g = D.get(t, e)).init(), function t(e, i, n, r) {
                            if (!1 === e.visible)return;
                            var o = e.layers.test(i.layers);
                            if (o)if (e.isGroup) n = e.renderOrder; else if (e.isLight) M.pushLight(e), e.castShadow && M.pushShadow(e); else if (e.isSprite) {
                                if (!e.frustumCulled || vt.intersectsSprite(e)) {
                                    r && St.setFromMatrixPosition(e.matrixWorld).applyMatrix4(wt);
                                    var a = N.update(e), s = e.material;
                                    s.visible && g.push(e, a, s, n, St.z, null)
                                }
                            } else if (e.isImmediateRenderObject) r && St.setFromMatrixPosition(e.matrixWorld).applyMatrix4(wt), g.push(e, null, e.material, n, St.z, null); else if ((e.isMesh || e.isLine || e.isPoints) && (e.isSkinnedMesh && e.skeleton.update(), !e.frustumCulled || vt.intersectsObject(e))) {
                                r && St.setFromMatrixPosition(e.matrixWorld).applyMatrix4(wt);
                                var a = N.update(e), s = e.material;
                                if (Array.isArray(s))for (var l = a.groups, c = 0, u = l.length; c < u; c++) {
                                    var h = l[c], d = s[h.materialIndex];
                                    d && d.visible && g.push(e, a, d, n, St.z, h)
                                } else s.visible && g.push(e, a, s, n, St.z, null)
                            }
                            var p = e.children;
                            for (var c = 0, u = p.length; c < u; c++)t(p[c], i, n, r)
                        }(t, e, 0, Q.sortObjects), !0 === Q.sortObjects && g.sort(), xt && _t.beginShadows();
                        var r = M.state.shadowsArray;
                        Ot.render(r, t, e), M.setupLights(e), xt && _t.endShadows(), this.info.autoReset && this.info.reset(), void 0 !== i && this.setRenderTarget(i), j.render(g, t, e, n);
                        var o = g.opaque, a = g.transparent;
                        if (t.overrideMaterial) {
                            var s = t.overrideMaterial;
                            o.length && jt(o, t, e, s), a.length && jt(a, t, e, s)
                        } else o.length && jt(o, t, e), a.length && jt(a, t, e);
                        t.onAfterRender(Q, t, e), null !== it && (L.updateRenderTargetMipmap(it), L.updateMultisampleRenderTarget(it)), E.buffers.depth.setTest(!0), E.buffers.depth.setMask(!0), E.buffers.color.setMask(!0), E.setPolygonOffset(!1), Ct.enabled && Ct.submitFrame(), g = null, M = null
                    }
                }, this.setFramebuffer = function (t) {
                    et = t
                }, this.getRenderTarget = function () {
                    return it
                }, this.setRenderTarget = function (t, e, i) {
                    it = t, t && void 0 === O.get(t).__webglFramebuffer && L.setupRenderTarget(t);
                    var n = et, r = !1;
                    if (t) {
                        var o = O.get(t).__webglFramebuffer;
                        t.isWebGLRenderTargetCube ? (n = o[e || 0], r = !0) : n = t.isWebGLMultisampleRenderTarget ? O.get(t).__webglMultisampledFramebuffer : o, st.copy(t.viewport), lt.copy(t.scissor), ct = t.scissorTest
                    } else st.copy(pt).multiplyScalar(dt), lt.copy(ft).multiplyScalar(dt), ct = mt;
                    if (nt !== n && (T.bindFramebuffer(36160, n), nt = n, P.multiRenderTarget)) {
                        var a = !1;
                        if (t && t.isWebGLMultiRenderTarget) {
                            if (gt.length !== t.textures.length || 36064 !== gt[0]) {
                                for (var s = 0, l = t.textures.length; s < l; s++)gt[s] = 36064 + s;
                                gt.length = t.textures.length, a = !0
                            }
                        } else t ? 1 === gt.length && 36064 === gt[0] || (gt[0] = 36064, gt.length = 1, a = !0) : 1 === gt.length && 1029 === gt[0] || (gt[0] = 1029, gt.length = 1, a = !0);
                        a && (P.isWebGL2 ? T.drawBuffers(gt) : A.get("WEBGL_draw_buffers").drawBuffersWEBGL(gt))
                    }
                    if (E.viewport(st), E.scissor(lt), E.setScissorTest(ct), r) {
                        var c = O.get(t.texture);
                        T.framebufferTexture2D(36160, 36064, 34069 + (e || 0), c.__webglTexture, i || 0)
                    }
                }, this.readRenderTargetPixels = function (t, e, i, n, r, o) {
                    if (t && t.isWebGLRenderTarget) {
                        var a = O.get(t).__webglFramebuffer;
                        if (a) {
                            var s = !1;
                            a !== nt && (T.bindFramebuffer(36160, a), s = !0);
                            try {
                                var l = t.texture, c = l.format, u = l.type;
                                if (c !== kt && J.convert(c) !== T.getParameter(35739))return;
                                if (!(u === yt || J.convert(u) === T.getParameter(35738) || u === Mt && (P.isWebGL2 || A.get("OES_texture_float") || A.get("WEBGL_color_buffer_float")) || u === Tt && (P.isWebGL2 ? A.get("EXT_color_buffer_float") : A.get("EXT_color_buffer_half_float"))))return;
                                36053 === T.checkFramebufferStatus(36160) && e >= 0 && e <= t.width - n && i >= 0 && i <= t.height - r && T.readPixels(e, i, n, r, J.convert(c), J.convert(u), o)
                            } finally {
                                s && T.bindFramebuffer(36160, nt)
                            }
                        }
                    }
                }, this.copyFramebufferToTexture = function (t, e, i) {
                    var n = e.image.width, r = e.image.height, o = J.convert(e.format);
                    L.setTexture2D(e, 0), T.copyTexImage2D(3553, i || 0, o, t.x, t.y, n, r, 0)
                }, this.copyTextureToTexture = function (t, e, i, n) {
                    var r = e.image.width, o = e.image.height, a = J.convert(i.format), s = J.convert(i.type);
                    L.setTexture2D(i, 0), e.isDataTexture ? T.texSubImage2D(3553, n || 0, t.x, t.y, r, o, a, s, e.image.data) : T.texSubImage2D(3553, n || 0, t.x, t.y, a, s, e.image)
                }
            }

            function Jr(t, e) {
                this.name = "", this.color = new hi(t), this.density = void 0 !== e ? e : 25e-5
            }

            function Zr(t, e, i) {
                this.name = "", this.color = new hi(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== i ? i : 1e3
            }

            function Kr() {
                Ti.call(this), this.type = "Scene", this.background = null, this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0
            }

            function Qr(t, e) {
                this._array = t, this._stride = e, this.count = void 0 !== t ? t.length / e : 0, this.dynamic = !1, this.updateRange = {
                    offset: 0,
                    count: -1
                }, this.version = 0, this.versionVAO = 0
            }

            function to(t, e, i, n) {
                this._data = t, this._itemSize = e, this._offset = i, this._normalized = !0 === n, this.versionVAO = 0
            }

            function eo(t) {
                Yi.call(this), this.type = "SpriteMaterial", this.color = new hi(16777215), this.map = null, this.rotation = 0, this.sizeAttenuation = !0, this.lights = !1, this.transparent = !0, this.setValues(t)
            }

            function io(t) {
                if (Ti.call(this), this.type = "Sprite", void 0 === Fr) {
                    Fr = new $i;
                    var e = new Qr(new Float32Array([-.5, -.5, 0, 0, 0, .5, -.5, 0, 1, 0, .5, .5, 0, 1, 1, -.5, .5, 0, 0, 1]), 5);
                    Fr.setIndex([0, 1, 2, 0, 2, 3]), Fr.addAttribute("position", new to(e, 3, 0, !1)), Fr.addAttribute("uv", new to(e, 2, 3, !1))
                }
                this.geometry = Fr, this.material = void 0 !== t ? t : new eo, this.center = new Te(.5, .5)
            }

            function no() {
                Ti.call(this), this.type = "LOD", Object.defineProperties(this, {levels: {enumerable: !0, value: []}})
            }

            function ro(t, e) {
                t && t.isGeometry, mn.call(this, t, e), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new ii, this.bindMatrixInverse = new ii
            }

            function oo(t, e) {
                if (t = t || [], this.bones = t.slice(0), this.boneMatrices = new Float32Array(16 * this.bones.length), void 0 === e) this.calculateInverses(); else if (this.bones.length === e.length) this.boneInverses = e.slice(0); else {
                    this.boneInverses = [];
                    for (var i = 0, n = this.bones.length; i < n; i++)this.boneInverses.push(new ii)
                }
            }

            function ao() {
                Ti.call(this), this.type = "Bone"
            }

            function so(t) {
                Yi.call(this), this.type = "LineBasicMaterial", this.color = new hi(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.lights = !1, this.setValues(t)
            }

            function lo(t, e, i) {
                Ti.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new $i, this.material = void 0 !== e ? e : new so({color: 16777215 * Math.random()})
            }

            function co(t, e) {
                lo.call(this, t, e), this.type = "LineSegments"
            }

            function uo(t, e) {
                lo.call(this, t, e), this.type = "LineLoop"
            }

            function ho(t) {
                Yi.call(this), this.type = "PointsMaterial", this.color = new hi(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.morphTargets = !1, this.lights = !1, this.setValues(t)
            }

            function po(t, e) {
                Ti.call(this), this.type = "Points", this.geometry = void 0 !== t ? t : new $i, this.material = void 0 !== e ? e : new ho({color: 16777215 * Math.random()})
            }

            function fo(t, e, i, n, r, o, a, s, l) {
                We.call(this, t, e, i, n, r, o, a, s, l), this.format = void 0 !== a ? a : Lt, this.minFilter = void 0 !== o ? o : mt, this.magFilter = void 0 !== r ? r : mt, this.generateMipmaps = !1
            }

            function mo(t, e, i, n, r, o, a, s, l, c, u, h) {
                We.call(this, null, o, a, s, l, c, n, r, u, h), this.image = {
                    width: e,
                    height: i
                }, this.mipmaps = t, this.flipY = !1, this.generateMipmaps = !1
            }

            function go(t, e, i, n, r, o, a, s, l) {
                We.call(this, t, e, i, n, r, o, a, s, l), this.needsUpdate = !0
            }

            function vo(t, e, i, n, r, o, a, s, l, c) {
                if ((c = void 0 !== c ? c : Dt) !== Dt && c !== zt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
                void 0 === i && c === Dt && (i = bt), void 0 === i && c === zt && (i = Ct), We.call(this, null, n, r, o, a, s, c, i, l), this.image = {
                    width: t,
                    height: e
                }, this.magFilter = void 0 !== a ? a : dt, this.minFilter = void 0 !== s ? s : dt, this.flipY = !1, this.generateMipmaps = !1
            }

            function yo(t) {
                $i.call(this), this.type = "WireframeGeometry";
                var e, i, n, r, o, a, s, l, c, u, h = [], d = [0, 0], p = {}, f = ["a", "b", "c"];
                if (t && t.isGeometry) {
                    var m = t.faces;
                    for (e = 0, n = m.length; e < n; e++) {
                        var g = m[e];
                        for (i = 0; i < 3; i++)s = g[f[i]], l = g[f[(i + 1) % 3]], d[0] = Math.min(s, l), d[1] = Math.max(s, l), void 0 === p[c = d[0] + "," + d[1]] && (p[c] = {
                            index1: d[0],
                            index2: d[1]
                        })
                    }
                    for (c in p)a = p[c], u = t.vertices[a.index1], h.push(u.x, u.y, u.z), u = t.vertices[a.index2], h.push(u.x, u.y, u.z)
                } else if (t && t.isBufferGeometry) {
                    var v, y, _, x, b, w, S;
                    if (u = new Pe, null !== t.index) {
                        for (v = t.attributes.position, y = t.index, 0 === (_ = t.groups).length && (_ = [{
                            start: 0,
                            count: y.count,
                            materialIndex: 0
                        }]), r = 0, o = _.length; r < o; ++r)for (e = b = (x = _[r]).start, n = b + x.count; e < n; e += 3)for (i = 0; i < 3; i++)s = y.getX(e + i), l = y.getX(e + (i + 1) % 3), d[0] = Math.min(s, l), d[1] = Math.max(s, l), void 0 === p[c = d[0] + "," + d[1]] && (p[c] = {
                            index1: d[0],
                            index2: d[1]
                        });
                        for (c in p)a = p[c], u.fromBufferAttribute(v, a.index1), h.push(u.x, u.y, u.z), u.fromBufferAttribute(v, a.index2), h.push(u.x, u.y, u.z)
                    } else for (e = 0, n = (v = t.attributes.position).count / 3; e < n; e++)for (i = 0; i < 3; i++)w = 3 * e + i, u.fromBufferAttribute(v, w), h.push(u.x, u.y, u.z), S = 3 * e + (i + 1) % 3, u.fromBufferAttribute(v, S), h.push(u.x, u.y, u.z)
                }
                this.addAttribute("position", new ji(h, 3))
            }

            function _o(t, e, i) {
                Ci.call(this), this.type = "ParametricGeometry", this.parameters = {
                    func: t,
                    slices: e,
                    stacks: i
                }, this.fromBufferGeometry(new xo(t, e, i)), this.mergeVertices()
            }

            function xo(t, e, i) {
                $i.call(this), this.type = "ParametricBufferGeometry", this.parameters = {
                    func: t,
                    slices: e,
                    stacks: i
                };
                var n, r, o = [], a = [], s = [], l = [], c = new Pe, u = new Pe, h = new Pe, d = new Pe, p = new Pe;
                t.length;
                var f = e + 1;
                for (n = 0; n <= i; n++) {
                    var m = n / i;
                    for (r = 0; r <= e; r++) {
                        var g = r / e;
                        t(g, m, u), a.push(u.x, u.y, u.z), g - 1e-5 >= 0 ? (t(g - 1e-5, m, h), d.subVectors(u, h)) : (t(g + 1e-5, m, h), d.subVectors(h, u)), m - 1e-5 >= 0 ? (t(g, m - 1e-5, h), p.subVectors(u, h)) : (t(g, m + 1e-5, h), p.subVectors(h, u)), c.crossVectors(d, p).normalize(), s.push(c.x, c.y, c.z), l.push(g, m)
                    }
                }
                for (n = 0; n < i; n++)for (r = 0; r < e; r++) {
                    var v = n * f + r, y = n * f + r + 1, _ = (n + 1) * f + r + 1, x = (n + 1) * f + r;
                    o.push(v, y, x), o.push(y, _, x)
                }
                this.setIndex(o), this.addAttribute("position", new ji(a, 3)), this.addAttribute("normal", new ji(s, 3)), this.addAttribute("uv", new ji(l, 2))
            }

            function bo(t, e, i, n) {
                Ci.call(this), this.type = "PolyhedronGeometry", this.parameters = {
                    vertices: t,
                    indices: e,
                    radius: i,
                    detail: n
                }, this.fromBufferGeometry(new wo(t, e, i, n)), this.mergeVertices()
            }

            function wo(t, e, i, n) {
                $i.call(this), this.type = "PolyhedronBufferGeometry", this.parameters = {
                    vertices: t,
                    indices: e,
                    radius: i,
                    detail: n
                }, i = i || 1;
                var r = [], o = [];

                function a(t, e, i, n) {
                    var r, o, a = Math.pow(2, n), l = [];
                    for (r = 0; r <= a; r++) {
                        l[r] = [];
                        var c = t.clone().lerp(i, r / a), u = e.clone().lerp(i, r / a), h = a - r;
                        for (o = 0; o <= h; o++)l[r][o] = 0 === o && r === a ? c : c.clone().lerp(u, o / h)
                    }
                    for (r = 0; r < a; r++)for (o = 0; o < 2 * (a - r) - 1; o++) {
                        var d = Math.floor(o / 2);
                        o % 2 == 0 ? (s(l[r][d + 1]), s(l[r + 1][d]), s(l[r][d])) : (s(l[r][d + 1]), s(l[r + 1][d + 1]), s(l[r + 1][d]))
                    }
                }

                function s(t) {
                    r.push(t.x, t.y, t.z)
                }

                function l(e, i) {
                    var n = 3 * e;
                    i.x = t[n + 0], i.y = t[n + 1], i.z = t[n + 2]
                }

                function c(t, e, i, n) {
                    n < 0 && 1 === t.x && (o[e] = t.x - 1), 0 === i.x && 0 === i.z && (o[e] = n / 2 / Math.PI + .5)
                }

                function u(t) {
                    return Math.atan2(t.z, -t.x)
                }

                !function (t) {
                    for (var i = new Pe, n = new Pe, r = new Pe, o = 0; o < e.length; o += 3)l(e[o + 0], i), l(e[o + 1], n), l(e[o + 2], r), a(i, n, r, t)
                }(n = n || 0), function (t) {
                    for (var e = new Pe, i = 0; i < r.length; i += 3)e.x = r[i + 0], e.y = r[i + 1], e.z = r[i + 2], e.normalize().multiplyScalar(t), r[i + 0] = e.x, r[i + 1] = e.y, r[i + 2] = e.z
                }(i), function () {
                    for (var t = new Pe, e = 0; e < r.length; e += 3) {
                        t.x = r[e + 0], t.y = r[e + 1], t.z = r[e + 2];
                        var i = u(t) / 2 / Math.PI + .5,
                            n = (a = t, Math.atan2(-a.y, Math.sqrt(a.x * a.x + a.z * a.z)) / Math.PI + .5);
                        o.push(i, 1 - n)
                    }
                    var a;
                    (function () {
                        for (var t = new Pe, e = new Pe, i = new Pe, n = new Pe, a = new Te, s = new Te, l = new Te, h = 0, d = 0; h < r.length; h += 9, d += 6) {
                            t.set(r[h + 0], r[h + 1], r[h + 2]), e.set(r[h + 3], r[h + 4], r[h + 5]), i.set(r[h + 6], r[h + 7], r[h + 8]), a.set(o[d + 0], o[d + 1]), s.set(o[d + 2], o[d + 3]), l.set(o[d + 4], o[d + 5]), n.copy(t).add(e).add(i).divideScalar(3);
                            var p = u(n);
                            c(a, d + 0, t, p), c(s, d + 2, e, p), c(l, d + 4, i, p)
                        }
                    })(), function () {
                        for (var t = 0; t < o.length; t += 6) {
                            var e = o[t + 0], i = o[t + 2], n = o[t + 4], r = Math.max(e, i, n), a = Math.min(e, i, n);
                            r > .9 && a < .1 && (e < .2 && (o[t + 0] += 1), i < .2 && (o[t + 2] += 1), n < .2 && (o[t + 4] += 1))
                        }
                    }()
                }(), this.addAttribute("position", new ji(r, 3)), this.addAttribute("normal", new ji(r.slice(), 3)), this.addAttribute("uv", new ji(o, 2)), 0 === n ? this.computeVertexNormals() : this.normalizeNormals()
            }

            function So(t, e) {
                Ci.call(this), this.type = "TetrahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Mo(t, e)), this.mergeVertices()
            }

            function Mo(t, e) {
                wo.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], t, e), this.type = "TetrahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function To(t, e) {
                Ci.call(this), this.type = "OctahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Ao(t, e)), this.mergeVertices()
            }

            function Ao(t, e) {
                wo.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], t, e), this.type = "OctahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Po(t, e) {
                Ci.call(this), this.type = "IcosahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Eo(t, e)), this.mergeVertices()
            }

            function Eo(t, e) {
                var i = (1 + Math.sqrt(5)) / 2,
                    n = [-1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, 0, 0, -1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, i, 0, -1, i, 0, 1, -i, 0, -1, -i, 0, 1];
                wo.call(this, n, [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], t, e), this.type = "IcosahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Co(t, e) {
                Ci.call(this), this.type = "DodecahedronGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }, this.fromBufferGeometry(new Oo(t, e)), this.mergeVertices()
            }

            function Oo(t, e) {
                var i = (1 + Math.sqrt(5)) / 2, n = 1 / i,
                    r = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, 0, -i, 0, -n, i, 0, -n, -i, 0, n, i, 0, n];
                wo.call(this, r, [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], t, e), this.type = "DodecahedronBufferGeometry", this.parameters = {
                    radius: t,
                    detail: e
                }
            }

            function Lo(t, e, i, n, r, o) {
                Ci.call(this), this.type = "TubeGeometry", this.parameters = {
                    path: t,
                    tubularSegments: e,
                    radius: i,
                    radialSegments: n,
                    closed: r
                };
                var a = new ko(t, e, i, n, r);
                this.tangents = a.tangents, this.normals = a.normals, this.binormals = a.binormals, this.fromBufferGeometry(a), this.mergeVertices()
            }

            function ko(t, e, i, n, r) {
                $i.call(this), this.type = "TubeBufferGeometry", this.parameters = {
                    path: t,
                    tubularSegments: e,
                    radius: i,
                    radialSegments: n,
                    closed: r
                }, e = e || 64, i = i || 1, n = n || 8, r = r || !1;
                var o = t.computeFrenetFrames(e, r);
                this.tangents = o.tangents, this.normals = o.normals, this.binormals = o.binormals;
                var a, s, l = new Pe, c = new Pe, u = new Te, h = new Pe, d = [], p = [], f = [], m = [];

                function g(r) {
                    h = t.getPointAt(r / e, h);
                    var a = o.normals[r], u = o.binormals[r];
                    for (s = 0; s <= n; s++) {
                        var f = s / n * Math.PI * 2, m = Math.sin(f), g = -Math.cos(f);
                        c.x = g * a.x + m * u.x, c.y = g * a.y + m * u.y, c.z = g * a.z + m * u.z, c.normalize(), p.push(c.x, c.y, c.z), l.x = h.x + i * c.x, l.y = h.y + i * c.y, l.z = h.z + i * c.z, d.push(l.x, l.y, l.z)
                    }
                }

                !function () {
                    for (a = 0; a < e; a++)g(a);
                    g(!1 === r ? e : 0), function () {
                        for (a = 0; a <= e; a++)for (s = 0; s <= n; s++)u.x = a / e, u.y = s / n, f.push(u.x, u.y)
                    }(), function () {
                        for (s = 1; s <= e; s++)for (a = 1; a <= n; a++) {
                            var t = (n + 1) * (s - 1) + (a - 1), i = (n + 1) * s + (a - 1), r = (n + 1) * s + a,
                                o = (n + 1) * (s - 1) + a;
                            m.push(t, i, o), m.push(i, r, o)
                        }
                    }()
                }(), this.setIndex(m), this.addAttribute("position", new ji(d, 3)), this.addAttribute("normal", new ji(p, 3)), this.addAttribute("uv", new ji(f, 2))
            }

            function Io(t, e, i, n, r, o, a) {
                Ci.call(this), this.type = "TorusKnotGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    tubularSegments: i,
                    radialSegments: n,
                    p: r,
                    q: o
                }, this.fromBufferGeometry(new No(t, e, i, n, r, o)), this.mergeVertices()
            }

            function No(t, e, i, n, r, o) {
                $i.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    tubularSegments: i,
                    radialSegments: n,
                    p: r,
                    q: o
                }, t = t || 1, e = e || .4, i = Math.floor(i) || 64, n = Math.floor(n) || 8, r = r || 2, o = o || 3;
                var a, s, l = [], c = [], u = [], h = [], d = new Pe, p = new Pe, f = new Pe, m = new Pe, g = new Pe,
                    v = new Pe, y = new Pe;
                for (a = 0; a <= i; ++a) {
                    var _ = a / i * r * Math.PI * 2;
                    for (P(_, r, o, t, f), P(_ + .01, r, o, t, m), v.subVectors(m, f), y.addVectors(m, f), g.crossVectors(v, y), y.crossVectors(g, v), g.normalize(), y.normalize(), s = 0; s <= n; ++s) {
                        var x = s / n * Math.PI * 2, b = -e * Math.cos(x), w = e * Math.sin(x);
                        d.x = f.x + (b * y.x + w * g.x), d.y = f.y + (b * y.y + w * g.y), d.z = f.z + (b * y.z + w * g.z), c.push(d.x, d.y, d.z), p.subVectors(d, f).normalize(), u.push(p.x, p.y, p.z), h.push(a / i), h.push(s / n)
                    }
                }
                for (s = 1; s <= i; s++)for (a = 1; a <= n; a++) {
                    var S = (n + 1) * (s - 1) + (a - 1), M = (n + 1) * s + (a - 1), T = (n + 1) * s + a,
                        A = (n + 1) * (s - 1) + a;
                    l.push(S, M, A), l.push(M, T, A)
                }
                function P(t, e, i, n, r) {
                    var o = Math.cos(t), a = Math.sin(t), s = i / e * t, l = Math.cos(s);
                    r.x = n * (2 + l) * .5 * o, r.y = n * (2 + l) * a * .5, r.z = n * Math.sin(s) * .5
                }

                this.setIndex(l), this.addAttribute("position", new ji(c, 3)), this.addAttribute("normal", new ji(u, 3)), this.addAttribute("uv", new ji(h, 2))
            }

            function Ro(t, e, i, n, r) {
                Ci.call(this), this.type = "TorusGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    radialSegments: i,
                    tubularSegments: n,
                    arc: r
                }, this.fromBufferGeometry(new Do(t, e, i, n, r)), this.mergeVertices()
            }

            function Do(t, e, i, n, r) {
                $i.call(this), this.type = "TorusBufferGeometry", this.parameters = {
                    radius: t,
                    tube: e,
                    radialSegments: i,
                    tubularSegments: n,
                    arc: r
                }, t = t || 1, e = e || .4, i = Math.floor(i) || 8, n = Math.floor(n) || 6, r = r || 2 * Math.PI;
                var o, a, s = [], l = [], c = [], u = [], h = new Pe, d = new Pe, p = new Pe;
                for (o = 0; o <= i; o++)for (a = 0; a <= n; a++) {
                    var f = a / n * r, m = o / i * Math.PI * 2;
                    d.x = (t + e * Math.cos(m)) * Math.cos(f), d.y = (t + e * Math.cos(m)) * Math.sin(f), d.z = e * Math.sin(m), l.push(d.x, d.y, d.z), h.x = t * Math.cos(f), h.y = t * Math.sin(f), p.subVectors(d, h).normalize(), c.push(p.x, p.y, p.z), u.push(a / n), u.push(o / i)
                }
                for (o = 1; o <= i; o++)for (a = 1; a <= n; a++) {
                    var g = (n + 1) * o + a - 1, v = (n + 1) * (o - 1) + a - 1, y = (n + 1) * (o - 1) + a,
                        _ = (n + 1) * o + a;
                    s.push(g, v, _), s.push(v, y, _)
                }
                this.setIndex(s), this.addAttribute("position", new ji(l, 3)), this.addAttribute("normal", new ji(c, 3)), this.addAttribute("uv", new ji(u, 2))
            }

            Object.assign(Jr.prototype, {
                isFogExp2: !0, clone: function () {
                    return new Jr(this.color, this.density)
                }, toJSON: function () {
                    return {type: "FogExp2", color: this.color.getHex(), density: this.density}
                }
            }), Object.assign(Zr.prototype, {
                isFog: !0, clone: function () {
                    return new Zr(this.color, this.near, this.far)
                }, toJSON: function () {
                    return {type: "Fog", color: this.color.getHex(), near: this.near, far: this.far}
                }
            }), Kr.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: Kr,
                isScene: !0,
                copy: function (t, e) {
                    return Ti.prototype.copy.call(this, t, e), null !== t.background && (this.background = t.background.clone()), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this
                },
                toJSON: function (t) {
                    var e = Ti.prototype.toJSON.call(this, t);
                    return null !== this.background && (e.object.background = this.background.toJSON(t)), null !== this.fog && (e.object.fog = this.fog.toJSON()), e
                },
                dispose: function () {
                    this.dispatchEvent({type: "dispose"})
                }
            }), Object.defineProperties(Qr.prototype, {
                needsUpdate: {
                    set: function (t) {
                        !0 === t && this.version++
                    }
                }, array: {
                    get: function () {
                        return this._array
                    }, set: function (t) {
                        this._array = t, this.versionVAO++
                    }
                }, stride: {
                    get: function () {
                        return this._stride
                    }, set: function (t) {
                        this._stride = t, this.versionVAO++
                    }
                }
            }), Object.assign(Qr.prototype, {
                isInterleavedBuffer: !0, onUploadCallback: function () {
                }, setArray: function (t) {
                    if (Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
                    return this.count = void 0 !== t ? t.length / this.stride : 0, this.array = t, this
                }, setDynamic: function (t) {
                    return this.dynamic = t, this
                }, copy: function (t) {
                    return this.array = new t.array.constructor(t.array), this.count = t.count, this.stride = t.stride, this.dynamic = t.dynamic, this
                }, copyAt: function (t, e, i) {
                    t *= this.stride, i *= e.stride;
                    for (var n = 0, r = this.stride; n < r; n++)this.array[t + n] = e.array[i + n];
                    return this
                }, set: function (t, e) {
                    return void 0 === e && (e = 0), this.array.set(t, e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, onUpload: function (t) {
                    return this.onUploadCallback = t, this
                }
            }), Object.defineProperties(to.prototype, {
                count: {
                    get: function () {
                        return this.data.count
                    }
                }, array: {
                    get: function () {
                        return this.data.array
                    }
                }, data: {
                    get: function () {
                        return this._data
                    }, set: function (t) {
                        this._data = t, this.versionVAO++
                    }
                }, itemSize: {
                    get: function () {
                        return this._itemSize
                    }, set: function (t) {
                        this._itemSize = t, this.versionVAO++
                    }
                }, offset: {
                    get: function () {
                        return this._offset
                    }, set: function (t) {
                        this._offset = t, this.versionVAO++
                    }
                }, normalized: {
                    get: function () {
                        return this._normalized
                    }, set: function (t) {
                        this._normalized = t, this.versionVAO++
                    }
                }
            }), Object.assign(to.prototype, {
                isInterleavedBufferAttribute: !0, setX: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset] = e, this
                }, setY: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 1] = e, this
                }, setZ: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 2] = e, this
                }, setW: function (t, e) {
                    return this.data.array[t * this.data.stride + this.offset + 3] = e, this
                }, getX: function (t) {
                    return this.data.array[t * this.data.stride + this.offset]
                }, getY: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 1]
                }, getZ: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 2]
                }, getW: function (t) {
                    return this.data.array[t * this.data.stride + this.offset + 3]
                }, setXY: function (t, e, i) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this
                }, setXYZ: function (t, e, i, n) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this
                }, setXYZW: function (t, e, i, n, r) {
                    return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this.data.array[t + 3] = r, this
                }
            }), eo.prototype = Object.create(Yi.prototype), eo.prototype.constructor = eo, eo.prototype.isSpriteMaterial = !0, eo.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.rotation = t.rotation, this.sizeAttenuation = t.sizeAttenuation, this
            }, io.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: io,
                isSprite: !0,
                raycast: function () {
                    var t = new Pe, e = new Pe, i = new Pe, n = new Te, r = new Te, o = new ii, a = new Pe, s = new Pe,
                        l = new Pe, c = new Te, u = new Te, h = new Te;

                    function d(t, e, i, a, s, l) {
                        n.subVectors(t, i).addScalar(.5).multiply(a), void 0 !== s ? (r.x = l * n.x - s * n.y, r.y = s * n.x + l * n.y) : r.copy(n), t.copy(e), t.x += r.x, t.y += r.y, t.applyMatrix4(o)
                    }

                    return function (n, r) {
                        e.setFromMatrixScale(this.matrixWorld), o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld), i.setFromMatrixPosition(this.modelViewMatrix);
                        var p, f, m = this.material.rotation;
                        0 !== m && (f = Math.cos(m), p = Math.sin(m));
                        var g = this.center;
                        d(a.set(-.5, -.5, 0), i, g, e, p, f), d(s.set(.5, -.5, 0), i, g, e, p, f), d(l.set(.5, .5, 0), i, g, e, p, f), c.set(0, 0), u.set(1, 0), h.set(1, 1);
                        var v = n.ray.intersectTriangle(a, s, l, !1, t);
                        if (null !== v || (d(s.set(-.5, .5, 0), i, g, e, p, f), u.set(0, 1), null !== (v = n.ray.intersectTriangle(a, l, s, !1, t)))) {
                            var y = n.ray.origin.distanceTo(t);
                            y < n.near || y > n.far || r.push({
                                distance: y,
                                point: t.clone(),
                                uv: pn.getUV(t, a, s, l, c, u, h, new Te),
                                face: null,
                                object: this
                            })
                        }
                    }
                }(),
                clone: function () {
                    return new this.constructor(this.material).copy(this)
                },
                copy: function (t) {
                    return Ti.prototype.copy.call(this, t), void 0 !== t.center && this.center.copy(t.center), this
                }
            }), no.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: no,
                isLOD: !0,
                copy: function (t) {
                    Ti.prototype.copy.call(this, t, !1);
                    for (var e = t.levels, i = 0, n = e.length; i < n; i++) {
                        var r = e[i];
                        this.addLevel(r.object.clone(), r.distance)
                    }
                    return this
                },
                addLevel: function (t, e) {
                    void 0 === e && (e = 0), e = Math.abs(e);
                    for (var i = this.levels, n = 0; n < i.length && !(e < i[n].distance); n++);
                    return i.splice(n, 0, {distance: e, object: t}), this.add(t), this
                },
                getObjectForDistance: function (t) {
                    for (var e = this.levels, i = 1, n = e.length; i < n && !(t < e[i].distance); i++);
                    return e[i - 1].object
                },
                raycast: (Br = new Pe, function (t, e) {
                    Br.setFromMatrixPosition(this.matrixWorld);
                    var i = t.ray.origin.distanceTo(Br);
                    this.getObjectForDistance(i).raycast(t, e)
                }),
                update: function () {
                    var t = new Pe, e = new Pe;
                    return function (i) {
                        var n = this.levels;
                        if (n.length > 1) {
                            t.setFromMatrixPosition(i.matrixWorld), e.setFromMatrixPosition(this.matrixWorld);
                            var r = t.distanceTo(e);
                            n[0].object.visible = !0;
                            for (var o = 1, a = n.length; o < a && r >= n[o].distance; o++)n[o - 1].object.visible = !1, n[o].object.visible = !0;
                            for (; o < a; o++)n[o].object.visible = !1
                        }
                    }
                }(),
                toJSON: function (t) {
                    var e = Ti.prototype.toJSON.call(this, t);
                    e.object.levels = [];
                    for (var i = this.levels, n = 0, r = i.length; n < r; n++) {
                        var o = i[n];
                        e.object.levels.push({object: o.object.uuid, distance: o.distance})
                    }
                    return e
                }
            }), ro.prototype = Object.assign(Object.create(mn.prototype), {
                constructor: ro,
                isSkinnedMesh: !0,
                bind: function (t, e) {
                    this.skeleton = t, void 0 === e && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), e = this.matrixWorld), this.bindMatrix.copy(e), this.bindMatrixInverse.getInverse(e)
                },
                pose: function () {
                    this.skeleton.pose()
                },
                normalizeSkinWeights: function () {
                    for (var t = new He, e = this.geometry.attributes.skinWeight, i = 0, n = e.count; i < n; i++) {
                        t.x = e.getX(i), t.y = e.getY(i), t.z = e.getZ(i), t.w = e.getW(i);
                        var r = 1 / t.manhattanLength();
                        r !== 1 / 0 ? t.multiplyScalar(r) : t.set(1, 0, 0, 0), e.setXYZW(i, t.x, t.y, t.z, t.w)
                    }
                },
                updateMatrixWorld: function (t) {
                    mn.prototype.updateMatrixWorld.call(this, t), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode && this.bindMatrixInverse.getInverse(this.bindMatrix)
                },
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), Object.assign(oo.prototype, {
                calculateInverses: function () {
                    this.boneInverses = [];
                    for (var t = 0, e = this.bones.length; t < e; t++) {
                        var i = new ii;
                        this.bones[t] && i.getInverse(this.bones[t].matrixWorld), this.boneInverses.push(i)
                    }
                }, pose: function () {
                    var t, e, i;
                    for (e = 0, i = this.bones.length; e < i; e++)(t = this.bones[e]) && t.matrixWorld.getInverse(this.boneInverses[e]);
                    for (e = 0, i = this.bones.length; e < i; e++)(t = this.bones[e]) && (t.parent && t.parent.isBone ? (t.matrix.getInverse(t.parent.matrixWorld), t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld), t.matrix.decompose(t.position, t.quaternion, t.scale))
                }, update: (Ur = new ii, Gr = new ii, function () {
                    for (var t = this.bones, e = this.boneInverses, i = this.boneMatrices, n = this.boneTexture, r = 0, o = t.length; r < o; r++) {
                        var a = t[r] ? t[r].matrixWorld : Gr;
                        Ur.multiplyMatrices(a, e[r]), Ur.toArray(i, 16 * r)
                    }
                    void 0 !== n && (n.needsUpdate = !0)
                }), clone: function () {
                    return new oo(this.bones, this.boneInverses)
                }, getBoneByName: function (t) {
                    for (var e = 0, i = this.bones.length; e < i; e++) {
                        var n = this.bones[e];
                        if (n.name === t)return n
                    }
                }
            }), ao.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: ao,
                isBone: !0
            }), so.prototype = Object.create(Yi.prototype), so.prototype.constructor = so, so.prototype.isLineBasicMaterial = !0, so.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this
            }, lo.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: lo,
                isLine: !0,
                computeLineDistances: ($r = new Pe, Vr = new Pe, function () {
                    var t = this.geometry;
                    if (t.isBufferGeometry) {
                        if (null === t.index) {
                            for (var e = t.attributes.position, i = [0], n = 1, r = e.count; n < r; n++)$r.fromBufferAttribute(e, n - 1), Vr.fromBufferAttribute(e, n), i[n] = i[n - 1], i[n] += $r.distanceTo(Vr);
                            t.addAttribute("lineDistance", new ji(i, 1))
                        }
                    } else if (t.isGeometry) {
                        var o = t.vertices;
                        for ((i = t.lineDistances)[0] = 0, n = 1, r = o.length; n < r; n++)i[n] = i[n - 1], i[n] += o[n - 1].distanceTo(o[n])
                    }
                    return this
                }),
                raycast: function () {
                    var t = new ii, e = new dn, i = new Qe;
                    return function (n, r) {
                        var o = n.linePrecision, a = this.geometry, s = this.matrixWorld;
                        if (null === a.boundingSphere && a.computeBoundingSphere(), i.copy(a.boundingSphere), i.applyMatrix4(s), i.radius += o, !1 !== n.ray.intersectsSphere(i)) {
                            t.getInverse(s), e.copy(n.ray).applyMatrix4(t);
                            var l = o / ((this.scale.x + this.scale.y + this.scale.z) / 3), c = l * l, u = new Pe,
                                h = new Pe, d = new Pe, p = new Pe, f = this && this.isLineSegments ? 2 : 1;
                            if (a.isBufferGeometry) {
                                var m = a.index, g = a.attributes.position.array;
                                if (null !== m)for (var v = m.array, y = 0, _ = v.length - 1; y < _; y += f) {
                                    var x = v[y], b = v[y + 1];
                                    if (u.fromArray(g, 3 * x), h.fromArray(g, 3 * b), !(e.distanceSqToSegment(u, h, p, d) > c)) p.applyMatrix4(this.matrixWorld), (M = n.ray.origin.distanceTo(p)) < n.near || M > n.far || r.push({
                                        distance: M,
                                        point: d.clone().applyMatrix4(this.matrixWorld),
                                        index: y,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                } else for (y = 0, _ = g.length / 3 - 1; y < _; y += f) {
                                    if (u.fromArray(g, 3 * y), h.fromArray(g, 3 * y + 3), !(e.distanceSqToSegment(u, h, p, d) > c)) p.applyMatrix4(this.matrixWorld), (M = n.ray.origin.distanceTo(p)) < n.near || M > n.far || r.push({
                                        distance: M,
                                        point: d.clone().applyMatrix4(this.matrixWorld),
                                        index: y,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                }
                            } else if (a.isGeometry) {
                                var w = a.vertices, S = w.length;
                                for (y = 0; y < S - 1; y += f) {
                                    var M;
                                    if (!(e.distanceSqToSegment(w[y], w[y + 1], p, d) > c)) p.applyMatrix4(this.matrixWorld), (M = n.ray.origin.distanceTo(p)) < n.near || M > n.far || r.push({
                                        distance: M,
                                        point: d.clone().applyMatrix4(this.matrixWorld),
                                        index: y,
                                        face: null,
                                        faceIndex: null,
                                        object: this
                                    })
                                }
                            }
                        }
                    }
                }(),
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), co.prototype = Object.assign(Object.create(lo.prototype), {
                constructor: co,
                isLineSegments: !0,
                computeLineDistances: function () {
                    var t = new Pe, e = new Pe;
                    return function () {
                        var i = this.geometry;
                        if (i.isBufferGeometry) {
                            if (null === i.index) {
                                for (var n = i.attributes.position, r = [], o = 0, a = n.count; o < a; o += 2)t.fromBufferAttribute(n, o), e.fromBufferAttribute(n, o + 1), r[o] = 0 === o ? 0 : r[o - 1], r[o + 1] = r[o] + t.distanceTo(e);
                                i.addAttribute("lineDistance", new ji(r, 1))
                            }
                        } else if (i.isGeometry) {
                            var s = i.vertices;
                            for (r = i.lineDistances, o = 0, a = s.length; o < a; o += 2)t.copy(s[o]), e.copy(s[o + 1]), r[o] = 0 === o ? 0 : r[o - 1], r[o + 1] = r[o] + t.distanceTo(e)
                        }
                        return this
                    }
                }()
            }), uo.prototype = Object.assign(Object.create(lo.prototype), {
                constructor: uo,
                isLineLoop: !0
            }), ho.prototype = Object.create(Yi.prototype), ho.prototype.constructor = ho, ho.prototype.isPointsMaterial = !0, ho.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this.morphTargets = t.morphTargets, this
            }, po.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: po,
                isPoints: !0,
                raycast: function () {
                    var t = new ii, e = new dn, i = new Qe;
                    return function (n, r) {
                        var o = this, a = this.geometry, s = this.matrixWorld, l = n.params.Points.threshold;
                        if (null === a.boundingSphere && a.computeBoundingSphere(), i.copy(a.boundingSphere), i.applyMatrix4(s), i.radius += l, !1 !== n.ray.intersectsSphere(i)) {
                            t.getInverse(s), e.copy(n.ray).applyMatrix4(t);
                            var c = l / ((this.scale.x + this.scale.y + this.scale.z) / 3), u = c * c, h = new Pe,
                                d = new Pe;
                            if (a.isBufferGeometry) {
                                var p = a.index, f = a.attributes.position.array;
                                if (null !== p)for (var m = p.array, g = 0, v = m.length; g < v; g++) {
                                    var y = m[g];
                                    h.fromArray(f, 3 * y), b(h, y)
                                } else {
                                    g = 0;
                                    for (var _ = f.length / 3; g < _; g++)h.fromArray(f, 3 * g), b(h, g)
                                }
                            } else {
                                var x = a.vertices;
                                for (g = 0, _ = x.length; g < _; g++)b(x[g], g)
                            }
                        }
                        function b(t, i) {
                            var a = e.distanceSqToPoint(t);
                            if (a < u) {
                                e.closestPointToPoint(t, d), d.applyMatrix4(s);
                                var l = n.ray.origin.distanceTo(d);
                                if (l < n.near || l > n.far)return;
                                r.push({
                                    distance: l,
                                    distanceToRay: Math.sqrt(a),
                                    point: d.clone(),
                                    index: i,
                                    face: null,
                                    object: o
                                })
                            }
                        }
                    }
                }(),
                clone: function () {
                    return new this.constructor(this.geometry, this.material).copy(this)
                }
            }), fo.prototype = Object.assign(Object.create(We.prototype), {
                constructor: fo,
                isVideoTexture: !0,
                update: function () {
                    var t = this.image;
                    t.readyState >= t.HAVE_CURRENT_DATA && (this.needsUpdate = !0)
                }
            }), mo.prototype = Object.create(We.prototype), mo.prototype.constructor = mo, mo.prototype.isCompressedTexture = !0, go.prototype = Object.create(We.prototype), go.prototype.constructor = go, go.prototype.isCanvasTexture = !0, vo.prototype = Object.create(We.prototype), vo.prototype.constructor = vo, vo.prototype.isDepthTexture = !0, yo.prototype = Object.create($i.prototype), yo.prototype.constructor = yo, _o.prototype = Object.create(Ci.prototype), _o.prototype.constructor = _o, xo.prototype = Object.create($i.prototype), xo.prototype.constructor = xo, bo.prototype = Object.create(Ci.prototype), bo.prototype.constructor = bo, wo.prototype = Object.create($i.prototype), wo.prototype.constructor = wo, So.prototype = Object.create(Ci.prototype), So.prototype.constructor = So, Mo.prototype = Object.create(wo.prototype), Mo.prototype.constructor = Mo, To.prototype = Object.create(Ci.prototype), To.prototype.constructor = To, Ao.prototype = Object.create(wo.prototype), Ao.prototype.constructor = Ao, Po.prototype = Object.create(Ci.prototype), Po.prototype.constructor = Po, Eo.prototype = Object.create(wo.prototype), Eo.prototype.constructor = Eo, Co.prototype = Object.create(Ci.prototype), Co.prototype.constructor = Co, Oo.prototype = Object.create(wo.prototype), Oo.prototype.constructor = Oo, Lo.prototype = Object.create(Ci.prototype), Lo.prototype.constructor = Lo, ko.prototype = Object.create($i.prototype), ko.prototype.constructor = ko, ko.prototype.toJSON = function () {
                var t = $i.prototype.toJSON.call(this);
                return t.path = this.parameters.path.toJSON(), t
            }, Io.prototype = Object.create(Ci.prototype), Io.prototype.constructor = Io, No.prototype = Object.create($i.prototype), No.prototype.constructor = No, Ro.prototype = Object.create(Ci.prototype), Ro.prototype.constructor = Ro, Do.prototype = Object.create($i.prototype), Do.prototype.constructor = Do;
            var zo = function (t, e, i) {
                i = i || 2;
                var n, r, o, a, s, l, c, u = e && e.length, h = u ? e[0] * i : t.length, d = jo(t, 0, h, i, !0), p = [];
                if (!d)return p;
                if (u && (d = function (t, e, i, n) {
                        var r, o, a, s, l, c = [];
                        for (r = 0, o = e.length; r < o; r++)a = e[r] * n, s = r < o - 1 ? e[r + 1] * n : t.length, (l = jo(t, a, s, n, !1)) === l.next && (l.steiner = !0), c.push(qo(l));
                        for (c.sort(Wo), r = 0; r < c.length; r++)Ho(c[r], i), i = Fo(i, i.next);
                        return i
                    }(t, e, d, i)), t.length > 80 * i) {
                    n = o = t[0], r = a = t[1];
                    for (var f = i; f < h; f += i)s = t[f], l = t[f + 1], s < n && (n = s), l < r && (r = l), s > o && (o = s), l > a && (a = l);
                    c = 0 !== (c = Math.max(o - n, a - r)) ? 1 / c : 0
                }
                return Bo(d, p, i, n, r, c), p
            };

            function jo(t, e, i, n, r) {
                var o, a;
                if (r === function (t, e, i, n) {
                        for (var r = 0, o = e, a = i - n; o < i; o += n)r += (t[a] - t[o]) * (t[o + 1] + t[a + 1]), a = o;
                        return r
                    }(t, e, i, n) > 0)for (o = e; o < i; o += n)a = ia(o, t[o], t[o + 1], a); else for (o = i - n; o >= e; o -= n)a = ia(o, t[o], t[o + 1], a);
                return a && Ko(a, a.next) && (na(a), a = a.next), a
            }

            function Fo(t, e) {
                if (!t)return t;
                e || (e = t);
                var i, n = t;
                do {
                    if (i = !1, n.steiner || !Ko(n, n.next) && 0 !== Zo(n.prev, n, n.next)) n = n.next; else {
                        if (na(n), (n = e = n.prev) === n.next)break;
                        i = !0
                    }
                } while (i || n !== e);
                return e
            }

            function Bo(t, e, i, n, r, o, a) {
                if (t) {
                    !a && o && function (t, e, i, n) {
                        var r = t;
                        do {
                            null === r.z && (r.z = Xo(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next
                        } while (r !== t);
                        r.prevZ.nextZ = null, r.prevZ = null, function (t) {
                            var e, i, n, r, o, a, s, l, c = 1;
                            do {
                                for (i = t, t = null, o = null, a = 0; i;) {
                                    for (a++, n = i, s = 0, e = 0; e < c && (s++, n = n.nextZ); e++);
                                    for (l = c; s > 0 || l > 0 && n;)0 !== s && (0 === l || !n || i.z <= n.z) ? (r = i, i = i.nextZ, s--) : (r = n, n = n.nextZ, l--), o ? o.nextZ = r : t = r, r.prevZ = o, o = r;
                                    i = n
                                }
                                o.nextZ = null, c *= 2
                            } while (a > 1)
                        }(r)
                    }(t, n, r, o);
                    for (var s, l, c = t; t.prev !== t.next;)if (s = t.prev, l = t.next, o ? Go(t, n, r, o) : Uo(t)) e.push(s.i / i), e.push(t.i / i), e.push(l.i / i), na(t), t = l.next, c = l.next; else if ((t = l) === c) {
                        a ? 1 === a ? Bo(t = $o(t, e, i), e, i, n, r, o, 2) : 2 === a && Vo(t, e, i, n, r, o) : Bo(Fo(t), e, i, n, r, o, 1);
                        break
                    }
                }
            }

            function Uo(t) {
                var e = t.prev, i = t, n = t.next;
                if (Zo(e, i, n) >= 0)return !1;
                for (var r = t.next.next; r !== t.prev;) {
                    if (Yo(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && Zo(r.prev, r, r.next) >= 0)return !1;
                    r = r.next
                }
                return !0
            }

            function Go(t, e, i, n) {
                var r = t.prev, o = t, a = t.next;
                if (Zo(r, o, a) >= 0)return !1;
                for (var s = r.x < o.x ? r.x < a.x ? r.x : a.x : o.x < a.x ? o.x : a.x, l = r.y < o.y ? r.y < a.y ? r.y : a.y : o.y < a.y ? o.y : a.y, c = r.x > o.x ? r.x > a.x ? r.x : a.x : o.x > a.x ? o.x : a.x, u = r.y > o.y ? r.y > a.y ? r.y : a.y : o.y > a.y ? o.y : a.y, h = Xo(s, l, e, i, n), d = Xo(c, u, e, i, n), p = t.nextZ; p && p.z <= d;) {
                    if (p !== t.prev && p !== t.next && Yo(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && Zo(p.prev, p, p.next) >= 0)return !1;
                    p = p.nextZ
                }
                for (p = t.prevZ; p && p.z >= h;) {
                    if (p !== t.prev && p !== t.next && Yo(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && Zo(p.prev, p, p.next) >= 0)return !1;
                    p = p.prevZ
                }
                return !0
            }

            function $o(t, e, i) {
                var n = t;
                do {
                    var r = n.prev, o = n.next.next;
                    !Ko(r, o) && Qo(r, n, n.next, o) && ta(r, o) && ta(o, r) && (e.push(r.i / i), e.push(n.i / i), e.push(o.i / i), na(n), na(n.next), n = t = o), n = n.next
                } while (n !== t);
                return n
            }

            function Vo(t, e, i, n, r, o) {
                var a = t;
                do {
                    for (var s = a.next.next; s !== a.prev;) {
                        if (a.i !== s.i && Jo(a, s)) {
                            var l = ea(a, s);
                            return a = Fo(a, a.next), l = Fo(l, l.next), Bo(a, e, i, n, r, o), void Bo(l, e, i, n, r, o)
                        }
                        s = s.next
                    }
                    a = a.next
                } while (a !== t)
            }

            function Wo(t, e) {
                return t.x - e.x
            }

            function Ho(t, e) {
                if (e = function (t, e) {
                        var i, n = e, r = t.x, o = t.y, a = -1 / 0;
                        do {
                            if (o <= n.y && o >= n.next.y && n.next.y !== n.y) {
                                var s = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                                if (s <= r && s > a) {
                                    if (a = s, s === r) {
                                        if (o === n.y)return n;
                                        if (o === n.next.y)return n.next
                                    }
                                    i = n.x < n.next.x ? n : n.next
                                }
                            }
                            n = n.next
                        } while (n !== e);
                        if (!i)return null;
                        if (r === a)return i.prev;
                        var l, c = i, u = i.x, h = i.y, d = 1 / 0;
                        n = i.next;
                        for (; n !== c;)r >= n.x && n.x >= u && r !== n.x && Yo(o < h ? r : a, o, u, h, o < h ? a : r, o, n.x, n.y) && ((l = Math.abs(o - n.y) / (r - n.x)) < d || l === d && n.x > i.x) && ta(n, t) && (i = n, d = l), n = n.next;
                        return i
                    }(t, e)) {
                    var i = ea(e, t);
                    Fo(i, i.next)
                }
            }

            function Xo(t, e, i, n, r) {
                return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - i) * r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
            }

            function qo(t) {
                var e = t, i = t;
                do {
                    e.x < i.x && (i = e), e = e.next
                } while (e !== t);
                return i
            }

            function Yo(t, e, i, n, r, o, a, s) {
                return (r - a) * (e - s) - (t - a) * (o - s) >= 0 && (t - a) * (n - s) - (i - a) * (e - s) >= 0 && (i - a) * (o - s) - (r - a) * (n - s) >= 0
            }

            function Jo(t, e) {
                return t.next.i !== e.i && t.prev.i !== e.i && !function (t, e) {
                        var i = t;
                        do {
                            if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && Qo(i, i.next, t, e))return !0;
                            i = i.next
                        } while (i !== t);
                        return !1
                    }(t, e) && ta(t, e) && ta(e, t) && function (t, e) {
                        var i = t, n = !1, r = (t.x + e.x) / 2, o = (t.y + e.y) / 2;
                        do {
                            i.y > o != i.next.y > o && i.next.y !== i.y && r < (i.next.x - i.x) * (o - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next
                        } while (i !== t);
                        return n
                    }(t, e)
            }

            function Zo(t, e, i) {
                return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y)
            }

            function Ko(t, e) {
                return t.x === e.x && t.y === e.y
            }

            function Qo(t, e, i, n) {
                return !!(Ko(t, e) && Ko(i, n) || Ko(t, n) && Ko(i, e)) || Zo(t, e, i) > 0 != Zo(t, e, n) > 0 && Zo(i, n, t) > 0 != Zo(i, n, e) > 0
            }

            function ta(t, e) {
                return Zo(t.prev, t, t.next) < 0 ? Zo(t, e, t.next) >= 0 && Zo(t, t.prev, e) >= 0 : Zo(t, e, t.prev) < 0 || Zo(t, t.next, e) < 0
            }

            function ea(t, e) {
                var i = new ra(t.i, t.x, t.y), n = new ra(e.i, e.x, e.y), r = t.next, o = e.prev;
                return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, o.next = n, n.prev = o, n
            }

            function ia(t, e, i, n) {
                var r = new ra(t, e, i);
                return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r
            }

            function na(t) {
                t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }

            function ra(t, e, i) {
                this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
            }

            var oa = {
                area: function (t) {
                    for (var e = t.length, i = 0, n = e - 1, r = 0; r < e; n = r++)i += t[n].x * t[r].y - t[r].x * t[n].y;
                    return .5 * i
                }, isClockWise: function (t) {
                    return oa.area(t) < 0
                }, triangulateShape: function (t, e) {
                    var i = [], n = [], r = [];
                    aa(t), sa(i, t);
                    var o = t.length;
                    e.forEach(aa);
                    for (var a = 0; a < e.length; a++)n.push(o), o += e[a].length, sa(i, e[a]);
                    var s = zo(i, n);
                    for (a = 0; a < s.length; a += 3)r.push(s.slice(a, a + 3));
                    return r
                }
            };

            function aa(t) {
                var e = t.length;
                e > 2 && t[e - 1].equals(t[0]) && t.pop()
            }

            function sa(t, e) {
                for (var i = 0; i < e.length; i++)t.push(e[i].x), t.push(e[i].y)
            }

            function la(t, e) {
                Ci.call(this), this.type = "ExtrudeGeometry", this.parameters = {
                    shapes: t,
                    options: e
                }, this.fromBufferGeometry(new ca(t, e)), this.mergeVertices()
            }

            function ca(t, e) {
                $i.call(this), this.type = "ExtrudeBufferGeometry", this.parameters = {shapes: t, options: e};
                for (var i = this, n = [], r = [], o = 0, a = (t = Array.isArray(t) ? t : [t]).length; o < a; o++) {
                    s(t[o])
                }
                function s(t) {
                    var o = [], a = void 0 !== e.curveSegments ? e.curveSegments : 12,
                        s = void 0 !== e.steps ? e.steps : 1, l = void 0 !== e.depth ? e.depth : 100,
                        c = void 0 === e.bevelEnabled || e.bevelEnabled,
                        u = void 0 !== e.bevelThickness ? e.bevelThickness : 6,
                        h = void 0 !== e.bevelSize ? e.bevelSize : u - 2,
                        d = void 0 !== e.bevelOffset ? e.bevelOffset : 0,
                        p = void 0 !== e.bevelSegments ? e.bevelSegments : 3, f = e.extrudePath,
                        m = void 0 !== e.UVGenerator ? e.UVGenerator : ua;
                    void 0 !== e.amount && (l = e.amount);
                    var g, v, y, _, x, b, w, S, M = !1;
                    f && (g = f.getSpacedPoints(s), M = !0, c = !1, v = f.computeFrenetFrames(s, !1), y = new Pe, _ = new Pe, x = new Pe), c || (p = 0, u = 0, h = 0, d = 0);
                    var T = t.extractPoints(a), A = T.shape, P = T.holes;
                    if (!oa.isClockWise(A))for (A = A.reverse(), w = 0, S = P.length; w < S; w++)b = P[w], oa.isClockWise(b) && (P[w] = b.reverse());
                    var E = oa.triangulateShape(A, P), C = A;
                    for (w = 0, S = P.length; w < S; w++)b = P[w], A = A.concat(b);
                    function O(t, e, i) {
                        return e.clone().multiplyScalar(i).add(t)
                    }

                    var L, k, I, N, R, D, z = A.length, j = E.length;

                    function F(t, e, i) {
                        var n, r, o, a = t.x - e.x, s = t.y - e.y, l = i.x - t.x, c = i.y - t.y, u = a * a + s * s,
                            h = a * c - s * l;
                        if (Math.abs(h) > Number.EPSILON) {
                            var d = Math.sqrt(u), p = Math.sqrt(l * l + c * c), f = e.x - s / d, m = e.y + a / d,
                                g = ((i.x - c / p - f) * c - (i.y + l / p - m) * l) / (a * c - s * l),
                                v = (n = f + a * g - t.x) * n + (r = m + s * g - t.y) * r;
                            if (v <= 2)return new Te(n, r);
                            o = Math.sqrt(v / 2)
                        } else {
                            var y = !1;
                            a > Number.EPSILON ? l > Number.EPSILON && (y = !0) : a < -Number.EPSILON ? l < -Number.EPSILON && (y = !0) : Math.sign(s) === Math.sign(c) && (y = !0), y ? (n = -s, r = a, o = Math.sqrt(u)) : (n = a, r = s, o = Math.sqrt(u / 2))
                        }
                        return new Te(n / o, r / o)
                    }

                    for (var B = [], U = 0, G = C.length, $ = G - 1, V = U + 1; U < G; U++, $++, V++)$ === G && ($ = 0), V === G && (V = 0), B[U] = F(C[U], C[$], C[V]);
                    var W, H, X = [], q = B.concat();
                    for (w = 0, S = P.length; w < S; w++) {
                        for (b = P[w], W = [], U = 0, $ = (G = b.length) - 1, V = U + 1; U < G; U++, $++, V++)$ === G && ($ = 0), V === G && (V = 0), W[U] = F(b[U], b[$], b[V]);
                        X.push(W), q = q.concat(W)
                    }
                    for (L = 0; L < p; L++) {
                        for (I = L / p, N = u * Math.cos(I * Math.PI / 2), k = h * Math.sin(I * Math.PI / 2) + d, U = 0, G = C.length; U < G; U++)J((R = O(C[U], B[U], k)).x, R.y, -N);
                        for (w = 0, S = P.length; w < S; w++)for (b = P[w], W = X[w], U = 0, G = b.length; U < G; U++)J((R = O(b[U], W[U], k)).x, R.y, -N)
                    }
                    for (k = h + d, U = 0; U < z; U++)R = c ? O(A[U], q[U], k) : A[U], M ? (_.copy(v.normals[0]).multiplyScalar(R.x), y.copy(v.binormals[0]).multiplyScalar(R.y), x.copy(g[0]).add(_).add(y), J(x.x, x.y, x.z)) : J(R.x, R.y, 0);
                    for (H = 1; H <= s; H++)for (U = 0; U < z; U++)R = c ? O(A[U], q[U], k) : A[U], M ? (_.copy(v.normals[H]).multiplyScalar(R.x), y.copy(v.binormals[H]).multiplyScalar(R.y), x.copy(g[H]).add(_).add(y), J(x.x, x.y, x.z)) : J(R.x, R.y, l / s * H);
                    for (L = p - 1; L >= 0; L--) {
                        for (I = L / p, N = u * Math.cos(I * Math.PI / 2), k = h * Math.sin(I * Math.PI / 2) + d, U = 0, G = C.length; U < G; U++)J((R = O(C[U], B[U], k)).x, R.y, l + N);
                        for (w = 0, S = P.length; w < S; w++)for (b = P[w], W = X[w], U = 0, G = b.length; U < G; U++)R = O(b[U], W[U], k), M ? J(R.x, R.y + g[s - 1].y, g[s - 1].x + N) : J(R.x, R.y, l + N)
                    }
                    function Y(t, e) {
                        var i, n;
                        for (U = t.length; --U >= 0;) {
                            i = U, (n = U - 1) < 0 && (n = t.length - 1);
                            var r = 0, o = s + 2 * p;
                            for (r = 0; r < o; r++) {
                                var a = z * r, l = z * (r + 1);
                                K(e + i + a, e + n + a, e + n + l, e + i + l)
                            }
                        }
                    }

                    function J(t, e, i) {
                        o.push(t), o.push(e), o.push(i)
                    }

                    function Z(t, e, r) {
                        Q(t), Q(e), Q(r);
                        var o = n.length / 3, a = m.generateTopUV(i, n, o - 3, o - 2, o - 1);
                        tt(a[0]), tt(a[1]), tt(a[2])
                    }

                    function K(t, e, r, o) {
                        Q(t), Q(e), Q(o), Q(e), Q(r), Q(o);
                        var a = n.length / 3, s = m.generateSideWallUV(i, n, a - 6, a - 3, a - 2, a - 1);
                        tt(s[0]), tt(s[1]), tt(s[3]), tt(s[1]), tt(s[2]), tt(s[3])
                    }

                    function Q(t) {
                        n.push(o[3 * t + 0]), n.push(o[3 * t + 1]), n.push(o[3 * t + 2])
                    }

                    function tt(t) {
                        r.push(t.x), r.push(t.y)
                    }

                    !function () {
                        var t = n.length / 3;
                        if (c) {
                            var e = 0, r = z * e;
                            for (U = 0; U < j; U++)Z((D = E[U])[2] + r, D[1] + r, D[0] + r);
                            for (r = z * (e = s + 2 * p), U = 0; U < j; U++)Z((D = E[U])[0] + r, D[1] + r, D[2] + r)
                        } else {
                            for (U = 0; U < j; U++)Z((D = E[U])[2], D[1], D[0]);
                            for (U = 0; U < j; U++)Z((D = E[U])[0] + z * s, D[1] + z * s, D[2] + z * s)
                        }
                        i.addGroup(t, n.length / 3 - t, 0)
                    }(), function () {
                        var t = n.length / 3, e = 0;
                        for (Y(C, e), e += C.length, w = 0, S = P.length; w < S; w++)Y(b = P[w], e), e += b.length;
                        i.addGroup(t, n.length / 3 - t, 1)
                    }()
                }

                this.addAttribute("position", new ji(n, 3)), this.addAttribute("uv", new ji(r, 2)), this.computeVertexNormals()
            }

            la.prototype = Object.create(Ci.prototype), la.prototype.constructor = la, la.prototype.toJSON = function () {
                var t = Ci.prototype.toJSON.call(this);
                return ha(this.parameters.shapes, this.parameters.options, t)
            }, ca.prototype = Object.create($i.prototype), ca.prototype.constructor = ca, ca.prototype.toJSON = function () {
                var t = $i.prototype.toJSON.call(this);
                return ha(this.parameters.shapes, this.parameters.options, t)
            };
            var ua = {
                generateTopUV: function (t, e, i, n, r) {
                    var o = e[3 * i], a = e[3 * i + 1], s = e[3 * n], l = e[3 * n + 1], c = e[3 * r], u = e[3 * r + 1];
                    return [new Te(o, a), new Te(s, l), new Te(c, u)]
                }, generateSideWallUV: function (t, e, i, n, r, o) {
                    var a = e[3 * i], s = e[3 * i + 1], l = e[3 * i + 2], c = e[3 * n], u = e[3 * n + 1],
                        h = e[3 * n + 2], d = e[3 * r], p = e[3 * r + 1], f = e[3 * r + 2], m = e[3 * o],
                        g = e[3 * o + 1], v = e[3 * o + 2];
                    return Math.abs(s - u) < .01 ? [new Te(a, 1 - l), new Te(c, 1 - h), new Te(d, 1 - f), new Te(m, 1 - v)] : [new Te(s, 1 - l), new Te(u, 1 - h), new Te(p, 1 - f), new Te(g, 1 - v)]
                }
            };

            function ha(t, e, i) {
                if (i.shapes = [], Array.isArray(t))for (var n = 0, r = t.length; n < r; n++) {
                    var o = t[n];
                    i.shapes.push(o.uuid)
                } else i.shapes.push(t.uuid);
                return void 0 !== e.extrudePath && (i.options.extrudePath = e.extrudePath.toJSON()), i
            }

            function da(t, e) {
                Ci.call(this), this.type = "TextGeometry", this.parameters = {
                    text: t,
                    parameters: e
                }, this.fromBufferGeometry(new pa(t, e)), this.mergeVertices()
            }

            function pa(t, e) {
                var i = (e = e || {}).font;
                if (!i || !i.isFont)return new Ci;
                var n = i.generateShapes(t, e.size);
                e.depth = void 0 !== e.height ? e.height : 50, void 0 === e.bevelThickness && (e.bevelThickness = 10), void 0 === e.bevelSize && (e.bevelSize = 8), void 0 === e.bevelEnabled && (e.bevelEnabled = !1), ca.call(this, n, e), this.type = "TextBufferGeometry"
            }

            function fa(t, e, i, n, r, o, a) {
                Ci.call(this), this.type = "SphereGeometry", this.parameters = {
                    radius: t,
                    widthSegments: e,
                    heightSegments: i,
                    phiStart: n,
                    phiLength: r,
                    thetaStart: o,
                    thetaLength: a
                }, this.fromBufferGeometry(new ma(t, e, i, n, r, o, a)), this.mergeVertices()
            }

            function ma(t, e, i, n, r, o, a) {
                $i.call(this), this.type = "SphereBufferGeometry", this.parameters = {
                    radius: t,
                    widthSegments: e,
                    heightSegments: i,
                    phiStart: n,
                    phiLength: r,
                    thetaStart: o,
                    thetaLength: a
                }, t = t || 1, e = Math.max(3, Math.floor(e) || 8), i = Math.max(2, Math.floor(i) || 6), n = void 0 !== n ? n : 0, r = void 0 !== r ? r : 2 * Math.PI;
                var s, l, c = (o = void 0 !== o ? o : 0) + (a = void 0 !== a ? a : Math.PI), u = 0, h = [], d = new Pe,
                    p = new Pe, f = [], m = [], g = [], v = [];
                for (l = 0; l <= i; l++) {
                    var y = [], _ = l / i, x = 0 == l ? .5 / e : l == i ? -.5 / e : 0;
                    for (s = 0; s <= e; s++) {
                        var b = s / e;
                        d.x = -t * Math.cos(n + b * r) * Math.sin(o + _ * a), d.y = t * Math.cos(o + _ * a), d.z = t * Math.sin(n + b * r) * Math.sin(o + _ * a), m.push(d.x, d.y, d.z), p.copy(d).normalize(), g.push(p.x, p.y, p.z), v.push(b + x, 1 - _), y.push(u++)
                    }
                    h.push(y)
                }
                for (l = 0; l < i; l++)for (s = 0; s < e; s++) {
                    var w = h[l][s + 1], S = h[l][s], M = h[l + 1][s], T = h[l + 1][s + 1];
                    (0 !== l || o > 0) && f.push(w, S, T), (l !== i - 1 || c < Math.PI) && f.push(S, M, T)
                }
                this.setIndex(f), this.addAttribute("position", new ji(m, 3)), this.addAttribute("normal", new ji(g, 3)), this.addAttribute("uv", new ji(v, 2))
            }

            function ga(t, e, i, n, r, o) {
                Ci.call(this), this.type = "RingGeometry", this.parameters = {
                    innerRadius: t,
                    outerRadius: e,
                    thetaSegments: i,
                    phiSegments: n,
                    thetaStart: r,
                    thetaLength: o
                }, this.fromBufferGeometry(new va(t, e, i, n, r, o)), this.mergeVertices()
            }

            function va(t, e, i, n, r, o) {
                $i.call(this), this.type = "RingBufferGeometry", this.parameters = {
                    innerRadius: t,
                    outerRadius: e,
                    thetaSegments: i,
                    phiSegments: n,
                    thetaStart: r,
                    thetaLength: o
                }, t = t || .5, e = e || 1, r = void 0 !== r ? r : 0, o = void 0 !== o ? o : 2 * Math.PI, i = void 0 !== i ? Math.max(3, i) : 8;
                var a, s, l, c = [], u = [], h = [], d = [], p = t,
                    f = (e - t) / (n = void 0 !== n ? Math.max(1, n) : 1), m = new Pe, g = new Te;
                for (s = 0; s <= n; s++) {
                    for (l = 0; l <= i; l++)a = r + l / i * o, m.x = p * Math.cos(a), m.y = p * Math.sin(a), u.push(m.x, m.y, m.z), h.push(0, 0, 1), g.x = (m.x / e + 1) / 2, g.y = (m.y / e + 1) / 2, d.push(g.x, g.y);
                    p += f
                }
                for (s = 0; s < n; s++) {
                    var v = s * (i + 1);
                    for (l = 0; l < i; l++) {
                        var y = a = l + v, _ = a + i + 1, x = a + i + 2, b = a + 1;
                        c.push(y, _, b), c.push(_, x, b)
                    }
                }
                this.setIndex(c), this.addAttribute("position", new ji(u, 3)), this.addAttribute("normal", new ji(h, 3)), this.addAttribute("uv", new ji(d, 2))
            }

            function ya(t, e, i, n) {
                Ci.call(this), this.type = "LatheGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: i,
                    phiLength: n
                }, this.fromBufferGeometry(new _a(t, e, i, n)), this.mergeVertices()
            }

            function _a(t, e, i, n) {
                $i.call(this), this.type = "LatheBufferGeometry", this.parameters = {
                    points: t,
                    segments: e,
                    phiStart: i,
                    phiLength: n
                }, e = Math.floor(e) || 12, i = i || 0, n = n || 2 * Math.PI, n = Me.clamp(n, 0, 2 * Math.PI);
                var r, o, a, s = [], l = [], c = [], u = 1 / e, h = new Pe, d = new Te;
                for (o = 0; o <= e; o++) {
                    var p = i + o * u * n, f = Math.sin(p), m = Math.cos(p);
                    for (a = 0; a <= t.length - 1; a++)h.x = t[a].x * f, h.y = t[a].y, h.z = t[a].x * m, l.push(h.x, h.y, h.z), d.x = o / e, d.y = a / (t.length - 1), c.push(d.x, d.y)
                }
                for (o = 0; o < e; o++)for (a = 0; a < t.length - 1; a++) {
                    var g = r = a + o * t.length, v = r + t.length, y = r + t.length + 1, _ = r + 1;
                    s.push(g, v, _), s.push(v, y, _)
                }
                if (this.setIndex(s), this.addAttribute("position", new ji(l, 3)), this.addAttribute("uv", new ji(c, 2)), this.computeVertexNormals(), n === 2 * Math.PI) {
                    var x = this.attributes.normal.array, b = new Pe, w = new Pe, S = new Pe;
                    for (r = e * t.length * 3, o = 0, a = 0; o < t.length; o++, a += 3)b.x = x[a + 0], b.y = x[a + 1], b.z = x[a + 2], w.x = x[r + a + 0], w.y = x[r + a + 1], w.z = x[r + a + 2], S.addVectors(b, w).normalize(), x[a + 0] = x[r + a + 0] = S.x, x[a + 1] = x[r + a + 1] = S.y, x[a + 2] = x[r + a + 2] = S.z
                }
            }

            function xa(t, e) {
                Ci.call(this), this.type = "ShapeGeometry", "object" == typeof e && (e = e.curveSegments), this.parameters = {
                    shapes: t,
                    curveSegments: e
                }, this.fromBufferGeometry(new ba(t, e)), this.mergeVertices()
            }

            function ba(t, e) {
                $i.call(this), this.type = "ShapeBufferGeometry", this.parameters = {
                    shapes: t,
                    curveSegments: e
                }, e = e || 12;
                var i = [], n = [], r = [], o = [], a = 0, s = 0;
                if (!1 === Array.isArray(t)) c(t); else for (var l = 0; l < t.length; l++)c(t[l]), this.addGroup(a, s, l), a += s, s = 0;
                function c(t) {
                    var a, l, c, u = n.length / 3, h = t.extractPoints(e), d = h.shape, p = h.holes;
                    for (!1 === oa.isClockWise(d) && (d = d.reverse()), a = 0, l = p.length; a < l; a++)c = p[a], !0 === oa.isClockWise(c) && (p[a] = c.reverse());
                    var f = oa.triangulateShape(d, p);
                    for (a = 0, l = p.length; a < l; a++)c = p[a], d = d.concat(c);
                    for (a = 0, l = d.length; a < l; a++) {
                        var m = d[a];
                        n.push(m.x, m.y, 0), r.push(0, 0, 1), o.push(m.x, m.y)
                    }
                    for (a = 0, l = f.length; a < l; a++) {
                        var g = f[a], v = g[0] + u, y = g[1] + u, _ = g[2] + u;
                        i.push(v, y, _), s += 3
                    }
                }

                this.setIndex(i), this.addAttribute("position", new ji(n, 3)), this.addAttribute("normal", new ji(r, 3)), this.addAttribute("uv", new ji(o, 2))
            }

            function wa(t, e) {
                if (e.shapes = [], Array.isArray(t))for (var i = 0, n = t.length; i < n; i++) {
                    var r = t[i];
                    e.shapes.push(r.uuid)
                } else e.shapes.push(t.uuid);
                return e
            }

            function Sa(t, e) {
                $i.call(this), this.type = "EdgesGeometry", this.parameters = {thresholdAngle: e}, e = void 0 !== e ? e : 1;
                var i, n, r, o, a = [], s = Math.cos(Me.DEG2RAD * e), l = [0, 0], c = {}, u = ["a", "b", "c"];
                t.isBufferGeometry ? (o = new Ci).fromBufferGeometry(t) : o = t.clone(), o.mergeVertices(), o.computeFaceNormals();
                for (var h = o.vertices, d = o.faces, p = 0, f = d.length; p < f; p++)for (var m = d[p], g = 0; g < 3; g++)i = m[u[g]], n = m[u[(g + 1) % 3]], l[0] = Math.min(i, n), l[1] = Math.max(i, n), void 0 === c[r = l[0] + "," + l[1]] ? c[r] = {
                    index1: l[0],
                    index2: l[1],
                    face1: p,
                    face2: void 0
                } : c[r].face2 = p;
                for (r in c) {
                    var v = c[r];
                    if (void 0 === v.face2 || d[v.face1].normal.dot(d[v.face2].normal) <= s) {
                        var y = h[v.index1];
                        a.push(y.x, y.y, y.z), y = h[v.index2], a.push(y.x, y.y, y.z)
                    }
                }
                this.addAttribute("position", new ji(a, 3))
            }

            function Ma(t, e, i, n, r, o, a, s) {
                Ci.call(this), this.type = "CylinderGeometry", this.parameters = {
                    radiusTop: t,
                    radiusBottom: e,
                    height: i,
                    radialSegments: n,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: a,
                    thetaLength: s
                }, this.fromBufferGeometry(new Ta(t, e, i, n, r, o, a, s)), this.mergeVertices()
            }

            function Ta(t, e, i, n, r, o, a, s) {
                $i.call(this), this.type = "CylinderBufferGeometry", this.parameters = {
                    radiusTop: t,
                    radiusBottom: e,
                    height: i,
                    radialSegments: n,
                    heightSegments: r,
                    openEnded: o,
                    thetaStart: a,
                    thetaLength: s
                };
                var l = this;
                t = void 0 !== t ? t : 1, e = void 0 !== e ? e : 1, i = i || 1, n = Math.floor(n) || 8, r = Math.floor(r) || 1, o = void 0 !== o && o, a = void 0 !== a ? a : 0, s = void 0 !== s ? s : 2 * Math.PI;
                var c = [], u = [], h = [], d = [], p = 0, f = [], m = i / 2, g = 0;

                function v(i) {
                    var r, o, f, v = new Te, y = new Pe, _ = 0, x = !0 === i ? t : e, b = !0 === i ? 1 : -1;
                    for (o = p, r = 1; r <= n; r++)u.push(0, m * b, 0), h.push(0, b, 0), d.push(.5, .5), p++;
                    for (f = p, r = 0; r <= n; r++) {
                        var w = r / n * s + a, S = Math.cos(w), M = Math.sin(w);
                        y.x = x * M, y.y = m * b, y.z = x * S, u.push(y.x, y.y, y.z), h.push(0, b, 0), v.x = .5 * S + .5, v.y = .5 * M * b + .5, d.push(v.x, v.y), p++
                    }
                    for (r = 0; r < n; r++) {
                        var T = o + r, A = f + r;
                        !0 === i ? c.push(A, A + 1, T) : c.push(A + 1, A, T), _ += 3
                    }
                    l.addGroup(g, _, !0 === i ? 1 : 2), g += _
                }

                !function () {
                    var o, v, y = new Pe, _ = new Pe, x = 0, b = (e - t) / i;
                    for (v = 0; v <= r; v++) {
                        var w = [], S = v / r, M = S * (e - t) + t;
                        for (o = 0; o <= n; o++) {
                            var T = o / n, A = T * s + a, P = Math.sin(A), E = Math.cos(A);
                            _.x = M * P, _.y = -S * i + m, _.z = M * E, u.push(_.x, _.y, _.z), y.set(P, b, E).normalize(), h.push(y.x, y.y, y.z), d.push(T, 1 - S), w.push(p++)
                        }
                        f.push(w)
                    }
                    for (o = 0; o < n; o++)for (v = 0; v < r; v++) {
                        var C = f[v][o], O = f[v + 1][o], L = f[v + 1][o + 1], k = f[v][o + 1];
                        c.push(C, O, k), c.push(O, L, k), x += 6
                    }
                    l.addGroup(g, x, 0), g += x
                }(), !1 === o && (t > 0 && v(!0), e > 0 && v(!1)), this.setIndex(c), this.addAttribute("position", new ji(u, 3)), this.addAttribute("normal", new ji(h, 3)), this.addAttribute("uv", new ji(d, 2))
            }

            function Aa(t, e, i, n, r, o, a) {
                Ma.call(this, 0, t, e, i, n, r, o, a), this.type = "ConeGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: n,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: a
                }
            }

            function Pa(t, e, i, n, r, o, a) {
                Ta.call(this, 0, t, e, i, n, r, o, a), this.type = "ConeBufferGeometry", this.parameters = {
                    radius: t,
                    height: e,
                    radialSegments: i,
                    heightSegments: n,
                    openEnded: r,
                    thetaStart: o,
                    thetaLength: a
                }
            }

            function Ea(t, e, i, n) {
                Ci.call(this), this.type = "CircleGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: i,
                    thetaLength: n
                }, this.fromBufferGeometry(new Ca(t, e, i, n)), this.mergeVertices()
            }

            function Ca(t, e, i, n) {
                $i.call(this), this.type = "CircleBufferGeometry", this.parameters = {
                    radius: t,
                    segments: e,
                    thetaStart: i,
                    thetaLength: n
                }, t = t || 1, e = void 0 !== e ? Math.max(3, e) : 8, i = void 0 !== i ? i : 0, n = void 0 !== n ? n : 2 * Math.PI;
                var r, o, a = [], s = [], l = [], c = [], u = new Pe, h = new Te;
                for (s.push(0, 0, 0), l.push(0, 0, 1), c.push(.5, .5), o = 0, r = 3; o <= e; o++, r += 3) {
                    var d = i + o / e * n;
                    u.x = t * Math.cos(d), u.y = t * Math.sin(d), s.push(u.x, u.y, u.z), l.push(0, 0, 1), h.x = (s[r] / t + 1) / 2, h.y = (s[r + 1] / t + 1) / 2, c.push(h.x, h.y)
                }
                for (r = 1; r <= e; r++)a.push(r, r + 1, 0);
                this.setIndex(a), this.addAttribute("position", new ji(s, 3)), this.addAttribute("normal", new ji(l, 3)), this.addAttribute("uv", new ji(c, 2))
            }

            da.prototype = Object.create(Ci.prototype), da.prototype.constructor = da, pa.prototype = Object.create(ca.prototype), pa.prototype.constructor = pa, fa.prototype = Object.create(Ci.prototype), fa.prototype.constructor = fa, ma.prototype = Object.create($i.prototype), ma.prototype.constructor = ma, ga.prototype = Object.create(Ci.prototype), ga.prototype.constructor = ga, va.prototype = Object.create($i.prototype), va.prototype.constructor = va, ya.prototype = Object.create(Ci.prototype), ya.prototype.constructor = ya, _a.prototype = Object.create($i.prototype), _a.prototype.constructor = _a, xa.prototype = Object.create(Ci.prototype), xa.prototype.constructor = xa, xa.prototype.toJSON = function () {
                var t = Ci.prototype.toJSON.call(this);
                return wa(this.parameters.shapes, t)
            }, ba.prototype = Object.create($i.prototype), ba.prototype.constructor = ba, ba.prototype.toJSON = function () {
                var t = $i.prototype.toJSON.call(this);
                return wa(this.parameters.shapes, t)
            }, Sa.prototype = Object.create($i.prototype), Sa.prototype.constructor = Sa, Ma.prototype = Object.create(Ci.prototype), Ma.prototype.constructor = Ma, Ta.prototype = Object.create($i.prototype), Ta.prototype.constructor = Ta, Aa.prototype = Object.create(Ma.prototype), Aa.prototype.constructor = Aa, Pa.prototype = Object.create(Ta.prototype), Pa.prototype.constructor = Pa, Ea.prototype = Object.create(Ci.prototype), Ea.prototype.constructor = Ea, Ca.prototype = Object.create($i.prototype), Ca.prototype.constructor = Ca;
            var Oa = Object.freeze({
                WireframeGeometry: yo,
                ParametricGeometry: _o,
                ParametricBufferGeometry: xo,
                TetrahedronGeometry: So,
                TetrahedronBufferGeometry: Mo,
                OctahedronGeometry: To,
                OctahedronBufferGeometry: Ao,
                IcosahedronGeometry: Po,
                IcosahedronBufferGeometry: Eo,
                DodecahedronGeometry: Co,
                DodecahedronBufferGeometry: Oo,
                PolyhedronGeometry: bo,
                PolyhedronBufferGeometry: wo,
                TubeGeometry: Lo,
                TubeBufferGeometry: ko,
                TorusKnotGeometry: Io,
                TorusKnotBufferGeometry: No,
                TorusGeometry: Ro,
                TorusBufferGeometry: Do,
                TextGeometry: da,
                TextBufferGeometry: pa,
                SphereGeometry: fa,
                SphereBufferGeometry: ma,
                RingGeometry: ga,
                RingBufferGeometry: va,
                PlaneGeometry: Hi,
                PlaneBufferGeometry: Xi,
                LatheGeometry: ya,
                LatheBufferGeometry: _a,
                ShapeGeometry: xa,
                ShapeBufferGeometry: ba,
                ExtrudeGeometry: la,
                ExtrudeBufferGeometry: ca,
                EdgesGeometry: Sa,
                ConeGeometry: Aa,
                ConeBufferGeometry: Pa,
                CylinderGeometry: Ma,
                CylinderBufferGeometry: Ta,
                CircleGeometry: Ea,
                CircleBufferGeometry: Ca,
                BoxGeometry: Vi,
                BoxBufferGeometry: Wi
            });

            function La(t) {
                Yi.call(this), this.type = "ShadowMaterial", this.color = new hi(0), this.transparent = !0, this.setValues(t)
            }

            function ka(t) {
                hn.call(this, t), this.type = "RawShaderMaterial"
            }

            function Ia(t) {
                Yi.call(this), this.defines = {STANDARD: ""}, this.type = "MeshStandardMaterial", this.color = new hi(16777215), this.roughness = .5, this.metalness = .5, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new hi(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = we, this.normalScale = new Te(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function Na(t) {
                Ia.call(this), this.defines = {PHYSICAL: ""}, this.type = "MeshPhysicalMaterial", this.reflectivity = .5, this.clearCoat = 0, this.clearCoatRoughness = 0, this.setValues(t)
            }

            function Ra(t) {
                Yi.call(this), this.type = "MeshPhongMaterial", this.color = new hi(16777215), this.specular = new hi(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new hi(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = we, this.normalScale = new Te(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = X, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function Da(t) {
                Ra.call(this), this.defines = {TOON: ""}, this.type = "MeshToonMaterial", this.gradientMap = null, this.setValues(t)
            }

            function za(t) {
                Yi.call(this), this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = we, this.normalScale = new Te(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function ja(t) {
                Yi.call(this), this.type = "MeshLambertMaterial", this.color = new hi(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new hi(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = X, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t)
            }

            function Fa(t) {
                Yi.call(this), this.defines = {MATCAP: ""}, this.type = "MeshMatcapMaterial", this.color = new hi(16777215), this.matcap = null, this.map = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = we, this.normalScale = new Te(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.alphaMap = null, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.lights = !1, this.setValues(t)
            }

            function Ba(t) {
                so.call(this), this.type = "LineDashedMaterial", this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.setValues(t)
            }

            La.prototype = Object.create(Yi.prototype), La.prototype.constructor = La, La.prototype.isShadowMaterial = !0, La.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.color.copy(t.color), this
            }, ka.prototype = Object.create(hn.prototype), ka.prototype.constructor = ka, ka.prototype.isRawShaderMaterial = !0, Ia.prototype = Object.create(Yi.prototype), Ia.prototype.constructor = Ia, Ia.prototype.isMeshStandardMaterial = !0, Ia.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.defines = {STANDARD: ""}, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, Na.prototype = Object.create(Ia.prototype), Na.prototype.constructor = Na, Na.prototype.isMeshPhysicalMaterial = !0, Na.prototype.copy = function (t) {
                return Ia.prototype.copy.call(this, t), this.defines = {PHYSICAL: ""}, this.reflectivity = t.reflectivity, this.clearCoat = t.clearCoat, this.clearCoatRoughness = t.clearCoatRoughness, this
            }, Ra.prototype = Object.create(Yi.prototype), Ra.prototype.constructor = Ra, Ra.prototype.isMeshPhongMaterial = !0, Ra.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, Da.prototype = Object.create(Ra.prototype), Da.prototype.constructor = Da, Da.prototype.isMeshToonMaterial = !0, Da.prototype.copy = function (t) {
                return Ra.prototype.copy.call(this, t), this.gradientMap = t.gradientMap, this
            }, za.prototype = Object.create(Yi.prototype), za.prototype.constructor = za, za.prototype.isMeshNormalMaterial = !0, za.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, ja.prototype = Object.create(Yi.prototype), ja.prototype.constructor = ja, ja.prototype.isMeshLambertMaterial = !0, ja.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, Fa.prototype = Object.create(Yi.prototype), Fa.prototype.constructor = Fa, Fa.prototype.isMeshMatcapMaterial = !0, Fa.prototype.copy = function (t) {
                return Yi.prototype.copy.call(this, t), this.defines = {MATCAP: ""}, this.color.copy(t.color), this.matcap = t.matcap, this.map = t.map, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.alphaMap = t.alphaMap, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this
            }, Ba.prototype = Object.create(so.prototype), Ba.prototype.constructor = Ba, Ba.prototype.isLineDashedMaterial = !0, Ba.prototype.copy = function (t) {
                return so.prototype.copy.call(this, t), this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this
            };
            var Ua = Object.freeze({
                ShadowMaterial: La,
                SpriteMaterial: eo,
                RawShaderMaterial: ka,
                ShaderMaterial: hn,
                PointsMaterial: ho,
                MeshPhysicalMaterial: Na,
                MeshStandardMaterial: Ia,
                MeshPhongMaterial: Ra,
                MeshToonMaterial: Da,
                MeshNormalMaterial: za,
                MeshLambertMaterial: ja,
                MeshDepthMaterial: Or,
                MeshDistanceMaterial: Lr,
                MeshBasicMaterial: fn,
                MeshMatcapMaterial: Fa,
                LineDashedMaterial: Ba,
                LineBasicMaterial: so,
                Material: Yi
            }), Ga = {
                arraySlice: function (t, e, i) {
                    return Ga.isTypedArray(t) ? new t.constructor(t.subarray(e, void 0 !== i ? i : t.length)) : t.slice(e, i)
                }, convertArray: function (t, e, i) {
                    return !t || !i && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t)
                }, isTypedArray: function (t) {
                    return ArrayBuffer.isView(t) && !(t instanceof DataView)
                }, getKeyframeOrder: function (t) {
                    for (var e = t.length, i = new Array(e), n = 0; n !== e; ++n)i[n] = n;
                    return i.sort(function (e, i) {
                        return t[e] - t[i]
                    }), i
                }, sortedArray: function (t, e, i) {
                    for (var n = t.length, r = new t.constructor(n), o = 0, a = 0; a !== n; ++o)for (var s = i[o] * e, l = 0; l !== e; ++l)r[a++] = t[s + l];
                    return r
                }, flattenJSON: function (t, e, i, n) {
                    for (var r = 1, o = t[0]; void 0 !== o && void 0 === o[n];)o = t[r++];
                    if (void 0 !== o) {
                        var a = o[n];
                        if (void 0 !== a)if (Array.isArray(a))do {
                            void 0 !== (a = o[n]) && (e.push(o.time), i.push.apply(i, a)), o = t[r++]
                        } while (void 0 !== o); else if (void 0 !== a.toArray)do {
                            void 0 !== (a = o[n]) && (e.push(o.time), a.toArray(i, i.length)), o = t[r++]
                        } while (void 0 !== o); else do {
                            void 0 !== (a = o[n]) && (e.push(o.time), i.push(a)), o = t[r++]
                        } while (void 0 !== o)
                    }
                }
            };

            function $a(t, e, i, n) {
                this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== n ? n : new e.constructor(i), this.sampleValues = e, this.valueSize = i
            }

            function Va(t, e, i, n) {
                $a.call(this, t, e, i, n), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0
            }

            function Wa(t, e, i, n) {
                $a.call(this, t, e, i, n)
            }

            function Ha(t, e, i, n) {
                $a.call(this, t, e, i, n)
            }

            function Xa(t, e, i, n) {
                if (void 0 === t)throw new Error("THREE.KeyframeTrack: track name is undefined");
                if (void 0 === e || 0 === e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named " + t);
                this.name = t, this.times = Ga.convertArray(e, this.TimeBufferType), this.values = Ga.convertArray(i, this.ValueBufferType), this.setInterpolation(n || this.DefaultInterpolation)
            }

            function qa(t, e, i) {
                Xa.call(this, t, e, i)
            }

            function Ya(t, e, i, n) {
                Xa.call(this, t, e, i, n)
            }

            function Ja(t, e, i, n) {
                Xa.call(this, t, e, i, n)
            }

            function Za(t, e, i, n) {
                $a.call(this, t, e, i, n)
            }

            function Ka(t, e, i, n) {
                Xa.call(this, t, e, i, n)
            }

            function Qa(t, e, i, n) {
                Xa.call(this, t, e, i, n)
            }

            function ts(t, e, i, n) {
                Xa.call(this, t, e, i, n)
            }

            function es(t, e, i) {
                this.name = t, this.tracks = i, this.duration = void 0 !== e ? e : -1, this.uuid = Me.generateUUID(), this.duration < 0 && this.resetDuration()
            }

            function is(t) {
                if (void 0 === t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
                var e = function (t) {
                    switch (t.toLowerCase()) {
                        case"scalar":
                        case"double":
                        case"float":
                        case"number":
                        case"integer":
                            return Ja;
                        case"vector":
                        case"vector2":
                        case"vector3":
                        case"vector4":
                            return ts;
                        case"color":
                            return Ya;
                        case"quaternion":
                            return Ka;
                        case"bool":
                        case"boolean":
                            return qa;
                        case"string":
                            return Qa
                    }
                    throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + t)
                }(t.type);
                if (void 0 === t.times) {
                    var i = [], n = [];
                    Ga.flattenJSON(t.keys, i, n, "value"), t.times = i, t.values = n
                }
                return void 0 !== e.parse ? e.parse(t) : new e(t.name, t.times, t.values, t.interpolation)
            }

            Object.assign($a.prototype, {
                evaluate: function (t) {
                    var e = this.parameterPositions, i = this._cachedIndex, n = e[i], r = e[i - 1];
                    t:{
                        e:{
                            var o;
                            i:{
                                n:if (!(t < n)) {
                                    for (var a = i + 2; ;) {
                                        if (void 0 === n) {
                                            if (t < r)break n;
                                            return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, t, r)
                                        }
                                        if (i === a)break;
                                        if (r = n, t < (n = e[++i]))break e
                                    }
                                    o = e.length;
                                    break i
                                }
                                if (t >= r)break t;
                                var s = e[1];
                                t < s && (i = 2, r = s);
                                for (a = i - 2; ;) {
                                    if (void 0 === r)return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                                    if (i === a)break;
                                    if (n = r, t >= (r = e[--i - 1]))break e
                                }
                                o = i, i = 0
                            }
                            for (; i < o;) {
                                var l = i + o >>> 1;
                                t < e[l] ? o = l : i = l + 1
                            }
                            if (n = e[i], void 0 === (r = e[i - 1]))return this._cachedIndex = 0, this.beforeStart_(0, t, n);
                            if (void 0 === n)return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, r, t)
                        }
                        this._cachedIndex = i, this.intervalChanged_(i, r, n)
                    }
                    return this.interpolate_(i, r, t, n)
                }, settings: null, DefaultSettings_: {}, getSettings_: function () {
                    return this.settings || this.DefaultSettings_
                }, copySampleValue_: function (t) {
                    for (var e = this.resultBuffer, i = this.sampleValues, n = this.valueSize, r = t * n, o = 0; o !== n; ++o)e[o] = i[r + o];
                    return e
                }, interpolate_: function () {
                    throw new Error("call to abstract method")
                }, intervalChanged_: function () {
                }
            }), Object.assign($a.prototype, {
                beforeStart_: $a.prototype.copySampleValue_,
                afterEnd_: $a.prototype.copySampleValue_
            }), Va.prototype = Object.assign(Object.create($a.prototype), {
                constructor: Va,
                DefaultSettings_: {endingStart: ce, endingEnd: ce},
                intervalChanged_: function (t, e, i) {
                    var n = this.parameterPositions, r = t - 2, o = t + 1, a = n[r], s = n[o];
                    if (void 0 === a)switch (this.getSettings_().endingStart) {
                        case 2401:
                            r = t, a = 2 * e - i;
                            break;
                        case 2402:
                            a = e + n[r = n.length - 2] - n[r + 1];
                            break;
                        default:
                            r = t, a = i
                    }
                    if (void 0 === s)switch (this.getSettings_().endingEnd) {
                        case 2401:
                            o = t, s = 2 * i - e;
                            break;
                        case 2402:
                            o = 1, s = i + n[1] - n[0];
                            break;
                        default:
                            o = t - 1, s = e
                    }
                    var l = .5 * (i - e), c = this.valueSize;
                    this._weightPrev = l / (e - a), this._weightNext = l / (s - i), this._offsetPrev = r * c, this._offsetNext = o * c
                },
                interpolate_: function (t, e, i, n) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = s - a, c = this._offsetPrev, u = this._offsetNext, h = this._weightPrev, d = this._weightNext, p = (i - e) / (n - e), f = p * p, m = f * p, g = -h * m + 2 * h * f - h * p, v = (1 + h) * m + (-1.5 - 2 * h) * f + (-.5 + h) * p + 1, y = (-1 - d) * m + (1.5 + d) * f + .5 * p, _ = d * m - d * f, x = 0; x !== a; ++x)r[x] = g * o[c + x] + v * o[l + x] + y * o[s + x] + _ * o[u + x];
                    return r
                }
            }), Wa.prototype = Object.assign(Object.create($a.prototype), {
                constructor: Wa,
                interpolate_: function (t, e, i, n) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = s - a, c = (i - e) / (n - e), u = 1 - c, h = 0; h !== a; ++h)r[h] = o[l + h] * u + o[s + h] * c;
                    return r
                }
            }), Ha.prototype = Object.assign(Object.create($a.prototype), {
                constructor: Ha, interpolate_: function (t) {
                    return this.copySampleValue_(t - 1)
                }
            }), Object.assign(Xa, {
                toJSON: function (t) {
                    var e, i = t.constructor;
                    if (void 0 !== i.toJSON) e = i.toJSON(t); else {
                        e = {
                            name: t.name,
                            times: Ga.convertArray(t.times, Array),
                            values: Ga.convertArray(t.values, Array)
                        };
                        var n = t.getInterpolation();
                        n !== t.DefaultInterpolation && (e.interpolation = n)
                    }
                    return e.type = t.ValueTypeName, e
                }
            }), Object.assign(Xa.prototype, {
                constructor: Xa,
                TimeBufferType: Float32Array,
                ValueBufferType: Float32Array,
                DefaultInterpolation: 2301,
                InterpolantFactoryMethodDiscrete: function (t) {
                    return new Ha(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodLinear: function (t) {
                    return new Wa(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodSmooth: function (t) {
                    return new Va(this.times, this.values, this.getValueSize(), t)
                },
                setInterpolation: function (t) {
                    var e;
                    switch (t) {
                        case 2300:
                            e = this.InterpolantFactoryMethodDiscrete;
                            break;
                        case 2301:
                            e = this.InterpolantFactoryMethodLinear;
                            break;
                        case 2302:
                            e = this.InterpolantFactoryMethodSmooth
                    }
                    if (void 0 === e) {
                        var i = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                        if (void 0 === this.createInterpolant) {
                            if (t === this.DefaultInterpolation)throw new Error(i);
                            this.setInterpolation(this.DefaultInterpolation)
                        }
                        return this
                    }
                    return this.createInterpolant = e, this
                },
                getInterpolation: function () {
                    switch (this.createInterpolant) {
                        case this.InterpolantFactoryMethodDiscrete:
                            return 2300;
                        case this.InterpolantFactoryMethodLinear:
                            return 2301;
                        case this.InterpolantFactoryMethodSmooth:
                            return 2302
                    }
                },
                getValueSize: function () {
                    return this.values.length / this.times.length
                },
                shift: function (t) {
                    if (0 !== t)for (var e = this.times, i = 0, n = e.length; i !== n; ++i)e[i] += t;
                    return this
                },
                scale: function (t) {
                    if (1 !== t)for (var e = this.times, i = 0, n = e.length; i !== n; ++i)e[i] *= t;
                    return this
                },
                trim: function (t, e) {
                    for (var i = this.times, n = i.length, r = 0, o = n - 1; r !== n && i[r] < t;)++r;
                    for (; -1 !== o && i[o] > e;)--o;
                    if (++o, 0 !== r || o !== n) {
                        r >= o && (r = (o = Math.max(o, 1)) - 1);
                        var a = this.getValueSize();
                        this.times = Ga.arraySlice(i, r, o), this.values = Ga.arraySlice(this.values, r * a, o * a)
                    }
                    return this
                },
                validate: function () {
                    var t = !0, e = this.getValueSize();
                    e - Math.floor(e) != 0 && (t = !1);
                    var i = this.times, n = this.values, r = i.length;
                    0 === r && (t = !1);
                    for (var o = null, a = 0; a !== r; a++) {
                        var s = i[a];
                        if ("number" == typeof s && isNaN(s)) {
                            t = !1;
                            break
                        }
                        if (null !== o && o > s) {
                            t = !1;
                            break
                        }
                        o = s
                    }
                    if (void 0 !== n && Ga.isTypedArray(n)) {
                        a = 0;
                        for (var l = n.length; a !== l; ++a) {
                            var c = n[a];
                            if (isNaN(c)) {
                                t = !1;
                                break
                            }
                        }
                    }
                    return t
                },
                optimize: function () {
                    for (var t = this.times, e = this.values, i = this.getValueSize(), n = 2302 === this.getInterpolation(), r = 1, o = t.length - 1, a = 1; a < o; ++a) {
                        var s = !1, l = t[a];
                        if (l !== t[a + 1] && (1 !== a || l !== l[0]))if (n) s = !0; else for (var c = a * i, u = c - i, h = c + i, d = 0; d !== i; ++d) {
                            var p = e[c + d];
                            if (p !== e[u + d] || p !== e[h + d]) {
                                s = !0;
                                break
                            }
                        }
                        if (s) {
                            if (a !== r) {
                                t[r] = t[a];
                                var f = a * i, m = r * i;
                                for (d = 0; d !== i; ++d)e[m + d] = e[f + d]
                            }
                            ++r
                        }
                    }
                    if (o > 0) {
                        t[r] = t[o];
                        for (f = o * i, m = r * i, d = 0; d !== i; ++d)e[m + d] = e[f + d];
                        ++r
                    }
                    return r !== t.length && (this.times = Ga.arraySlice(t, 0, r), this.values = Ga.arraySlice(e, 0, r * i)), this
                },
                clone: function () {
                    var t = Ga.arraySlice(this.times, 0), e = Ga.arraySlice(this.values, 0),
                        i = new (0, this.constructor)(this.name, t, e);
                    return i.createInterpolant = this.createInterpolant, i
                }
            }), qa.prototype = Object.assign(Object.create(Xa.prototype), {
                constructor: qa,
                ValueTypeName: "bool",
                ValueBufferType: Array,
                DefaultInterpolation: 2300,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), Ya.prototype = Object.assign(Object.create(Xa.prototype), {
                constructor: Ya,
                ValueTypeName: "color"
            }), Ja.prototype = Object.assign(Object.create(Xa.prototype), {
                constructor: Ja,
                ValueTypeName: "number"
            }), Za.prototype = Object.assign(Object.create($a.prototype), {
                constructor: Za,
                interpolate_: function (t, e, i, n) {
                    for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, l = (i - e) / (n - e), c = s + a; s !== c; s += 4)Ae.slerpFlat(r, 0, o, s - a, o, s, l);
                    return r
                }
            }), Ka.prototype = Object.assign(Object.create(Xa.prototype), {
                constructor: Ka,
                ValueTypeName: "quaternion",
                DefaultInterpolation: 2301,
                InterpolantFactoryMethodLinear: function (t) {
                    return new Za(this.times, this.values, this.getValueSize(), t)
                },
                InterpolantFactoryMethodSmooth: void 0
            }), Qa.prototype = Object.assign(Object.create(Xa.prototype), {
                constructor: Qa,
                ValueTypeName: "string",
                ValueBufferType: Array,
                DefaultInterpolation: 2300,
                InterpolantFactoryMethodLinear: void 0,
                InterpolantFactoryMethodSmooth: void 0
            }), ts.prototype = Object.assign(Object.create(Xa.prototype), {
                constructor: ts,
                ValueTypeName: "vector"
            }), Object.assign(es, {
                parse: function (t) {
                    for (var e = [], i = t.tracks, n = 1 / (t.fps || 1), r = 0, o = i.length; r !== o; ++r)e.push(is(i[r]).scale(n));
                    return new es(t.name, t.duration, e)
                }, toJSON: function (t) {
                    for (var e = [], i = t.tracks, n = {
                        name: t.name,
                        duration: t.duration,
                        tracks: e,
                        uuid: t.uuid
                    }, r = 0, o = i.length; r !== o; ++r)e.push(Xa.toJSON(i[r]));
                    return n
                }, CreateFromMorphTargetSequence: function (t, e, i, n) {
                    for (var r = e.length, o = [], a = 0; a < r; a++) {
                        var s = [], l = [];
                        s.push((a + r - 1) % r, a, (a + 1) % r), l.push(0, 1, 0);
                        var c = Ga.getKeyframeOrder(s);
                        s = Ga.sortedArray(s, 1, c), l = Ga.sortedArray(l, 1, c), n || 0 !== s[0] || (s.push(r), l.push(l[0])), o.push(new Ja(".morphTargetInfluences[" + e[a].name + "]", s, l).scale(1 / i))
                    }
                    return new es(t, -1, o)
                }, findByName: function (t, e) {
                    var i = t;
                    if (!Array.isArray(t)) {
                        var n = t;
                        i = n.geometry && n.geometry.animations || n.animations
                    }
                    for (var r = 0; r < i.length; r++)if (i[r].name === e)return i[r];
                    return null
                }, CreateClipsFromMorphTargetSequences: function (t, e, i) {
                    for (var n = {}, r = /^([\w-]*?)([\d]+)$/, o = 0, a = t.length; o < a; o++) {
                        var s = t[o], l = s.name.match(r);
                        if (l && l.length > 1) {
                            var c = n[h = l[1]];
                            c || (n[h] = c = []), c.push(s)
                        }
                    }
                    var u = [];
                    for (var h in n)u.push(es.CreateFromMorphTargetSequence(h, n[h], e, i));
                    return u
                }, parseAnimation: function (t, e) {
                    if (!t)return null;
                    for (var i = function (t, e, i, n, r) {
                        if (0 !== i.length) {
                            var o = [], a = [];
                            Ga.flattenJSON(i, o, a, n), 0 !== o.length && r.push(new t(e, o, a))
                        }
                    }, n = [], r = t.name || "default", o = t.length || -1, a = t.fps || 30, s = t.hierarchy || [], l = 0; l < s.length; l++) {
                        var c = s[l].keys;
                        if (c && 0 !== c.length)if (c[0].morphTargets) {
                            for (var u = {}, h = 0; h < c.length; h++)if (c[h].morphTargets)for (var d = 0; d < c[h].morphTargets.length; d++)u[c[h].morphTargets[d]] = -1;
                            for (var p in u) {
                                var f = [], m = [];
                                for (d = 0; d !== c[h].morphTargets.length; ++d) {
                                    var g = c[h];
                                    f.push(g.time), m.push(g.morphTarget === p ? 1 : 0)
                                }
                                n.push(new Ja(".morphTargetInfluence[" + p + "]", f, m))
                            }
                            o = u.length * (a || 1)
                        } else {
                            var v = ".bones[" + e[l].name + "]";
                            i(ts, v + ".position", c, "pos", n), i(Ka, v + ".quaternion", c, "rot", n), i(ts, v + ".scale", c, "scl", n)
                        }
                    }
                    return 0 === n.length ? null : new es(r, o, n)
                }
            }), Object.assign(es.prototype, {
                resetDuration: function () {
                    for (var t = 0, e = 0, i = this.tracks.length; e !== i; ++e) {
                        var n = this.tracks[e];
                        t = Math.max(t, n.times[n.times.length - 1])
                    }
                    return this.duration = t, this
                }, trim: function () {
                    for (var t = 0; t < this.tracks.length; t++)this.tracks[t].trim(0, this.duration);
                    return this
                }, validate: function () {
                    for (var t = !0, e = 0; e < this.tracks.length; e++)t = t && this.tracks[e].validate();
                    return t
                }, optimize: function () {
                    for (var t = 0; t < this.tracks.length; t++)this.tracks[t].optimize();
                    return this
                }, clone: function () {
                    for (var t = [], e = 0; e < this.tracks.length; e++)t.push(this.tracks[e].clone());
                    return new es(this.name, this.duration, t)
                }
            });
            var ns = {
                enabled: !1, files: {}, add: function (t, e) {
                    !1 !== this.enabled && (this.files[t] = e)
                }, get: function (t) {
                    if (!1 !== this.enabled)return this.files[t]
                }, remove: function (t) {
                    delete this.files[t]
                }, clear: function () {
                    this.files = {}
                }
            };

            function rs(t, e, i) {
                var n = this, r = !1, o = 0, a = 0, s = void 0;
                this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = i, this.itemStart = function (t) {
                    a++, !1 === r && void 0 !== n.onStart && n.onStart(t, o, a), r = !0
                }, this.itemEnd = function (t) {
                    o++, void 0 !== n.onProgress && n.onProgress(t, o, a), o === a && (r = !1, void 0 !== n.onLoad && n.onLoad())
                }, this.itemError = function (t) {
                    void 0 !== n.onError && n.onError(t)
                }, this.resolveURL = function (t) {
                    return s ? s(t) : t
                }, this.setURLModifier = function (t) {
                    return s = t, this
                }
            }

            var os = new rs, as = {};

            function ss(t) {
                this.manager = void 0 !== t ? t : os
            }

            function ls(t) {
                this.manager = void 0 !== t ? t : os
            }

            function cs(t) {
                this.manager = void 0 !== t ? t : os, this._parser = null
            }

            function us(t) {
                this.manager = void 0 !== t ? t : os, this._parser = null
            }

            function hs(t) {
                this.manager = void 0 !== t ? t : os
            }

            function ds(t) {
                this.manager = void 0 !== t ? t : os
            }

            function ps(t) {
                this.manager = void 0 !== t ? t : os
            }

            function fs() {
                this.type = "Curve", this.arcLengthDivisions = 200
            }

            function ms(t, e, i, n, r, o, a, s) {
                fs.call(this), this.type = "EllipseCurve", this.aX = t || 0, this.aY = e || 0, this.xRadius = i || 1, this.yRadius = n || 1, this.aStartAngle = r || 0, this.aEndAngle = o || 2 * Math.PI, this.aClockwise = a || !1, this.aRotation = s || 0
            }

            function gs(t, e, i, n, r, o) {
                ms.call(this, t, e, i, i, n, r, o), this.type = "ArcCurve"
            }

            function vs() {
                var t = 0, e = 0, i = 0, n = 0;

                function r(r, o, a, s) {
                    t = r, e = a, i = -3 * r + 3 * o - 2 * a - s, n = 2 * r - 2 * o + a + s
                }

                return {
                    initCatmullRom: function (t, e, i, n, o) {
                        r(e, i, o * (i - t), o * (n - e))
                    }, initNonuniformCatmullRom: function (t, e, i, n, o, a, s) {
                        var l = (e - t) / o - (i - t) / (o + a) + (i - e) / a,
                            c = (i - e) / a - (n - e) / (a + s) + (n - i) / s;
                        r(e, i, l *= a, c *= a)
                    }, calc: function (r) {
                        var o = r * r;
                        return t + e * r + i * o + n * (o * r)
                    }
                }
            }

            Object.assign(ss.prototype, {
                load: function (t, e, i, n) {
                    void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
                    var r = this, o = ns.get(t);
                    if (void 0 !== o)return r.manager.itemStart(t), setTimeout(function () {
                        e && e(o), r.manager.itemEnd(t)
                    }, 0), o;
                    if (void 0 === as[t]) {
                        var a = t.match(/^data:(.*?)(;base64)?,(.*)$/);
                        if (a) {
                            var s = a[1], l = !!a[2], c = a[3];
                            c = decodeURIComponent(c), l && (c = atob(c));
                            try {
                                var u, h = (this.responseType || "").toLowerCase();
                                switch (h) {
                                    case"arraybuffer":
                                    case"blob":
                                        for (var d = new Uint8Array(c.length), p = 0; p < c.length; p++)d[p] = c.charCodeAt(p);
                                        u = "blob" === h ? new Blob([d.buffer], {type: s}) : d.buffer;
                                        break;
                                    case"document":
                                        var f = new DOMParser;
                                        u = f.parseFromString(c, s);
                                        break;
                                    case"json":
                                        u = JSON.parse(c);
                                        break;
                                    default:
                                        u = c
                                }
                                setTimeout(function () {
                                    e && e(u), r.manager.itemEnd(t)
                                }, 0)
                            } catch (e) {
                                setTimeout(function () {
                                    n && n(e), r.manager.itemError(t), r.manager.itemEnd(t)
                                }, 0)
                            }
                        } else {
                            as[t] = [], as[t].push({onLoad: e, onProgress: i, onError: n});
                            var m = new XMLHttpRequest;
                            for (var g in m.open("GET", t, !0), m.addEventListener("load", function (e) {
                                var i = this.response;
                                ns.add(t, i);
                                var n = as[t];
                                if (delete as[t], 200 === this.status || 0 === this.status) {
                                    this.status;
                                    for (var o = 0, a = n.length; o < a; o++) {
                                        (s = n[o]).onLoad && s.onLoad(i)
                                    }
                                    r.manager.itemEnd(t)
                                } else {
                                    for (o = 0, a = n.length; o < a; o++) {
                                        var s;
                                        (s = n[o]).onError && s.onError(e)
                                    }
                                    r.manager.itemError(t), r.manager.itemEnd(t)
                                }
                            }, !1), m.addEventListener("progress", function (e) {
                                for (var i = as[t], n = 0, r = i.length; n < r; n++) {
                                    var o = i[n];
                                    o.onProgress && o.onProgress(e)
                                }
                            }, !1), m.addEventListener("error", function (e) {
                                var i = as[t];
                                delete as[t];
                                for (var n = 0, o = i.length; n < o; n++) {
                                    var a = i[n];
                                    a.onError && a.onError(e)
                                }
                                r.manager.itemError(t), r.manager.itemEnd(t)
                            }, !1), m.addEventListener("abort", function (e) {
                                var i = as[t];
                                delete as[t];
                                for (var n = 0, o = i.length; n < o; n++) {
                                    var a = i[n];
                                    a.onError && a.onError(e)
                                }
                                r.manager.itemError(t), r.manager.itemEnd(t)
                            }, !1), void 0 !== this.responseType && (m.responseType = this.responseType), void 0 !== this.withCredentials && (m.withCredentials = this.withCredentials), m.overrideMimeType && m.overrideMimeType(void 0 !== this.mimeType ? this.mimeType : "text/plain"), this.requestHeader)m.setRequestHeader(g, this.requestHeader[g]);
                            m.send(null)
                        }
                        return r.manager.itemStart(t), m
                    }
                    as[t].push({onLoad: e, onProgress: i, onError: n})
                }, setPath: function (t) {
                    return this.path = t, this
                }, setResponseType: function (t) {
                    return this.responseType = t, this
                }, setWithCredentials: function (t) {
                    return this.withCredentials = t, this
                }, setMimeType: function (t) {
                    return this.mimeType = t, this
                }, setRequestHeader: function (t) {
                    return this.requestHeader = t, this
                }
            }), Object.assign(ls.prototype, {
                load: function (t, e, i, n) {
                    var r = this, o = new ss(r.manager);
                    o.setPath(r.path), o.load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, parse: function (t) {
                    for (var e = [], i = 0; i < t.length; i++) {
                        var n = es.parse(t[i]);
                        e.push(n)
                    }
                    return e
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), Object.assign(cs.prototype, {
                load: function (t, e, i, n) {
                    var r = this, o = [], a = new mo;
                    a.image = o;
                    var s = new ss(this.manager);

                    function l(l) {
                        s.load(t[l], function (t) {
                            var i = r._parser(t, !0);
                            o[l] = {
                                width: i.width,
                                height: i.height,
                                format: i.format,
                                mipmaps: i.mipmaps
                            }, 6 === (c += 1) && (1 === i.mipmapCount && (a.minFilter = mt), a.format = i.format, a.needsUpdate = !0, e && e(a))
                        }, i, n)
                    }

                    if (s.setPath(this.path), s.setResponseType("arraybuffer"), Array.isArray(t))for (var c = 0, u = 0, h = t.length; u < h; ++u)l(u); else s.load(t, function (t) {
                        var i = r._parser(t, !0);
                        if (i.isCubemap)for (var n = i.mipmaps.length / i.mipmapCount, s = 0; s < n; s++) {
                            o[s] = {mipmaps: []};
                            for (var l = 0; l < i.mipmapCount; l++)o[s].mipmaps.push(i.mipmaps[s * i.mipmapCount + l]), o[s].format = i.format, o[s].width = i.width, o[s].height = i.height
                        } else a.image.width = i.width, a.image.height = i.height, a.mipmaps = i.mipmaps;
                        1 === i.mipmapCount && (a.minFilter = mt), a.format = i.format, a.needsUpdate = !0, e && e(a)
                    }, i, n);
                    return a
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), Object.assign(us.prototype, {
                load: function (t, e, i, n) {
                    var r = this, o = new Ze, a = new ss(this.manager);
                    return a.setResponseType("arraybuffer"), a.setPath(this.path), a.load(t, function (t) {
                        var i = r._parser(t);
                        i && (void 0 !== i.image ? o.image = i.image : void 0 !== i.data && (o.image.width = i.width, o.image.height = i.height, o.image.data = i.data), o.wrapS = void 0 !== i.wrapS ? i.wrapS : ut, o.wrapT = void 0 !== i.wrapT ? i.wrapT : ut, o.magFilter = void 0 !== i.magFilter ? i.magFilter : mt, o.minFilter = void 0 !== i.minFilter ? i.minFilter : vt, o.anisotropy = void 0 !== i.anisotropy ? i.anisotropy : 1, void 0 !== i.format && (o.format = i.format), void 0 !== i.type && (o.type = i.type), void 0 !== i.mipmaps && (o.mipmaps = i.mipmaps), 1 === i.mipmapCount && (o.minFilter = mt), o.needsUpdate = !0, e && e(o, i))
                    }, i, n), o
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), Object.assign(hs.prototype, {
                crossOrigin: "anonymous", load: function (t, e, i, n) {
                    void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
                    var r = this, o = ns.get(t);
                    if (void 0 !== o)return r.manager.itemStart(t), setTimeout(function () {
                        e && e(o), r.manager.itemEnd(t)
                    }, 0), o;
                    var a = document.createElementNS("http://www.w3.org/1999/xhtml", "img");

                    function s() {
                        a.removeEventListener("load", s, !1), a.removeEventListener("error", l, !1), ns.add(t, this), e && e(this), r.manager.itemEnd(t)
                    }

                    function l(e) {
                        a.removeEventListener("load", s, !1), a.removeEventListener("error", l, !1), n && n(e), r.manager.itemError(t), r.manager.itemEnd(t)
                    }

                    return a.addEventListener("load", s, !1), a.addEventListener("error", l, !1), "data:" !== t.substr(0, 5) && void 0 !== this.crossOrigin && (a.crossOrigin = this.crossOrigin), r.manager.itemStart(t), a.src = t, a
                }, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), Object.assign(ds.prototype, {
                crossOrigin: "anonymous", load: function (t, e, i, n) {
                    var r = new _n, o = new hs(this.manager);
                    o.setCrossOrigin(this.crossOrigin), o.setPath(this.path);
                    var a = 0;

                    function s(i) {
                        o.load(t[i], function (t) {
                            r.images[i] = t, 6 === ++a && (r.needsUpdate = !0, e && e(r))
                        }, void 0, n)
                    }

                    for (var l = 0; l < t.length; ++l)s(l);
                    return r
                }, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), Object.assign(ps.prototype, {
                crossOrigin: "anonymous", load: function (t, e, i, n) {
                    var r = new We, o = new hs(this.manager);
                    return o.setCrossOrigin(this.crossOrigin), o.setPath(this.path), o.load(t, function (i) {
                        r.image = i;
                        var n = t.search(/\.jpe?g($|\?)/i) > 0 || 0 === t.search(/^data\:image\/jpeg/);
                        r.format = n ? Lt : kt, r.needsUpdate = !0, void 0 !== e && e(r)
                    }, i, n), r
                }, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), Object.assign(fs.prototype, {
                getPoint: function () {
                    return null
                }, getPointAt: function (t, e) {
                    var i = this.getUtoTmapping(t);
                    return this.getPoint(i, e)
                }, getPoints: function (t) {
                    void 0 === t && (t = 5);
                    for (var e = [], i = 0; i <= t; i++)e.push(this.getPoint(i / t));
                    return e
                }, getSpacedPoints: function (t) {
                    void 0 === t && (t = 5);
                    for (var e = [], i = 0; i <= t; i++)e.push(this.getPointAt(i / t));
                    return e
                }, getLength: function () {
                    var t = this.getLengths();
                    return t[t.length - 1]
                }, getLengths: function (t) {
                    if (void 0 === t && (t = this.arcLengthDivisions), this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate)return this.cacheArcLengths;
                    this.needsUpdate = !1;
                    var e, i, n = [], r = this.getPoint(0), o = 0;
                    for (n.push(0), i = 1; i <= t; i++)o += (e = this.getPoint(i / t)).distanceTo(r), n.push(o), r = e;
                    return this.cacheArcLengths = n, n
                }, updateArcLengths: function () {
                    this.needsUpdate = !0, this.getLengths()
                }, getUtoTmapping: function (t, e) {
                    var i, n = this.getLengths(), r = 0, o = n.length;
                    i = e || t * n[o - 1];
                    for (var a, s = 0, l = o - 1; s <= l;)if ((a = n[r = Math.floor(s + (l - s) / 2)] - i) < 0) s = r + 1; else {
                        if (!(a > 0)) {
                            l = r;
                            break
                        }
                        l = r - 1
                    }
                    if (n[r = l] === i)return r / (o - 1);
                    var c = n[r];
                    return (r + (i - c) / (n[r + 1] - c)) / (o - 1)
                }, getTangent: function (t) {
                    var e = t - 1e-4, i = t + 1e-4;
                    e < 0 && (e = 0), i > 1 && (i = 1);
                    var n = this.getPoint(e);
                    return this.getPoint(i).clone().sub(n).normalize()
                }, getTangentAt: function (t) {
                    var e = this.getUtoTmapping(t);
                    return this.getTangent(e)
                }, computeFrenetFrames: function (t, e) {
                    var i, n, r, o = new Pe, a = [], s = [], l = [], c = new Pe, u = new ii;
                    for (i = 0; i <= t; i++)n = i / t, a[i] = this.getTangentAt(n), a[i].normalize();
                    s[0] = new Pe, l[0] = new Pe;
                    var h = Number.MAX_VALUE, d = Math.abs(a[0].x), p = Math.abs(a[0].y), f = Math.abs(a[0].z);
                    for (d <= h && (h = d, o.set(1, 0, 0)), p <= h && (h = p, o.set(0, 1, 0)), f <= h && o.set(0, 0, 1), c.crossVectors(a[0], o).normalize(), s[0].crossVectors(a[0], c), l[0].crossVectors(a[0], s[0]), i = 1; i <= t; i++)s[i] = s[i - 1].clone(), l[i] = l[i - 1].clone(), c.crossVectors(a[i - 1], a[i]), c.length() > Number.EPSILON && (c.normalize(), r = Math.acos(Me.clamp(a[i - 1].dot(a[i]), -1, 1)), s[i].applyMatrix4(u.makeRotationAxis(c, r))), l[i].crossVectors(a[i], s[i]);
                    if (!0 === e)for (r = Math.acos(Me.clamp(s[0].dot(s[t]), -1, 1)), r /= t, a[0].dot(c.crossVectors(s[0], s[t])) > 0 && (r = -r), i = 1; i <= t; i++)s[i].applyMatrix4(u.makeRotationAxis(a[i], r * i)), l[i].crossVectors(a[i], s[i]);
                    return {tangents: a, normals: s, binormals: l}
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.arcLengthDivisions = t.arcLengthDivisions, this
                }, toJSON: function () {
                    var t = {metadata: {version: 4.5, type: "Curve", generator: "Curve.toJSON"}};
                    return t.arcLengthDivisions = this.arcLengthDivisions, t.type = this.type, t
                }, fromJSON: function (t) {
                    return this.arcLengthDivisions = t.arcLengthDivisions, this
                }
            }), ms.prototype = Object.create(fs.prototype), ms.prototype.constructor = ms, ms.prototype.isEllipseCurve = !0, ms.prototype.getPoint = function (t, e) {
                for (var i = e || new Te, n = 2 * Math.PI, r = this.aEndAngle - this.aStartAngle, o = Math.abs(r) < Number.EPSILON; r < 0;)r += n;
                for (; r > n;)r -= n;
                r < Number.EPSILON && (r = o ? 0 : n), !0 !== this.aClockwise || o || (r === n ? r = -n : r -= n);
                var a = this.aStartAngle + t * r, s = this.aX + this.xRadius * Math.cos(a),
                    l = this.aY + this.yRadius * Math.sin(a);
                if (0 !== this.aRotation) {
                    var c = Math.cos(this.aRotation), u = Math.sin(this.aRotation), h = s - this.aX, d = l - this.aY;
                    s = h * c - d * u + this.aX, l = h * u + d * c + this.aY
                }
                return i.set(s, l)
            }, ms.prototype.copy = function (t) {
                return fs.prototype.copy.call(this, t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this
            }, ms.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                return t.aX = this.aX, t.aY = this.aY, t.xRadius = this.xRadius, t.yRadius = this.yRadius, t.aStartAngle = this.aStartAngle, t.aEndAngle = this.aEndAngle, t.aClockwise = this.aClockwise, t.aRotation = this.aRotation, t
            }, ms.prototype.fromJSON = function (t) {
                return fs.prototype.fromJSON.call(this, t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this
            }, gs.prototype = Object.create(ms.prototype), gs.prototype.constructor = gs, gs.prototype.isArcCurve = !0;
            var ys = new Pe, _s = new vs, xs = new vs, bs = new vs;

            function ws(t, e, i, n) {
                fs.call(this), this.type = "CatmullRomCurve3", this.points = t || [], this.closed = e || !1, this.curveType = i || "centripetal", this.tension = n || .5
            }

            function Ss(t, e, i, n, r) {
                var o = .5 * (n - e), a = .5 * (r - i), s = t * t;
                return (2 * i - 2 * n + o + a) * (t * s) + (-3 * i + 3 * n - 2 * o - a) * s + o * t + i
            }

            function Ms(t, e, i, n) {
                return function (t, e) {
                        var i = 1 - t;
                        return i * i * e
                    }(t, e) + function (t, e) {
                        return 2 * (1 - t) * t * e
                    }(t, i) + function (t, e) {
                        return t * t * e
                    }(t, n)
            }

            function Ts(t, e, i, n, r) {
                return function (t, e) {
                        var i = 1 - t;
                        return i * i * i * e
                    }(t, e) + function (t, e) {
                        var i = 1 - t;
                        return 3 * i * i * t * e
                    }(t, i) + function (t, e) {
                        return 3 * (1 - t) * t * t * e
                    }(t, n) + function (t, e) {
                        return t * t * t * e
                    }(t, r)
            }

            function As(t, e, i, n) {
                fs.call(this), this.type = "CubicBezierCurve", this.v0 = t || new Te, this.v1 = e || new Te, this.v2 = i || new Te, this.v3 = n || new Te
            }

            function Ps(t, e, i, n) {
                fs.call(this), this.type = "CubicBezierCurve3", this.v0 = t || new Pe, this.v1 = e || new Pe, this.v2 = i || new Pe, this.v3 = n || new Pe
            }

            function Es(t, e) {
                fs.call(this), this.type = "LineCurve", this.v1 = t || new Te, this.v2 = e || new Te
            }

            function Cs(t, e) {
                fs.call(this), this.type = "LineCurve3", this.v1 = t || new Pe, this.v2 = e || new Pe
            }

            function Os(t, e, i) {
                fs.call(this), this.type = "QuadraticBezierCurve", this.v0 = t || new Te, this.v1 = e || new Te, this.v2 = i || new Te
            }

            function Ls(t, e, i) {
                fs.call(this), this.type = "QuadraticBezierCurve3", this.v0 = t || new Pe, this.v1 = e || new Pe, this.v2 = i || new Pe
            }

            function ks(t) {
                fs.call(this), this.type = "SplineCurve", this.points = t || []
            }

            ws.prototype = Object.create(fs.prototype), ws.prototype.constructor = ws, ws.prototype.isCatmullRomCurve3 = !0, ws.prototype.getPoint = function (t, e) {
                var i, n, r, o, a = e || new Pe, s = this.points, l = s.length, c = (l - (this.closed ? 0 : 1)) * t,
                    u = Math.floor(c), h = c - u;
                if (this.closed ? u += u > 0 ? 0 : (Math.floor(Math.abs(u) / l) + 1) * l : 0 === h && u === l - 1 && (u = l - 2, h = 1), this.closed || u > 0 ? i = s[(u - 1) % l] : (ys.subVectors(s[0], s[1]).add(s[0]), i = ys), n = s[u % l], r = s[(u + 1) % l], this.closed || u + 2 < l ? o = s[(u + 2) % l] : (ys.subVectors(s[l - 1], s[l - 2]).add(s[l - 1]), o = ys), "centripetal" === this.curveType || "chordal" === this.curveType) {
                    var d = "chordal" === this.curveType ? .5 : .25, p = Math.pow(i.distanceToSquared(n), d),
                        f = Math.pow(n.distanceToSquared(r), d), m = Math.pow(r.distanceToSquared(o), d);
                    f < 1e-4 && (f = 1), p < 1e-4 && (p = f), m < 1e-4 && (m = f), _s.initNonuniformCatmullRom(i.x, n.x, r.x, o.x, p, f, m), xs.initNonuniformCatmullRom(i.y, n.y, r.y, o.y, p, f, m), bs.initNonuniformCatmullRom(i.z, n.z, r.z, o.z, p, f, m)
                } else"catmullrom" === this.curveType && (_s.initCatmullRom(i.x, n.x, r.x, o.x, this.tension), xs.initCatmullRom(i.y, n.y, r.y, o.y, this.tension), bs.initCatmullRom(i.z, n.z, r.z, o.z, this.tension));
                return a.set(_s.calc(h), xs.calc(h), bs.calc(h)), a
            }, ws.prototype.copy = function (t) {
                fs.prototype.copy.call(this, t), this.points = [];
                for (var e = 0, i = t.points.length; e < i; e++) {
                    var n = t.points[e];
                    this.points.push(n.clone())
                }
                return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this
            }, ws.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                t.points = [];
                for (var e = 0, i = this.points.length; e < i; e++) {
                    var n = this.points[e];
                    t.points.push(n.toArray())
                }
                return t.closed = this.closed, t.curveType = this.curveType, t.tension = this.tension, t
            }, ws.prototype.fromJSON = function (t) {
                fs.prototype.fromJSON.call(this, t), this.points = [];
                for (var e = 0, i = t.points.length; e < i; e++) {
                    var n = t.points[e];
                    this.points.push((new Pe).fromArray(n))
                }
                return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this
            }, As.prototype = Object.create(fs.prototype), As.prototype.constructor = As, As.prototype.isCubicBezierCurve = !0, As.prototype.getPoint = function (t, e) {
                var i = e || new Te, n = this.v0, r = this.v1, o = this.v2, a = this.v3;
                return i.set(Ts(t, n.x, r.x, o.x, a.x), Ts(t, n.y, r.y, o.y, a.y)), i
            }, As.prototype.copy = function (t) {
                return fs.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this
            }, As.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t
            }, As.prototype.fromJSON = function (t) {
                return fs.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this
            }, Ps.prototype = Object.create(fs.prototype), Ps.prototype.constructor = Ps, Ps.prototype.isCubicBezierCurve3 = !0, Ps.prototype.getPoint = function (t, e) {
                var i = e || new Pe, n = this.v0, r = this.v1, o = this.v2, a = this.v3;
                return i.set(Ts(t, n.x, r.x, o.x, a.x), Ts(t, n.y, r.y, o.y, a.y), Ts(t, n.z, r.z, o.z, a.z)), i
            }, Ps.prototype.copy = function (t) {
                return fs.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this
            }, Ps.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t
            }, Ps.prototype.fromJSON = function (t) {
                return fs.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this
            }, Es.prototype = Object.create(fs.prototype), Es.prototype.constructor = Es, Es.prototype.isLineCurve = !0, Es.prototype.getPoint = function (t, e) {
                var i = e || new Te;
                return 1 === t ? i.copy(this.v2) : (i.copy(this.v2).sub(this.v1), i.multiplyScalar(t).add(this.v1)), i
            }, Es.prototype.getPointAt = function (t, e) {
                return this.getPoint(t, e)
            }, Es.prototype.getTangent = function () {
                return this.v2.clone().sub(this.v1).normalize()
            }, Es.prototype.copy = function (t) {
                return fs.prototype.copy.call(this, t), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, Es.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, Es.prototype.fromJSON = function (t) {
                return fs.prototype.fromJSON.call(this, t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, Cs.prototype = Object.create(fs.prototype), Cs.prototype.constructor = Cs, Cs.prototype.isLineCurve3 = !0, Cs.prototype.getPoint = function (t, e) {
                var i = e || new Pe;
                return 1 === t ? i.copy(this.v2) : (i.copy(this.v2).sub(this.v1), i.multiplyScalar(t).add(this.v1)), i
            }, Cs.prototype.getPointAt = function (t, e) {
                return this.getPoint(t, e)
            }, Cs.prototype.copy = function (t) {
                return fs.prototype.copy.call(this, t), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, Cs.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, Cs.prototype.fromJSON = function (t) {
                return fs.prototype.fromJSON.call(this, t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, Os.prototype = Object.create(fs.prototype), Os.prototype.constructor = Os, Os.prototype.isQuadraticBezierCurve = !0, Os.prototype.getPoint = function (t, e) {
                var i = e || new Te, n = this.v0, r = this.v1, o = this.v2;
                return i.set(Ms(t, n.x, r.x, o.x), Ms(t, n.y, r.y, o.y)), i
            }, Os.prototype.copy = function (t) {
                return fs.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, Os.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, Os.prototype.fromJSON = function (t) {
                return fs.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, Ls.prototype = Object.create(fs.prototype), Ls.prototype.constructor = Ls, Ls.prototype.isQuadraticBezierCurve3 = !0, Ls.prototype.getPoint = function (t, e) {
                var i = e || new Pe, n = this.v0, r = this.v1, o = this.v2;
                return i.set(Ms(t, n.x, r.x, o.x), Ms(t, n.y, r.y, o.y), Ms(t, n.z, r.z, o.z)), i
            }, Ls.prototype.copy = function (t) {
                return fs.prototype.copy.call(this, t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this
            }, Ls.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t
            }, Ls.prototype.fromJSON = function (t) {
                return fs.prototype.fromJSON.call(this, t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this
            }, ks.prototype = Object.create(fs.prototype), ks.prototype.constructor = ks, ks.prototype.isSplineCurve = !0, ks.prototype.getPoint = function (t, e) {
                var i = e || new Te, n = this.points, r = (n.length - 1) * t, o = Math.floor(r), a = r - o,
                    s = n[0 === o ? o : o - 1], l = n[o], c = n[o > n.length - 2 ? n.length - 1 : o + 1],
                    u = n[o > n.length - 3 ? n.length - 1 : o + 2];
                return i.set(Ss(a, s.x, l.x, c.x, u.x), Ss(a, s.y, l.y, c.y, u.y)), i
            }, ks.prototype.copy = function (t) {
                fs.prototype.copy.call(this, t), this.points = [];
                for (var e = 0, i = t.points.length; e < i; e++) {
                    var n = t.points[e];
                    this.points.push(n.clone())
                }
                return this
            }, ks.prototype.toJSON = function () {
                var t = fs.prototype.toJSON.call(this);
                t.points = [];
                for (var e = 0, i = this.points.length; e < i; e++) {
                    var n = this.points[e];
                    t.points.push(n.toArray())
                }
                return t
            }, ks.prototype.fromJSON = function (t) {
                fs.prototype.fromJSON.call(this, t), this.points = [];
                for (var e = 0, i = t.points.length; e < i; e++) {
                    var n = t.points[e];
                    this.points.push((new Te).fromArray(n))
                }
                return this
            };
            var Is = Object.freeze({
                ArcCurve: gs,
                CatmullRomCurve3: ws,
                CubicBezierCurve: As,
                CubicBezierCurve3: Ps,
                EllipseCurve: ms,
                LineCurve: Es,
                LineCurve3: Cs,
                QuadraticBezierCurve: Os,
                QuadraticBezierCurve3: Ls,
                SplineCurve: ks
            });

            function Ns() {
                fs.call(this), this.type = "CurvePath", this.curves = [], this.autoClose = !1
            }

            function Rs(t) {
                Ns.call(this), this.type = "Path", this.currentPoint = new Te, t && this.setFromPoints(t)
            }

            function Ds(t) {
                Rs.call(this, t), this.uuid = Me.generateUUID(), this.type = "Shape", this.holes = []
            }

            function zs(t, e) {
                Ti.call(this), this.type = "Light", this.color = new hi(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0
            }

            function js(t, e, i) {
                zs.call(this, t, i), this.type = "HemisphereLight", this.castShadow = void 0, this.position.copy(Ti.DefaultUp), this.updateMatrix(), this.groundColor = new hi(e)
            }

            function Fs(t) {
                this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new Te(512, 512), this.map = null, this.matrix = new ii
            }

            function Bs() {
                Fs.call(this, new zr(50, 1, .5, 500))
            }

            function Us(t, e, i, n, r, o) {
                zs.call(this, t, e), this.type = "SpotLight", this.position.copy(Ti.DefaultUp), this.updateMatrix(), this.target = new Ti, Object.defineProperty(this, "power", {
                    get: function () {
                        return this.intensity * Math.PI
                    }, set: function (t) {
                        this.intensity = t / Math.PI
                    }
                }), this.distance = void 0 !== i ? i : 0, this.angle = void 0 !== n ? n : Math.PI / 3, this.penumbra = void 0 !== r ? r : 0, this.decay = void 0 !== o ? o : 1, this.shadow = new Bs
            }

            function Gs(t, e, i, n) {
                zs.call(this, t, e), this.type = "PointLight", Object.defineProperty(this, "power", {
                    get: function () {
                        return 4 * this.intensity * Math.PI
                    }, set: function (t) {
                        this.intensity = t / (4 * Math.PI)
                    }
                }), this.distance = void 0 !== i ? i : 0, this.decay = void 0 !== n ? n : 1, this.shadow = new Fs(new zr(90, 1, .5, 500))
            }

            function $s(t, e, i, n, r, o) {
                Dr.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = void 0 !== t ? t : -1, this.right = void 0 !== e ? e : 1, this.top = void 0 !== i ? i : 1, this.bottom = void 0 !== n ? n : -1, this.near = void 0 !== r ? r : .1, this.far = void 0 !== o ? o : 2e3, this.updateProjectionMatrix()
            }

            function Vs() {
                Fs.call(this, new $s(-5, 5, 5, -5, .5, 500))
            }

            function Ws(t, e) {
                zs.call(this, t, e), this.type = "DirectionalLight", this.position.copy(Ti.DefaultUp), this.updateMatrix(), this.target = new Ti, this.shadow = new Vs
            }

            function Hs(t, e) {
                zs.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0
            }

            function Xs(t, e, i, n) {
                zs.call(this, t, e), this.type = "RectAreaLight", this.width = void 0 !== i ? i : 10, this.height = void 0 !== n ? n : 10
            }

            function qs(t) {
                this.manager = void 0 !== t ? t : os, this.textures = {}
            }

            Ns.prototype = Object.assign(Object.create(fs.prototype), {
                constructor: Ns, add: function (t) {
                    this.curves.push(t)
                }, closePath: function () {
                    var t = this.curves[0].getPoint(0), e = this.curves[this.curves.length - 1].getPoint(1);
                    t.equals(e) || this.curves.push(new Es(e, t))
                }, getPoint: function (t) {
                    for (var e = t * this.getLength(), i = this.getCurveLengths(), n = 0; n < i.length;) {
                        if (i[n] >= e) {
                            var r = i[n] - e, o = this.curves[n], a = o.getLength(), s = 0 === a ? 0 : 1 - r / a;
                            return o.getPointAt(s)
                        }
                        n++
                    }
                    return null
                }, getLength: function () {
                    var t = this.getCurveLengths();
                    return t[t.length - 1]
                }, updateArcLengths: function () {
                    this.needsUpdate = !0, this.cacheLengths = null, this.getCurveLengths()
                }, getCurveLengths: function () {
                    if (this.cacheLengths && this.cacheLengths.length === this.curves.length)return this.cacheLengths;
                    for (var t = [], e = 0, i = 0, n = this.curves.length; i < n; i++)e += this.curves[i].getLength(), t.push(e);
                    return this.cacheLengths = t, t
                }, getSpacedPoints: function (t) {
                    void 0 === t && (t = 40);
                    for (var e = [], i = 0; i <= t; i++)e.push(this.getPoint(i / t));
                    return this.autoClose && e.push(e[0]), e
                }, getPoints: function (t) {
                    t = t || 12;
                    for (var e, i = [], n = 0, r = this.curves; n < r.length; n++)for (var o = r[n], a = o && o.isEllipseCurve ? 2 * t : o && (o.isLineCurve || o.isLineCurve3) ? 1 : o && o.isSplineCurve ? t * o.points.length : t, s = o.getPoints(a), l = 0; l < s.length; l++) {
                        var c = s[l];
                        e && e.equals(c) || (i.push(c), e = c)
                    }
                    return this.autoClose && i.length > 1 && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i
                }, copy: function (t) {
                    fs.prototype.copy.call(this, t), this.curves = [];
                    for (var e = 0, i = t.curves.length; e < i; e++) {
                        var n = t.curves[e];
                        this.curves.push(n.clone())
                    }
                    return this.autoClose = t.autoClose, this
                }, toJSON: function () {
                    var t = fs.prototype.toJSON.call(this);
                    t.autoClose = this.autoClose, t.curves = [];
                    for (var e = 0, i = this.curves.length; e < i; e++) {
                        var n = this.curves[e];
                        t.curves.push(n.toJSON())
                    }
                    return t
                }, fromJSON: function (t) {
                    fs.prototype.fromJSON.call(this, t), this.autoClose = t.autoClose, this.curves = [];
                    for (var e = 0, i = t.curves.length; e < i; e++) {
                        var n = t.curves[e];
                        this.curves.push((new Is[n.type]).fromJSON(n))
                    }
                    return this
                }
            }), Rs.prototype = Object.assign(Object.create(Ns.prototype), {
                constructor: Rs,
                setFromPoints: function (t) {
                    this.moveTo(t[0].x, t[0].y);
                    for (var e = 1, i = t.length; e < i; e++)this.lineTo(t[e].x, t[e].y)
                },
                moveTo: function (t, e) {
                    this.currentPoint.set(t, e)
                },
                lineTo: function (t, e) {
                    var i = new Es(this.currentPoint.clone(), new Te(t, e));
                    this.curves.push(i), this.currentPoint.set(t, e)
                },
                quadraticCurveTo: function (t, e, i, n) {
                    var r = new Os(this.currentPoint.clone(), new Te(t, e), new Te(i, n));
                    this.curves.push(r), this.currentPoint.set(i, n)
                },
                bezierCurveTo: function (t, e, i, n, r, o) {
                    var a = new As(this.currentPoint.clone(), new Te(t, e), new Te(i, n), new Te(r, o));
                    this.curves.push(a), this.currentPoint.set(r, o)
                },
                splineThru: function (t) {
                    var e = new ks([this.currentPoint.clone()].concat(t));
                    this.curves.push(e), this.currentPoint.copy(t[t.length - 1])
                },
                arc: function (t, e, i, n, r, o) {
                    var a = this.currentPoint.x, s = this.currentPoint.y;
                    this.absarc(t + a, e + s, i, n, r, o)
                },
                absarc: function (t, e, i, n, r, o) {
                    this.absellipse(t, e, i, i, n, r, o)
                },
                ellipse: function (t, e, i, n, r, o, a, s) {
                    var l = this.currentPoint.x, c = this.currentPoint.y;
                    this.absellipse(t + l, e + c, i, n, r, o, a, s)
                },
                absellipse: function (t, e, i, n, r, o, a, s) {
                    var l = new ms(t, e, i, n, r, o, a, s);
                    if (this.curves.length > 0) {
                        var c = l.getPoint(0);
                        c.equals(this.currentPoint) || this.lineTo(c.x, c.y)
                    }
                    this.curves.push(l);
                    var u = l.getPoint(1);
                    this.currentPoint.copy(u)
                },
                copy: function (t) {
                    return Ns.prototype.copy.call(this, t), this.currentPoint.copy(t.currentPoint), this
                },
                toJSON: function () {
                    var t = Ns.prototype.toJSON.call(this);
                    return t.currentPoint = this.currentPoint.toArray(), t
                },
                fromJSON: function (t) {
                    return Ns.prototype.fromJSON.call(this, t), this.currentPoint.fromArray(t.currentPoint), this
                }
            }), Ds.prototype = Object.assign(Object.create(Rs.prototype), {
                constructor: Ds,
                getPointsHoles: function (t) {
                    for (var e = [], i = 0, n = this.holes.length; i < n; i++)e[i] = this.holes[i].getPoints(t);
                    return e
                },
                extractPoints: function (t) {
                    return {shape: this.getPoints(t), holes: this.getPointsHoles(t)}
                },
                copy: function (t) {
                    Rs.prototype.copy.call(this, t), this.holes = [];
                    for (var e = 0, i = t.holes.length; e < i; e++) {
                        var n = t.holes[e];
                        this.holes.push(n.clone())
                    }
                    return this
                },
                toJSON: function () {
                    var t = Rs.prototype.toJSON.call(this);
                    t.uuid = this.uuid, t.holes = [];
                    for (var e = 0, i = this.holes.length; e < i; e++) {
                        var n = this.holes[e];
                        t.holes.push(n.toJSON())
                    }
                    return t
                },
                fromJSON: function (t) {
                    Rs.prototype.fromJSON.call(this, t), this.uuid = t.uuid, this.holes = [];
                    for (var e = 0, i = t.holes.length; e < i; e++) {
                        var n = t.holes[e];
                        this.holes.push((new Rs).fromJSON(n))
                    }
                    return this
                }
            }), zs.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: zs,
                isLight: !0,
                copy: function (t) {
                    return Ti.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this
                },
                toJSON: function (t) {
                    var e = Ti.prototype.toJSON.call(this, t);
                    return e.object.color = this.color.getHex(), e.object.intensity = this.intensity, void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e.object.distance = this.distance), void 0 !== this.angle && (e.object.angle = this.angle), void 0 !== this.decay && (e.object.decay = this.decay), void 0 !== this.penumbra && (e.object.penumbra = this.penumbra), void 0 !== this.shadow && (e.object.shadow = this.shadow.toJSON()), e
                }
            }), js.prototype = Object.assign(Object.create(zs.prototype), {
                constructor: js,
                isHemisphereLight: !0,
                copy: function (t) {
                    return zs.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this
                }
            }), Object.assign(Fs.prototype, {
                copy: function (t) {
                    return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, toJSON: function () {
                    var t = {};
                    return 0 !== this.bias && (t.bias = this.bias), 1 !== this.radius && (t.radius = this.radius), 512 === this.mapSize.x && 512 === this.mapSize.y || (t.mapSize = this.mapSize.toArray()), t.camera = this.camera.toJSON(!1).object, delete t.camera.matrix, t
                }
            }), Bs.prototype = Object.assign(Object.create(Fs.prototype), {
                constructor: Bs,
                isSpotLightShadow: !0,
                update: function (t) {
                    var e = this.camera, i = 2 * Me.RAD2DEG * t.angle, n = this.mapSize.width / this.mapSize.height,
                        r = t.distance || e.far;
                    i === e.fov && n === e.aspect && r === e.far || (e.fov = i, e.aspect = n, e.far = r, e.updateProjectionMatrix())
                }
            }), Us.prototype = Object.assign(Object.create(zs.prototype), {
                constructor: Us,
                isSpotLight: !0,
                copy: function (t) {
                    return zs.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), Gs.prototype = Object.assign(Object.create(zs.prototype), {
                constructor: Gs,
                isPointLight: !0,
                copy: function (t) {
                    return zs.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this
                }
            }), $s.prototype = Object.assign(Object.create(Dr.prototype), {
                constructor: $s,
                isOrthographicCamera: !0,
                copy: function (t, e) {
                    return Dr.prototype.copy.call(this, t, e), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this.view = null === t.view ? null : Object.assign({}, t.view), this
                },
                setViewOffset: function (t, e, i, n, r, o) {
                    null === this.view && (this.view = {
                        enabled: !0,
                        fullWidth: 1,
                        fullHeight: 1,
                        offsetX: 0,
                        offsetY: 0,
                        width: 1,
                        height: 1
                    }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = e, this.view.offsetX = i, this.view.offsetY = n, this.view.width = r, this.view.height = o, this.updateProjectionMatrix()
                },
                clearViewOffset: function () {
                    null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix()
                },
                updateProjectionMatrix: function () {
                    var t = (this.right - this.left) / (2 * this.zoom), e = (this.top - this.bottom) / (2 * this.zoom),
                        i = (this.right + this.left) / 2, n = (this.top + this.bottom) / 2, r = i - t, o = i + t,
                        a = n + e, s = n - e;
                    if (null !== this.view && this.view.enabled) {
                        var l = this.zoom / (this.view.width / this.view.fullWidth),
                            c = this.zoom / (this.view.height / this.view.fullHeight),
                            u = (this.right - this.left) / this.view.width,
                            h = (this.top - this.bottom) / this.view.height;
                        o = (r += u * (this.view.offsetX / l)) + u * (this.view.width / l), s = (a -= h * (this.view.offsetY / c)) - h * (this.view.height / c)
                    }
                    this.projectionMatrix.makeOrthographic(r, o, a, s, this.near, this.far), this.projectionMatrixInverse.getInverse(this.projectionMatrix)
                },
                toJSON: function (t) {
                    var e = Ti.prototype.toJSON.call(this, t);
                    return e.object.zoom = this.zoom, e.object.left = this.left, e.object.right = this.right, e.object.top = this.top, e.object.bottom = this.bottom, e.object.near = this.near, e.object.far = this.far, null !== this.view && (e.object.view = Object.assign({}, this.view)), e
                }
            }), Vs.prototype = Object.assign(Object.create(Fs.prototype), {constructor: Vs}), Ws.prototype = Object.assign(Object.create(zs.prototype), {
                constructor: Ws,
                isDirectionalLight: !0,
                copy: function (t) {
                    return zs.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this
                }
            }), Hs.prototype = Object.assign(Object.create(zs.prototype), {
                constructor: Hs,
                isAmbientLight: !0
            }), Xs.prototype = Object.assign(Object.create(zs.prototype), {
                constructor: Xs,
                isRectAreaLight: !0,
                copy: function (t) {
                    return zs.prototype.copy.call(this, t), this.width = t.width, this.height = t.height, this
                },
                toJSON: function (t) {
                    var e = zs.prototype.toJSON.call(this, t);
                    return e.object.width = this.width, e.object.height = this.height, e
                }
            }), Object.assign(qs.prototype, {
                load: function (t, e, i, n) {
                    var r = this, o = new ss(r.manager);
                    o.setPath(r.path), o.load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, parse: function (t) {
                    var e = this.textures;

                    function i(t) {
                        return e[t], e[t]
                    }

                    var n = new Ua[t.type];
                    if (void 0 !== t.uuid && (n.uuid = t.uuid), void 0 !== t.name && (n.name = t.name), void 0 !== t.color && n.color.setHex(t.color), void 0 !== t.roughness && (n.roughness = t.roughness), void 0 !== t.metalness && (n.metalness = t.metalness), void 0 !== t.emissive && n.emissive.setHex(t.emissive), void 0 !== t.specular && n.specular.setHex(t.specular), void 0 !== t.shininess && (n.shininess = t.shininess), void 0 !== t.clearCoat && (n.clearCoat = t.clearCoat), void 0 !== t.clearCoatRoughness && (n.clearCoatRoughness = t.clearCoatRoughness), void 0 !== t.vertexColors && (n.vertexColors = t.vertexColors), void 0 !== t.fog && (n.fog = t.fog), void 0 !== t.flatShading && (n.flatShading = t.flatShading), void 0 !== t.blending && (n.blending = t.blending), void 0 !== t.combine && (n.combine = t.combine), void 0 !== t.side && (n.side = t.side), void 0 !== t.opacity && (n.opacity = t.opacity), void 0 !== t.transparent && (n.transparent = t.transparent), void 0 !== t.alphaTest && (n.alphaTest = t.alphaTest), void 0 !== t.depthTest && (n.depthTest = t.depthTest), void 0 !== t.depthWrite && (n.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (n.colorWrite = t.colorWrite), void 0 !== t.wireframe && (n.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (n.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.wireframeLinecap && (n.wireframeLinecap = t.wireframeLinecap), void 0 !== t.wireframeLinejoin && (n.wireframeLinejoin = t.wireframeLinejoin), void 0 !== t.rotation && (n.rotation = t.rotation), 1 !== t.linewidth && (n.linewidth = t.linewidth), void 0 !== t.dashSize && (n.dashSize = t.dashSize), void 0 !== t.gapSize && (n.gapSize = t.gapSize), void 0 !== t.scale && (n.scale = t.scale), void 0 !== t.polygonOffset && (n.polygonOffset = t.polygonOffset), void 0 !== t.polygonOffsetFactor && (n.polygonOffsetFactor = t.polygonOffsetFactor), void 0 !== t.polygonOffsetUnits && (n.polygonOffsetUnits = t.polygonOffsetUnits), void 0 !== t.skinning && (n.skinning = t.skinning), void 0 !== t.morphTargets && (n.morphTargets = t.morphTargets), void 0 !== t.dithering && (n.dithering = t.dithering), void 0 !== t.visible && (n.visible = t.visible), void 0 !== t.userData && (n.userData = t.userData), void 0 !== t.uniforms)for (var r in t.uniforms) {
                        var o = t.uniforms[r];
                        switch (n.uniforms[r] = {}, o.type) {
                            case"t":
                                n.uniforms[r].value = i(o.value);
                                break;
                            case"c":
                                n.uniforms[r].value = (new hi).setHex(o.value);
                                break;
                            case"v2":
                                n.uniforms[r].value = (new Te).fromArray(o.value);
                                break;
                            case"v3":
                                n.uniforms[r].value = (new Pe).fromArray(o.value);
                                break;
                            case"v4":
                                n.uniforms[r].value = (new He).fromArray(o.value);
                                break;
                            case"m3":
                                n.uniforms[r].value = (new Ee).fromArray(o.value);
                            case"m4":
                                n.uniforms[r].value = (new ii).fromArray(o.value);
                                break;
                            default:
                                n.uniforms[r].value = o.value
                        }
                    }
                    if (void 0 !== t.defines && (n.defines = t.defines), void 0 !== t.vertexShader && (n.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (n.fragmentShader = t.fragmentShader), void 0 !== t.extensions)for (var a in t.extensions)n.extensions[a] = t.extensions[a];
                    if (void 0 !== t.shading && (n.flatShading = 1 === t.shading), void 0 !== t.size && (n.size = t.size), void 0 !== t.sizeAttenuation && (n.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (n.map = i(t.map)), void 0 !== t.matcap && (n.matcap = i(t.matcap)), void 0 !== t.alphaMap && (n.alphaMap = i(t.alphaMap), n.transparent = !0), void 0 !== t.bumpMap && (n.bumpMap = i(t.bumpMap)), void 0 !== t.bumpScale && (n.bumpScale = t.bumpScale), void 0 !== t.normalMap && (n.normalMap = i(t.normalMap)), void 0 !== t.normalMapType && (n.normalMapType = t.normalMapType), void 0 !== t.normalScale) {
                        var s = t.normalScale;
                        !1 === Array.isArray(s) && (s = [s, s]), n.normalScale = (new Te).fromArray(s)
                    }
                    return void 0 !== t.displacementMap && (n.displacementMap = i(t.displacementMap)), void 0 !== t.displacementScale && (n.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (n.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (n.roughnessMap = i(t.roughnessMap)), void 0 !== t.metalnessMap && (n.metalnessMap = i(t.metalnessMap)), void 0 !== t.emissiveMap && (n.emissiveMap = i(t.emissiveMap)), void 0 !== t.emissiveIntensity && (n.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (n.specularMap = i(t.specularMap)), void 0 !== t.envMap && (n.envMap = i(t.envMap)), void 0 !== t.envMapIntensity && (n.envMapIntensity = t.envMapIntensity), void 0 !== t.reflectivity && (n.reflectivity = t.reflectivity), void 0 !== t.lightMap && (n.lightMap = i(t.lightMap)), void 0 !== t.lightMapIntensity && (n.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (n.aoMap = i(t.aoMap)), void 0 !== t.aoMapIntensity && (n.aoMapIntensity = t.aoMapIntensity), void 0 !== t.gradientMap && (n.gradientMap = i(t.gradientMap)), n
                }, setPath: function (t) {
                    return this.path = t, this
                }, setTextures: function (t) {
                    return this.textures = t, this
                }
            });
            var Ys = {
                decodeText: function (t) {
                    if ("undefined" != typeof TextDecoder)return (new TextDecoder).decode(t);
                    for (var e = "", i = 0, n = t.length; i < n; i++)e += String.fromCharCode(t[i]);
                    try {
                        return decodeURIComponent(escape(e))
                    } catch (t) {
                        return e
                    }
                }, extractUrlBase: function (t) {
                    var e = t.lastIndexOf("/");
                    return -1 === e ? "./" : t.substr(0, e + 1)
                }
            };

            function Js(t) {
                this.manager = void 0 !== t ? t : os
            }

            Object.assign(Js.prototype, {
                load: function (t, e, i, n) {
                    var r = this, o = new ss(r.manager);
                    o.setPath(r.path), o.load(t, function (t) {
                        e(r.parse(JSON.parse(t)))
                    }, i, n)
                }, parse: function (t) {
                    var e = new $i, i = t.data.index;
                    if (void 0 !== i) {
                        var n = new Zs[i.type](i.array);
                        e.setIndex(new Oi(n, 1))
                    }
                    var r = t.data.attributes;
                    for (var o in r) {
                        var a = r[o], s = new Oi(n = new Zs[a.type](a.array), a.itemSize, a.normalized);
                        void 0 !== a.name && (s.name = a.name), e.addAttribute(o, s)
                    }
                    var l = t.data.morphAttributes;
                    if (l)for (var o in l) {
                        for (var c = l[o], u = [], h = 0, d = c.length; h < d; h++) {
                            a = c[h], s = new Oi(n = new Zs[a.type](a.array), a.itemSize, a.normalized);
                            void 0 !== a.name && (s.name = a.name), u.push(s)
                        }
                        e.morphAttributes[o] = u
                    }
                    var p = t.data.groups || t.data.drawcalls || t.data.offsets;
                    if (void 0 !== p) {
                        h = 0;
                        for (var f = p.length; h !== f; ++h) {
                            var m = p[h];
                            e.addGroup(m.start, m.count, m.materialIndex)
                        }
                    }
                    var g = t.data.boundingSphere;
                    if (void 0 !== g) {
                        var v = new Pe;
                        void 0 !== g.center && v.fromArray(g.center), e.boundingSphere = new Qe(v, g.radius)
                    }
                    return t.name && (e.name = t.name), t.userData && (e.userData = t.userData), e
                }, setPath: function (t) {
                    return this.path = t, this
                }
            });
            var Zs = {
                Int8Array: Int8Array,
                Uint8Array: Uint8Array,
                Uint8ClampedArray: "undefined" != typeof Uint8ClampedArray ? Uint8ClampedArray : Uint8Array,
                Int16Array: Int16Array,
                Uint16Array: Uint16Array,
                Int32Array: Int32Array,
                Uint32Array: Uint32Array,
                Float32Array: Float32Array,
                Float64Array: Float64Array
            };

            function Ks(t) {
                this.manager = void 0 !== t ? t : os, this.resourcePath = ""
            }

            Object.assign(Ks.prototype, {
                crossOrigin: "anonymous", load: function (t, e, i, n) {
                    var r = this, o = void 0 === this.path ? Ys.extractUrlBase(t) : this.path;
                    this.resourcePath = this.resourcePath || o;
                    var a = new ss(r.manager);
                    a.setPath(this.path), a.load(t, function (t) {
                        var i = null;
                        try {
                            i = JSON.parse(t)
                        } catch (t) {
                            return void(void 0 !== n && n(t))
                        }
                        var o = i.metadata;
                        void 0 !== o && void 0 !== o.type && "geometry" !== o.type.toLowerCase() && r.parse(i, e)
                    }, i, n)
                }, setPath: function (t) {
                    return this.path = t, this
                }, setResourcePath: function (t) {
                    return this.resourcePath = t, this
                }, setCrossOrigin: function (t) {
                    return this.crossOrigin = t, this
                }, parse: function (t, e) {
                    var i = this.parseShape(t.shapes), n = this.parseGeometries(t.geometries, i),
                        r = this.parseImages(t.images, function () {
                            void 0 !== e && e(s)
                        }), o = this.parseTextures(t.textures, r), a = this.parseMaterials(t.materials, o),
                        s = this.parseObject(t.object, n, a);
                    return t.animations && (s.animations = this.parseAnimations(t.animations)), void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(s), s
                }, parseShape: function (t) {
                    var e = {};
                    if (void 0 !== t)for (var i = 0, n = t.length; i < n; i++) {
                        var r = (new Ds).fromJSON(t[i]);
                        e[r.uuid] = r
                    }
                    return e
                }, parseGeometries: function (t, e) {
                    var i = {};
                    if (void 0 !== t)for (var n = new Js, r = 0, o = t.length; r < o; r++) {
                        var a, s = t[r];
                        switch (s.type) {
                            case"PlaneGeometry":
                            case"PlaneBufferGeometry":
                                a = new Oa[s.type](s.width, s.height, s.widthSegments, s.heightSegments);
                                break;
                            case"BoxGeometry":
                            case"BoxBufferGeometry":
                            case"CubeGeometry":
                                a = new Oa[s.type](s.width, s.height, s.depth, s.widthSegments, s.heightSegments, s.depthSegments);
                                break;
                            case"CircleGeometry":
                            case"CircleBufferGeometry":
                                a = new Oa[s.type](s.radius, s.segments, s.thetaStart, s.thetaLength);
                                break;
                            case"CylinderGeometry":
                            case"CylinderBufferGeometry":
                                a = new Oa[s.type](s.radiusTop, s.radiusBottom, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength);
                                break;
                            case"ConeGeometry":
                            case"ConeBufferGeometry":
                                a = new Oa[s.type](s.radius, s.height, s.radialSegments, s.heightSegments, s.openEnded, s.thetaStart, s.thetaLength);
                                break;
                            case"SphereGeometry":
                            case"SphereBufferGeometry":
                                a = new Oa[s.type](s.radius, s.widthSegments, s.heightSegments, s.phiStart, s.phiLength, s.thetaStart, s.thetaLength);
                                break;
                            case"DodecahedronGeometry":
                            case"DodecahedronBufferGeometry":
                            case"IcosahedronGeometry":
                            case"IcosahedronBufferGeometry":
                            case"OctahedronGeometry":
                            case"OctahedronBufferGeometry":
                            case"TetrahedronGeometry":
                            case"TetrahedronBufferGeometry":
                                a = new Oa[s.type](s.radius, s.detail);
                                break;
                            case"RingGeometry":
                            case"RingBufferGeometry":
                                a = new Oa[s.type](s.innerRadius, s.outerRadius, s.thetaSegments, s.phiSegments, s.thetaStart, s.thetaLength);
                                break;
                            case"TorusGeometry":
                            case"TorusBufferGeometry":
                                a = new Oa[s.type](s.radius, s.tube, s.radialSegments, s.tubularSegments, s.arc);
                                break;
                            case"TorusKnotGeometry":
                            case"TorusKnotBufferGeometry":
                                a = new Oa[s.type](s.radius, s.tube, s.tubularSegments, s.radialSegments, s.p, s.q);
                                break;
                            case"TubeGeometry":
                            case"TubeBufferGeometry":
                                a = new Oa[s.type]((new Is[s.path.type]).fromJSON(s.path), s.tubularSegments, s.radius, s.radialSegments, s.closed);
                                break;
                            case"LatheGeometry":
                            case"LatheBufferGeometry":
                                a = new Oa[s.type](s.points, s.segments, s.phiStart, s.phiLength);
                                break;
                            case"PolyhedronGeometry":
                            case"PolyhedronBufferGeometry":
                                a = new Oa[s.type](s.vertices, s.indices, s.radius, s.details);
                                break;
                            case"ShapeGeometry":
                            case"ShapeBufferGeometry":
                                for (var l = [], c = 0, u = s.shapes.length; c < u; c++) {
                                    var h = e[s.shapes[c]];
                                    l.push(h)
                                }
                                a = new Oa[s.type](l, s.curveSegments);
                                break;
                            case"ExtrudeGeometry":
                            case"ExtrudeBufferGeometry":
                                for (l = [], c = 0, u = s.shapes.length; c < u; c++) {
                                    h = e[s.shapes[c]];
                                    l.push(h)
                                }
                                var d = s.options.extrudePath;
                                void 0 !== d && (s.options.extrudePath = (new Is[d.type]).fromJSON(d)), a = new Oa[s.type](l, s.options);
                                break;
                            case"BufferGeometry":
                                a = n.parse(s);
                                break;
                            case"Geometry":
                                if ("THREE" in window && "LegacyJSONLoader" in THREE) a = (new THREE.LegacyJSONLoader).parse(s, this.resourcePath).geometry;
                                break;
                            default:
                                continue
                        }
                        a.uuid = s.uuid, void 0 !== s.name && (a.name = s.name), !0 === a.isBufferGeometry && void 0 !== s.userData && (a.userData = s.userData), i[s.uuid] = a
                    }
                    return i
                }, parseMaterials: function (t, e) {
                    var i = {}, n = {};
                    if (void 0 !== t) {
                        var r = new qs;
                        r.setTextures(e);
                        for (var o = 0, a = t.length; o < a; o++) {
                            var s = t[o];
                            if ("MultiMaterial" === s.type) {
                                for (var l = [], c = 0; c < s.materials.length; c++) {
                                    var u = s.materials[c];
                                    void 0 === i[u.uuid] && (i[u.uuid] = r.parse(u)), l.push(i[u.uuid])
                                }
                                n[s.uuid] = l
                            } else void 0 === i[s.uuid] && (i[s.uuid] = r.parse(s)), n[s.uuid] = i[s.uuid]
                        }
                    }
                    return n
                }, parseAnimations: function (t) {
                    for (var e = [], i = 0; i < t.length; i++) {
                        var n = t[i], r = es.parse(n);
                        void 0 !== n.uuid && (r.uuid = n.uuid), e.push(r)
                    }
                    return e
                }, parseImages: function (t, e) {
                    var i = this, n = {};

                    function r(t) {
                        return i.manager.itemStart(t), o.load(t, function () {
                            i.manager.itemEnd(t)
                        }, void 0, function () {
                            i.manager.itemError(t), i.manager.itemEnd(t)
                        })
                    }

                    if (void 0 !== t && t.length > 0) {
                        var o = new hs(new rs(e));
                        o.setCrossOrigin(this.crossOrigin);
                        for (var a = 0, s = t.length; a < s; a++) {
                            var l = t[a], c = l.url;
                            if (Array.isArray(c)) {
                                n[l.uuid] = [];
                                for (var u = 0, h = c.length; u < h; u++) {
                                    var d = c[u], p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(d) ? d : i.resourcePath + d;
                                    n[l.uuid].push(r(p))
                                }
                            } else {
                                p = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url) ? l.url : i.resourcePath + l.url;
                                n[l.uuid] = r(p)
                            }
                        }
                    }
                    return n
                }, parseTextures: function (t, e) {
                    function i(t, e) {
                        return "number" == typeof t ? t : e[t]
                    }

                    var n = {};
                    if (void 0 !== t)for (var r = 0, o = t.length; r < o; r++) {
                        var a, s = t[r];
                        s.image, e[s.image], (a = Array.isArray(e[s.image]) ? new _n(e[s.image]) : new We(e[s.image])).needsUpdate = !0, a.uuid = s.uuid, void 0 !== s.name && (a.name = s.name), void 0 !== s.mapping && (a.mapping = i(s.mapping, rl)), void 0 !== s.offset && a.offset.fromArray(s.offset), void 0 !== s.repeat && a.repeat.fromArray(s.repeat), void 0 !== s.center && a.center.fromArray(s.center), void 0 !== s.rotation && (a.rotation = s.rotation), void 0 !== s.wrap && (a.wrapS = i(s.wrap[0], ol), a.wrapT = i(s.wrap[1], ol)), void 0 !== s.format && (a.format = s.format), void 0 !== s.type && (a.type = s.type), void 0 !== s.encoding && (a.encoding = s.encoding), void 0 !== s.minFilter && (a.minFilter = i(s.minFilter, al)), void 0 !== s.magFilter && (a.magFilter = i(s.magFilter, al)), void 0 !== s.anisotropy && (a.anisotropy = s.anisotropy), void 0 !== s.flipY && (a.flipY = s.flipY), void 0 !== s.premultiplyAlpha && (a.premultiplyAlpha = s.premultiplyAlpha), void 0 !== s.unpackAlignment && (a.unpackAlignment = s.unpackAlignment), n[s.uuid] = a
                    }
                    return n
                }, parseObject: function (t, e, i) {
                    var n;

                    function r(t) {
                        return e[t], e[t]
                    }

                    function o(t) {
                        if (void 0 !== t) {
                            if (Array.isArray(t)) {
                                for (var e = [], n = 0, r = t.length; n < r; n++) {
                                    var o = t[n];
                                    i[o], e.push(i[o])
                                }
                                return e
                            }
                            return i[t], i[t]
                        }
                    }

                    switch (t.type) {
                        case"Scene":
                            n = new Kr, void 0 !== t.background && Number.isInteger(t.background) && (n.background = new hi(t.background)), void 0 !== t.fog && ("Fog" === t.fog.type ? n.fog = new Zr(t.fog.color, t.fog.near, t.fog.far) : "FogExp2" === t.fog.type && (n.fog = new Jr(t.fog.color, t.fog.density)));
                            break;
                        case"PerspectiveCamera":
                            n = new zr(t.fov, t.aspect, t.near, t.far), void 0 !== t.focus && (n.focus = t.focus), void 0 !== t.zoom && (n.zoom = t.zoom), void 0 !== t.filmGauge && (n.filmGauge = t.filmGauge), void 0 !== t.filmOffset && (n.filmOffset = t.filmOffset), void 0 !== t.view && (n.view = Object.assign({}, t.view));
                            break;
                        case"OrthographicCamera":
                            n = new $s(t.left, t.right, t.top, t.bottom, t.near, t.far), void 0 !== t.zoom && (n.zoom = t.zoom), void 0 !== t.view && (n.view = Object.assign({}, t.view));
                            break;
                        case"AmbientLight":
                            n = new Hs(t.color, t.intensity);
                            break;
                        case"DirectionalLight":
                            n = new Ws(t.color, t.intensity);
                            break;
                        case"PointLight":
                            n = new Gs(t.color, t.intensity, t.distance, t.decay);
                            break;
                        case"RectAreaLight":
                            n = new Xs(t.color, t.intensity, t.width, t.height);
                            break;
                        case"SpotLight":
                            n = new Us(t.color, t.intensity, t.distance, t.angle, t.penumbra, t.decay);
                            break;
                        case"HemisphereLight":
                            n = new js(t.color, t.groundColor, t.intensity);
                            break;
                        case"SkinnedMesh":
                        case"Mesh":
                            var a = r(t.geometry), s = o(t.material);
                            n = a.bones && a.bones.length > 0 ? new ro(a, s) : new mn(a, s), void 0 !== t.drawMode && n.setDrawMode(t.drawMode);
                            break;
                        case"LOD":
                            n = new no;
                            break;
                        case"Line":
                            n = new lo(r(t.geometry), o(t.material), t.mode);
                            break;
                        case"LineLoop":
                            n = new uo(r(t.geometry), o(t.material));
                            break;
                        case"LineSegments":
                            n = new co(r(t.geometry), o(t.material));
                            break;
                        case"PointCloud":
                        case"Points":
                            n = new po(r(t.geometry), o(t.material));
                            break;
                        case"Sprite":
                            n = new io(o(t.material));
                            break;
                        case"Group":
                            n = new Rr;
                            break;
                        default:
                            n = new Ti
                    }
                    if (n.uuid = t.uuid, void 0 !== t.name && (n.name = t.name), void 0 !== t.matrix ? (n.matrix.fromArray(t.matrix), void 0 !== t.matrixAutoUpdate && (n.matrixAutoUpdate = t.matrixAutoUpdate), n.matrixAutoUpdate && n.matrix.decompose(n.position, n.quaternion, n.scale)) : (void 0 !== t.position && n.position.fromArray(t.position), void 0 !== t.rotation && n.rotation.fromArray(t.rotation), void 0 !== t.quaternion && n.quaternion.fromArray(t.quaternion), void 0 !== t.scale && n.scale.fromArray(t.scale)), void 0 !== t.castShadow && (n.castShadow = t.castShadow), void 0 !== t.receiveShadow && (n.receiveShadow = t.receiveShadow), t.shadow && (void 0 !== t.shadow.bias && (n.shadow.bias = t.shadow.bias), void 0 !== t.shadow.radius && (n.shadow.radius = t.shadow.radius), void 0 !== t.shadow.mapSize && n.shadow.mapSize.fromArray(t.shadow.mapSize), void 0 !== t.shadow.camera && (n.shadow.camera = this.parseObject(t.shadow.camera))), void 0 !== t.visible && (n.visible = t.visible), void 0 !== t.frustumCulled && (n.frustumCulled = t.frustumCulled), void 0 !== t.renderOrder && (n.renderOrder = t.renderOrder), void 0 !== t.userData && (n.userData = t.userData), void 0 !== t.layers && (n.layers.mask = t.layers), void 0 !== t.children)for (var l = t.children, c = 0; c < l.length; c++)n.add(this.parseObject(l[c], e, i));
                    if ("LOD" === t.type)for (var u = t.levels, h = 0; h < u.length; h++) {
                        var d = u[h], p = n.getObjectByProperty("uuid", d.object);
                        void 0 !== p && n.addLevel(p, d.distance)
                    }
                    return n
                }
            });
            var Qs, tl, el, il, nl, rl = {
                UVMapping: 300,
                CubeReflectionMapping: it,
                CubeRefractionMapping: nt,
                EquirectangularReflectionMapping: rt,
                EquirectangularRefractionMapping: ot,
                SphericalReflectionMapping: at,
                CubeUVReflectionMapping: st,
                CubeUVRefractionMapping: lt
            }, ol = {RepeatWrapping: ct, ClampToEdgeWrapping: ut, MirroredRepeatWrapping: ht}, al = {
                NearestFilter: dt,
                NearestMipMapNearestFilter: pt,
                NearestMipMapLinearFilter: ft,
                LinearFilter: mt,
                LinearMipMapNearestFilter: gt,
                LinearMipMapLinearFilter: vt
            };

            function sl(t) {
                this.manager = void 0 !== t ? t : os, this.options = void 0
            }

            function ll() {
                this.type = "ShapePath", this.color = new hi, this.subPaths = [], this.currentPath = null
            }

            function cl(t) {
                this.type = "Font", this.data = t
            }

            function ul(t, e, i, n, r) {
                var o = r.glyphs[t] || r.glyphs["?"];
                if (o) {
                    var a, s, l, c, u, h, d, p, f = new ll;
                    if (o.o)for (var m = o._cachedOutline || (o._cachedOutline = o.o.split(" ")), g = 0, v = m.length; g < v;) {
                        switch (m[g++]) {
                            case"m":
                                a = m[g++] * e + i, s = m[g++] * e + n, f.moveTo(a, s);
                                break;
                            case"l":
                                a = m[g++] * e + i, s = m[g++] * e + n, f.lineTo(a, s);
                                break;
                            case"q":
                                l = m[g++] * e + i, c = m[g++] * e + n, u = m[g++] * e + i, h = m[g++] * e + n, f.quadraticCurveTo(u, h, l, c);
                                break;
                            case"b":
                                l = m[g++] * e + i, c = m[g++] * e + n, u = m[g++] * e + i, h = m[g++] * e + n, d = m[g++] * e + i, p = m[g++] * e + n, f.bezierCurveTo(u, h, d, p, l, c)
                        }
                    }
                    return {offsetX: o.ha * e, path: f}
                }
            }

            function hl(t) {
                this.manager = void 0 !== t ? t : os
            }

            function dl() {
            }

            sl.prototype = {
                constructor: sl, setOptions: function (t) {
                    return this.options = t, this
                }, load: function (t, e, i, n) {
                    void 0 === t && (t = ""), void 0 !== this.path && (t = this.path + t), t = this.manager.resolveURL(t);
                    var r = this, o = ns.get(t);
                    if (void 0 !== o)return r.manager.itemStart(t), setTimeout(function () {
                        e && e(o), r.manager.itemEnd(t)
                    }, 0), o;
                    fetch(t).then(function (t) {
                        return t.blob()
                    }).then(function (t) {
                        return void 0 === r.options ? createImageBitmap(t) : createImageBitmap(t, r.options)
                    }).then(function (i) {
                        ns.add(t, i), e && e(i), r.manager.itemEnd(t)
                    }).catch(function (e) {
                        n && n(e), r.manager.itemError(t), r.manager.itemEnd(t)
                    }), r.manager.itemStart(t)
                }, setCrossOrigin: function () {
                    return this
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }, Object.assign(ll.prototype, {
                moveTo: function (t, e) {
                    this.currentPath = new Rs, this.subPaths.push(this.currentPath), this.currentPath.moveTo(t, e)
                }, lineTo: function (t, e) {
                    this.currentPath.lineTo(t, e)
                }, quadraticCurveTo: function (t, e, i, n) {
                    this.currentPath.quadraticCurveTo(t, e, i, n)
                }, bezierCurveTo: function (t, e, i, n, r, o) {
                    this.currentPath.bezierCurveTo(t, e, i, n, r, o)
                }, splineThru: function (t) {
                    this.currentPath.splineThru(t)
                }, toShapes: function (t, e) {
                    function i(t) {
                        for (var e = [], i = 0, n = t.length; i < n; i++) {
                            var r = t[i], o = new Ds;
                            o.curves = r.curves, e.push(o)
                        }
                        return e
                    }

                    function n(t, e) {
                        for (var i = e.length, n = !1, r = i - 1, o = 0; o < i; r = o++) {
                            var a = e[r], s = e[o], l = s.x - a.x, c = s.y - a.y;
                            if (Math.abs(c) > Number.EPSILON) {
                                if (c < 0 && (a = e[o], l = -l, s = e[r], c = -c), t.y < a.y || t.y > s.y)continue;
                                if (t.y === a.y) {
                                    if (t.x === a.x)return !0
                                } else {
                                    var u = c * (t.x - a.x) - l * (t.y - a.y);
                                    if (0 === u)return !0;
                                    if (u < 0)continue;
                                    n = !n
                                }
                            } else {
                                if (t.y !== a.y)continue;
                                if (s.x <= t.x && t.x <= a.x || a.x <= t.x && t.x <= s.x)return !0
                            }
                        }
                        return n
                    }

                    var r = oa.isClockWise, o = this.subPaths;
                    if (0 === o.length)return [];
                    if (!0 === e)return i(o);
                    var a, s, l, c = [];
                    if (1 === o.length)return s = o[0], (l = new Ds).curves = s.curves, c.push(l), c;
                    var u = !r(o[0].getPoints());
                    u = t ? !u : u;
                    var h, d, p = [], f = [], m = [], g = 0;
                    f[g] = void 0, m[g] = [];
                    for (var v = 0, y = o.length; v < y; v++)a = r(h = (s = o[v]).getPoints()), (a = t ? !a : a) ? (!u && f[g] && g++, f[g] = {
                        s: new Ds,
                        p: h
                    }, f[g].s.curves = s.curves, u && g++, m[g] = []) : m[g].push({h: s, p: h[0]});
                    if (!f[0])return i(o);
                    if (f.length > 1) {
                        for (var _ = !1, x = [], b = 0, w = f.length; b < w; b++)p[b] = [];
                        for (b = 0, w = f.length; b < w; b++)for (var S = m[b], M = 0; M < S.length; M++) {
                            for (var T = S[M], A = !0, P = 0; P < f.length; P++)n(T.p, f[P].p) && (b !== P && x.push({
                                froms: b,
                                tos: P,
                                hole: M
                            }), A ? (A = !1, p[P].push(T)) : _ = !0);
                            A && p[b].push(T)
                        }
                        x.length > 0 && (_ || (m = p))
                    }
                    v = 0;
                    for (var E = f.length; v < E; v++) {
                        l = f[v].s, c.push(l);
                        for (var C = 0, O = (d = m[v]).length; C < O; C++)l.holes.push(d[C].h)
                    }
                    return c
                }
            }), Object.assign(cl.prototype, {
                isFont: !0, generateShapes: function (t, e) {
                    void 0 === e && (e = 100);
                    for (var i = [], n = function (t, e, i) {
                        for (var n = Array.from ? Array.from(t) : String(t).split(""), r = e / i.resolution, o = (i.boundingBox.yMax - i.boundingBox.yMin + i.underlineThickness) * r, a = [], s = 0, l = 0, c = 0; c < n.length; c++) {
                            var u = n[c];
                            if ("\n" === u) s = 0, l -= o; else {
                                var h = ul(u, r, s, l, i);
                                s += h.offsetX, a.push(h.path)
                            }
                        }
                        return a
                    }(t, e, this.data), r = 0, o = n.length; r < o; r++)Array.prototype.push.apply(i, n[r].toShapes());
                    return i
                }
            }), Object.assign(hl.prototype, {
                load: function (t, e, i, n) {
                    var r = this, o = new ss(this.manager);
                    o.setPath(this.path), o.load(t, function (t) {
                        var i;
                        try {
                            i = JSON.parse(t)
                        } catch (e) {
                            i = JSON.parse(t.substring(65, t.length - 2))
                        }
                        var n = r.parse(i);
                        e && e(n)
                    }, i, n)
                }, parse: function (t) {
                    return new cl(t)
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), dl.Handlers = {
                handlers: [], add: function (t, e) {
                    this.handlers.push(t, e)
                }, get: function (t) {
                    for (var e = this.handlers, i = 0, n = e.length; i < n; i += 2) {
                        var r = e[i], o = e[i + 1];
                        if (r.test(t))return o
                    }
                    return null
                }
            }, Object.assign(dl.prototype, {
                crossOrigin: "anonymous",
                onLoadStart: function () {
                },
                onLoadProgress: function () {
                },
                onLoadComplete: function () {
                },
                initMaterials: function (t, e, i) {
                    for (var n = [], r = 0; r < t.length; ++r)n[r] = this.createMaterial(t[r], e, i);
                    return n
                },
                createMaterial: (Qs = {
                    NoBlending: v,
                    NormalBlending: y,
                    AdditiveBlending: _,
                    SubtractiveBlending: x,
                    MultiplyBlending: b,
                    CustomBlending: w
                }, tl = new hi, el = new ps, il = new qs, function (t, e, i) {
                    var n = {};

                    function r(t, r, o, a, s) {
                        var l, c = e + t, u = dl.Handlers.get(c);
                        null !== u ? l = u.load(c) : (el.setCrossOrigin(i), l = el.load(c)), void 0 !== r && (l.repeat.fromArray(r), 1 !== r[0] && (l.wrapS = ct), 1 !== r[1] && (l.wrapT = ct)), void 0 !== o && l.offset.fromArray(o), void 0 !== a && ("repeat" === a[0] && (l.wrapS = ct), "mirror" === a[0] && (l.wrapS = ht), "repeat" === a[1] && (l.wrapT = ct), "mirror" === a[1] && (l.wrapT = ht)), void 0 !== s && (l.anisotropy = s);
                        var h = Me.generateUUID();
                        return n[h] = l, h
                    }

                    var o = {uuid: Me.generateUUID(), type: "MeshLambertMaterial"};
                    for (var a in t) {
                        var s = t[a];
                        switch (a) {
                            case"DbgColor":
                            case"DbgIndex":
                            case"opticalDensity":
                            case"illumination":
                                break;
                            case"DbgName":
                                o.name = s;
                                break;
                            case"blending":
                                o.blending = Qs[s];
                                break;
                            case"colorAmbient":
                            case"mapAmbient":
                                break;
                            case"colorDiffuse":
                                o.color = tl.fromArray(s).getHex();
                                break;
                            case"colorSpecular":
                                o.specular = tl.fromArray(s).getHex();
                                break;
                            case"colorEmissive":
                                o.emissive = tl.fromArray(s).getHex();
                                break;
                            case"specularCoef":
                                o.shininess = s;
                                break;
                            case"shading":
                                "basic" === s.toLowerCase() && (o.type = "MeshBasicMaterial"), "phong" === s.toLowerCase() && (o.type = "MeshPhongMaterial"), "standard" === s.toLowerCase() && (o.type = "MeshStandardMaterial");
                                break;
                            case"mapDiffuse":
                                o.map = r(s, t.mapDiffuseRepeat, t.mapDiffuseOffset, t.mapDiffuseWrap, t.mapDiffuseAnisotropy);
                                break;
                            case"mapDiffuseRepeat":
                            case"mapDiffuseOffset":
                            case"mapDiffuseWrap":
                            case"mapDiffuseAnisotropy":
                                break;
                            case"mapEmissive":
                                o.emissiveMap = r(s, t.mapEmissiveRepeat, t.mapEmissiveOffset, t.mapEmissiveWrap, t.mapEmissiveAnisotropy);
                                break;
                            case"mapEmissiveRepeat":
                            case"mapEmissiveOffset":
                            case"mapEmissiveWrap":
                            case"mapEmissiveAnisotropy":
                                break;
                            case"mapLight":
                                o.lightMap = r(s, t.mapLightRepeat, t.mapLightOffset, t.mapLightWrap, t.mapLightAnisotropy);
                                break;
                            case"mapLightRepeat":
                            case"mapLightOffset":
                            case"mapLightWrap":
                            case"mapLightAnisotropy":
                                break;
                            case"mapAO":
                                o.aoMap = r(s, t.mapAORepeat, t.mapAOOffset, t.mapAOWrap, t.mapAOAnisotropy);
                                break;
                            case"mapAORepeat":
                            case"mapAOOffset":
                            case"mapAOWrap":
                            case"mapAOAnisotropy":
                                break;
                            case"mapBump":
                                o.bumpMap = r(s, t.mapBumpRepeat, t.mapBumpOffset, t.mapBumpWrap, t.mapBumpAnisotropy);
                                break;
                            case"mapBumpScale":
                                o.bumpScale = s;
                                break;
                            case"mapBumpRepeat":
                            case"mapBumpOffset":
                            case"mapBumpWrap":
                            case"mapBumpAnisotropy":
                                break;
                            case"mapNormal":
                                o.normalMap = r(s, t.mapNormalRepeat, t.mapNormalOffset, t.mapNormalWrap, t.mapNormalAnisotropy);
                                break;
                            case"mapNormalFactor":
                                o.normalScale = s;
                                break;
                            case"mapNormalRepeat":
                            case"mapNormalOffset":
                            case"mapNormalWrap":
                            case"mapNormalAnisotropy":
                                break;
                            case"mapSpecular":
                                o.specularMap = r(s, t.mapSpecularRepeat, t.mapSpecularOffset, t.mapSpecularWrap, t.mapSpecularAnisotropy);
                                break;
                            case"mapSpecularRepeat":
                            case"mapSpecularOffset":
                            case"mapSpecularWrap":
                            case"mapSpecularAnisotropy":
                                break;
                            case"mapMetalness":
                                o.metalnessMap = r(s, t.mapMetalnessRepeat, t.mapMetalnessOffset, t.mapMetalnessWrap, t.mapMetalnessAnisotropy);
                                break;
                            case"mapMetalnessRepeat":
                            case"mapMetalnessOffset":
                            case"mapMetalnessWrap":
                            case"mapMetalnessAnisotropy":
                                break;
                            case"mapRoughness":
                                o.roughnessMap = r(s, t.mapRoughnessRepeat, t.mapRoughnessOffset, t.mapRoughnessWrap, t.mapRoughnessAnisotropy);
                                break;
                            case"mapRoughnessRepeat":
                            case"mapRoughnessOffset":
                            case"mapRoughnessWrap":
                            case"mapRoughnessAnisotropy":
                                break;
                            case"mapAlpha":
                                o.alphaMap = r(s, t.mapAlphaRepeat, t.mapAlphaOffset, t.mapAlphaWrap, t.mapAlphaAnisotropy);
                                break;
                            case"mapAlphaRepeat":
                            case"mapAlphaOffset":
                            case"mapAlphaWrap":
                            case"mapAlphaAnisotropy":
                                break;
                            case"flipSided":
                                o.side = d;
                                break;
                            case"doubleSided":
                                o.side = p;
                                break;
                            case"transparency":
                                o.opacity = s;
                                break;
                            case"depthTest":
                            case"depthWrite":
                            case"colorWrite":
                            case"opacity":
                            case"reflectivity":
                            case"transparent":
                            case"visible":
                            case"wireframe":
                                o[a] = s;
                                break;
                            case"vertexColors":
                                !0 === s && (o.vertexColors = g), "face" === s && (o.vertexColors = m)
                        }
                    }
                    return "MeshBasicMaterial" === o.type && delete o.emissive, "MeshPhongMaterial" !== o.type && delete o.specular, o.opacity < 1 && (o.transparent = !0), il.setTextures(n), il.parse(o)
                })
            });
            var pl = {
                getContext: function () {
                    return void 0 === nl && (nl = new (window.AudioContext || window.webkitAudioContext)), nl
                }, setContext: function (t) {
                    nl = t
                }
            };

            function fl(t) {
                this.manager = void 0 !== t ? t : os
            }

            function ml() {
                this.coefficients = [];
                for (var t = 0; t < 9; t++)this.coefficients.push(new Pe)
            }

            function gl(t, e) {
                zs.call(this, void 0, e), this.sh = void 0 !== t ? t : new ml
            }

            function vl(t, e, i) {
                gl.call(this, void 0, i);
                var n = (new hi).set(t), r = (new hi).set(e), o = new Pe(n.r, n.g, n.b), a = new Pe(r.r, r.g, r.b),
                    s = Math.sqrt(Math.PI), l = s * Math.sqrt(.75);
                this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s), this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)
            }

            function yl(t, e) {
                gl.call(this, void 0, e);
                var i = (new hi).set(t);
                this.sh.coefficients[0].set(i.r, i.g, i.b).multiplyScalar(2 * Math.sqrt(Math.PI))
            }

            function _l() {
                this.type = "StereoCamera", this.aspect = 1, this.eyeSep = .064, this.cameraL = new zr, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new zr, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1
            }

            Object.assign(fl.prototype, {
                load: function (t, e, i, n) {
                    var r = new ss(this.manager);
                    r.setResponseType("arraybuffer"), r.setPath(this.path), r.load(t, function (t) {
                        var i = t.slice(0);
                        pl.getContext().decodeAudioData(i, function (t) {
                            e(t)
                        })
                    }, i, n)
                }, setPath: function (t) {
                    return this.path = t, this
                }
            }), Object.assign(ml.prototype, {
                isSphericalHarmonics3: !0, set: function (t) {
                    for (var e = 0; e < 9; e++)this.coefficients[e].copy(t[e]);
                    return this
                }, zero: function () {
                    for (var t = 0; t < 9; t++)this.coefficients[t].set(0, 0, 0);
                    return this
                }, getAt: function (t, e) {
                    var i = t.x, n = t.y, r = t.z, o = this.coefficients;
                    return e = .282095 * o[0], e += .488603 * o[1] * n, e += .488603 * o[2] * r, e += .488603 * o[3] * i, e += 1.092548 * o[4] * (i * n), e += 1.092548 * o[5] * (n * r), e += .315392 * o[6] * (3 * r * r - 1), e += 1.092548 * o[7] * (i * r), e += .546274 * o[8] * (i * i - n * n)
                }, getIrradianceAt: function (t, e) {
                    var i = t.x, n = t.y, r = t.z, o = this.coefficients;
                    return e = .886227 * o[0], e += 2 * o[1] * .511664 * n, e += 2 * o[2] * .511664 * r, e += 2 * o[3] * .511664 * i, e += 2 * o[4] * .429043 * i * n, e += 2 * o[5] * .429043 * n * r, e += o[6] * (.743125 * r * r - .247708), e += 2 * o[7] * .429043 * i * r, e += .429043 * o[8] * (i * i - n * n)
                }, add: function (t) {
                    for (var e = 0; e < 9; e++)this.coefficients[e].add(t.coefficients[e]);
                    return this
                }, scale: function (t) {
                    for (var e = 0; e < 9; e++)this.coefficients[e].multiplyScalar(t);
                    return this
                }, lerp: function (t, e) {
                    for (var i = 0; i < 9; i++)this.coefficients[i].lerp(t.coefficients[i], e);
                    return this
                }, equals: function (t) {
                    for (var e = 0; e < 9; e++)if (!this.coefficients[e].equals(t.coefficients[e]))return !1;
                    return !0
                }, copy: function (t) {
                    return this.set(t.coefficients)
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, fromArray: function (t) {
                    for (var e = this.coefficients, i = 0; i < 9; i++)e[i].fromArray(t, 3 * i);
                    return this
                }, toArray: function () {
                    for (var t = [], e = this.coefficients, i = 0; i < 9; i++)e[i].toArray(t, 3 * i);
                    return t
                }
            }), Object.assign(ml, {
                getBasisAt: function (t, e) {
                    var i = t.x, n = t.y, r = t.z;
                    e[0] = .282095, e[1] = .488603 * n, e[2] = .488603 * r, e[3] = .488603 * i, e[4] = 1.092548 * i * n, e[5] = 1.092548 * n * r, e[6] = .315392 * (3 * r * r - 1), e[7] = 1.092548 * i * r, e[8] = .546274 * (i * i - n * n)
                }
            }), gl.prototype = Object.assign(Object.create(zs.prototype), {
                constructor: gl,
                isLightProbe: !0,
                copy: function (t) {
                    return zs.prototype.copy.call(this, t), this.sh.copy(t.sh), this.intensity = t.intensity, this
                },
                toJSON: function (t) {
                    return zs.prototype.toJSON.call(this, t)
                }
            }), vl.prototype = Object.assign(Object.create(gl.prototype), {
                constructor: vl,
                isHemisphereLightProbe: !0,
                copy: function (t) {
                    return gl.prototype.copy.call(this, t), this
                },
                toJSON: function (t) {
                    return gl.prototype.toJSON.call(this, t)
                }
            }), yl.prototype = Object.assign(Object.create(gl.prototype), {
                constructor: yl,
                isAmbientLightProbe: !0,
                copy: function (t) {
                    return gl.prototype.copy.call(this, t), this
                },
                toJSON: function (t) {
                    return gl.prototype.toJSON.call(this, t)
                }
            }), Object.assign(_l.prototype, {
                update: function () {
                    var t, e, i, n, r, o, a, s, l = new ii, c = new ii;
                    return function (u) {
                        if (t !== this || e !== u.focus || i !== u.fov || n !== u.aspect * this.aspect || r !== u.near || o !== u.far || a !== u.zoom || s !== this.eyeSep) {
                            t = this, e = u.focus, i = u.fov, n = u.aspect * this.aspect, r = u.near, o = u.far, a = u.zoom;
                            var h, d, p = u.projectionMatrix.clone(), f = (s = this.eyeSep / 2) * r / e,
                                m = r * Math.tan(Me.DEG2RAD * i * .5) / a;
                            c.elements[12] = -s, l.elements[12] = s, h = -m * n + f, d = m * n + f, p.elements[0] = 2 * r / (d - h), p.elements[8] = (d + h) / (d - h), this.cameraL.projectionMatrix.copy(p), h = -m * n - f, d = m * n - f, p.elements[0] = 2 * r / (d - h), p.elements[8] = (d + h) / (d - h), this.cameraR.projectionMatrix.copy(p)
                        }
                        this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(c), this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(l)
                    }
                }()
            });
            var xl = 90, bl = 1;

            function wl(t, e, i, n) {
                Ti.call(this), this.type = "CubeCamera";
                var r = new zr(xl, bl, t, e);
                r.up.set(0, -1, 0), r.lookAt(new Pe(1, 0, 0)), this.add(r);
                var o = new zr(xl, bl, t, e);
                o.up.set(0, -1, 0), o.lookAt(new Pe(-1, 0, 0)), this.add(o);
                var a = new zr(xl, bl, t, e);
                a.up.set(0, 0, 1), a.lookAt(new Pe(0, 1, 0)), this.add(a);
                var s = new zr(xl, bl, t, e);
                s.up.set(0, 0, -1), s.lookAt(new Pe(0, -1, 0)), this.add(s);
                var l = new zr(xl, bl, t, e);
                l.up.set(0, -1, 0), l.lookAt(new Pe(0, 0, 1)), this.add(l);
                var c = new zr(xl, bl, t, e);
                c.up.set(0, -1, 0), c.lookAt(new Pe(0, 0, -1)), this.add(c), n = n || {
                        format: Lt,
                        magFilter: mt,
                        minFilter: mt
                    }, this.renderTarget = new Je(i, i, n), this.renderTarget.texture.name = "CubeCamera", this.update = function (t, e) {
                    null === this.parent && this.updateMatrixWorld();
                    var i = t.getRenderTarget(), n = this.renderTarget, u = n.texture.generateMipmaps;
                    n.texture.generateMipmaps = !1, t.setRenderTarget(n, 0), t.render(e, r), t.setRenderTarget(n, 1), t.render(e, o), t.setRenderTarget(n, 2), t.render(e, a), t.setRenderTarget(n, 3), t.render(e, s), t.setRenderTarget(n, 4), t.render(e, l), n.texture.generateMipmaps = u, t.setRenderTarget(n, 5), t.render(e, c), t.setRenderTarget(i)
                }, this.clear = function (t, e, i, n) {
                    for (var r = t.getRenderTarget(), o = this.renderTarget, a = 0; a < 6; a++)t.setRenderTarget(o, a), t.clear(e, i, n);
                    t.setRenderTarget(r)
                }
            }

            function Sl(t) {
                this.autoStart = void 0 === t || t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1
            }

            function Ml() {
                Ti.call(this), this.type = "AudioListener", this.context = pl.getContext(), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null, this.timeDelta = 0
            }

            function Tl(t) {
                Ti.call(this), this.type = "Audio", this.listener = t, this.context = t.context, this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.buffer = null, this.detune = 0, this.loop = !1, this.startTime = 0, this.offset = 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this.filters = []
            }

            function Al(t) {
                Tl.call(this, t), this.panner = this.context.createPanner(), this.panner.panningModel = "HRTF", this.panner.connect(this.gain)
            }

            function Pl(t, e) {
                this.analyser = t.context.createAnalyser(), this.analyser.fftSize = void 0 !== e ? e : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser)
            }

            function El(t, e, i) {
                this.binding = t, this.valueSize = i;
                var n, r = Float64Array;
                switch (e) {
                    case"quaternion":
                        n = this._slerp;
                        break;
                    case"string":
                    case"bool":
                        r = Array, n = this._select;
                        break;
                    default:
                        n = this._lerp
                }
                this.buffer = new r(4 * i), this._mixBufferRegion = n, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0
            }

            wl.prototype = Object.create(Ti.prototype), wl.prototype.constructor = wl, Object.assign(Sl.prototype, {
                start: function () {
                    this.startTime = ("undefined" == typeof performance ? Date : performance).now(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0
                }, stop: function () {
                    this.getElapsedTime(), this.running = !1, this.autoStart = !1
                }, getElapsedTime: function () {
                    return this.getDelta(), this.elapsedTime
                }, getDelta: function () {
                    var t = 0;
                    if (this.autoStart && !this.running)return this.start(), 0;
                    if (this.running) {
                        var e = ("undefined" == typeof performance ? Date : performance).now();
                        t = (e - this.oldTime) / 1e3, this.oldTime = e, this.elapsedTime += t
                    }
                    return t
                }
            }), Ml.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: Ml, getInput: function () {
                    return this.gain
                }, removeFilter: function () {
                    return null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null), this
                }, getFilter: function () {
                    return this.filter
                }, setFilter: function (t) {
                    return null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination), this
                }, getMasterVolume: function () {
                    return this.gain.gain.value
                }, setMasterVolume: function (t) {
                    return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01), this
                }, updateMatrixWorld: function () {
                    var t = new Pe, e = new Ae, i = new Pe, n = new Pe, r = new Sl;
                    return function (o) {
                        Ti.prototype.updateMatrixWorld.call(this, o);
                        var a = this.context.listener, s = this.up;
                        if (this.timeDelta = r.getDelta(), this.matrixWorld.decompose(t, e, i), n.set(0, 0, -1).applyQuaternion(e), a.positionX) {
                            var l = this.context.currentTime + this.timeDelta;
                            a.positionX.linearRampToValueAtTime(t.x, l), a.positionY.linearRampToValueAtTime(t.y, l), a.positionZ.linearRampToValueAtTime(t.z, l), a.forwardX.linearRampToValueAtTime(n.x, l), a.forwardY.linearRampToValueAtTime(n.y, l), a.forwardZ.linearRampToValueAtTime(n.z, l), a.upX.linearRampToValueAtTime(s.x, l), a.upY.linearRampToValueAtTime(s.y, l), a.upZ.linearRampToValueAtTime(s.z, l)
                        } else a.setPosition(t.x, t.y, t.z), a.setOrientation(n.x, n.y, n.z, s.x, s.y, s.z)
                    }
                }()
            }), Tl.prototype = Object.assign(Object.create(Ti.prototype), {
                constructor: Tl, getOutput: function () {
                    return this.gain
                }, setNodeSource: function (t) {
                    return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this
                }, setMediaElementSource: function (t) {
                    return this.hasPlaybackControl = !1, this.sourceType = "mediaNode", this.source = this.context.createMediaElementSource(t), this.connect(), this
                }, setBuffer: function (t) {
                    return this.buffer = t, this.sourceType = "buffer", this.autoplay && this.play(), this
                }, play: function () {
                    if (!0 !== this.isPlaying && !1 !== this.hasPlaybackControl) {
                        var t = this.context.createBufferSource();
                        return t.buffer = this.buffer, t.loop = this.loop, t.onended = this.onEnded.bind(this), this.startTime = this.context.currentTime, t.start(this.startTime, this.offset), this.isPlaying = !0, this.source = t, this.setDetune(this.detune), this.setPlaybackRate(this.playbackRate), this.connect()
                    }
                }, pause: function () {
                    if (!1 !== this.hasPlaybackControl)return !0 === this.isPlaying && (this.source.stop(), this.source.onended = null, this.offset += (this.context.currentTime - this.startTime) * this.playbackRate, this.isPlaying = !1), this
                }, stop: function () {
                    if (!1 !== this.hasPlaybackControl)return this.source.stop(), this.source.onended = null, this.offset = 0, this.isPlaying = !1, this
                }, connect: function () {
                    if (this.filters.length > 0) {
                        this.source.connect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++)this.filters[t - 1].connect(this.filters[t]);
                        this.filters[this.filters.length - 1].connect(this.getOutput())
                    } else this.source.connect(this.getOutput());
                    return this
                }, disconnect: function () {
                    if (this.filters.length > 0) {
                        this.source.disconnect(this.filters[0]);
                        for (var t = 1, e = this.filters.length; t < e; t++)this.filters[t - 1].disconnect(this.filters[t]);
                        this.filters[this.filters.length - 1].disconnect(this.getOutput())
                    } else this.source.disconnect(this.getOutput());
                    return this
                }, getFilters: function () {
                    return this.filters
                }, setFilters: function (t) {
                    return t || (t = []), !0 === this.isPlaying ? (this.disconnect(), this.filters = t, this.connect()) : this.filters = t, this
                }, setDetune: function (t) {
                    if (this.detune = t, void 0 !== this.source.detune)return !0 === this.isPlaying && this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, .01), this
                }, getDetune: function () {
                    return this.detune
                }, getFilter: function () {
                    return this.getFilters()[0]
                }, setFilter: function (t) {
                    return this.setFilters(t ? [t] : [])
                }, setPlaybackRate: function (t) {
                    if (!1 !== this.hasPlaybackControl)return this.playbackRate = t, !0 === this.isPlaying && this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, .01), this
                }, getPlaybackRate: function () {
                    return this.playbackRate
                }, onEnded: function () {
                    this.isPlaying = !1
                }, getLoop: function () {
                    return !1 !== this.hasPlaybackControl && this.loop
                }, setLoop: function (t) {
                    if (!1 !== this.hasPlaybackControl)return this.loop = t, !0 === this.isPlaying && (this.source.loop = this.loop), this
                }, getVolume: function () {
                    return this.gain.gain.value
                }, setVolume: function (t) {
                    return this.gain.gain.setTargetAtTime(t, this.context.currentTime, .01), this
                }
            }), Al.prototype = Object.assign(Object.create(Tl.prototype), {
                constructor: Al, getOutput: function () {
                    return this.panner
                }, getRefDistance: function () {
                    return this.panner.refDistance
                }, setRefDistance: function (t) {
                    return this.panner.refDistance = t, this
                }, getRolloffFactor: function () {
                    return this.panner.rolloffFactor
                }, setRolloffFactor: function (t) {
                    return this.panner.rolloffFactor = t, this
                }, getDistanceModel: function () {
                    return this.panner.distanceModel
                }, setDistanceModel: function (t) {
                    return this.panner.distanceModel = t, this
                }, getMaxDistance: function () {
                    return this.panner.maxDistance
                }, setMaxDistance: function (t) {
                    return this.panner.maxDistance = t, this
                }, setDirectionalCone: function (t, e, i) {
                    return this.panner.coneInnerAngle = t, this.panner.coneOuterAngle = e, this.panner.coneOuterGain = i, this
                }, updateMatrixWorld: function () {
                    var t = new Pe, e = new Ae, i = new Pe, n = new Pe;
                    return function (r) {
                        if (Ti.prototype.updateMatrixWorld.call(this, r), !0 !== this.hasPlaybackControl || !1 !== this.isPlaying) {
                            this.matrixWorld.decompose(t, e, i), n.set(0, 0, 1).applyQuaternion(e);
                            var o = this.panner;
                            if (o.positionX) {
                                var a = this.context.currentTime + this.listener.timeDelta;
                                o.positionX.linearRampToValueAtTime(t.x, a), o.positionY.linearRampToValueAtTime(t.y, a), o.positionZ.linearRampToValueAtTime(t.z, a), o.orientationX.linearRampToValueAtTime(n.x, a), o.orientationY.linearRampToValueAtTime(n.y, a), o.orientationZ.linearRampToValueAtTime(n.z, a)
                            } else o.setPosition(t.x, t.y, t.z), o.setOrientation(n.x, n.y, n.z)
                        }
                    }
                }()
            }), Object.assign(Pl.prototype, {
                getFrequencyData: function () {
                    return this.analyser.getByteFrequencyData(this.data), this.data
                }, getAverageFrequency: function () {
                    for (var t = 0, e = this.getFrequencyData(), i = 0; i < e.length; i++)t += e[i];
                    return t / e.length
                }
            }), Object.assign(El.prototype, {
                accumulate: function (t, e) {
                    var i = this.buffer, n = this.valueSize, r = t * n + n, o = this.cumulativeWeight;
                    if (0 === o) {
                        for (var a = 0; a !== n; ++a)i[r + a] = i[a];
                        o = e
                    } else {
                        var s = e / (o += e);
                        this._mixBufferRegion(i, r, 0, s, n)
                    }
                    this.cumulativeWeight = o
                }, apply: function (t) {
                    var e = this.valueSize, i = this.buffer, n = t * e + e, r = this.cumulativeWeight, o = this.binding;
                    if (this.cumulativeWeight = 0, r < 1) {
                        var a = 3 * e;
                        this._mixBufferRegion(i, n, a, 1 - r, e)
                    }
                    for (var s = e, l = e + e; s !== l; ++s)if (i[s] !== i[s + e]) {
                        o.setValue(i, n);
                        break
                    }
                }, saveOriginalState: function () {
                    var t = this.binding, e = this.buffer, i = this.valueSize, n = 3 * i;
                    t.getValue(e, n);
                    for (var r = i, o = n; r !== o; ++r)e[r] = e[n + r % i];
                    this.cumulativeWeight = 0
                }, restoreOriginalState: function () {
                    var t = 3 * this.valueSize;
                    this.binding.setValue(this.buffer, t)
                }, _select: function (t, e, i, n, r) {
                    if (n >= .5)for (var o = 0; o !== r; ++o)t[e + o] = t[i + o]
                }, _slerp: function (t, e, i, n) {
                    Ae.slerpFlat(t, e, t, e, t, i, n)
                }, _lerp: function (t, e, i, n, r) {
                    for (var o = 1 - n, a = 0; a !== r; ++a) {
                        var s = e + a;
                        t[s] = t[s] * o + t[i + a] * n
                    }
                }
            });
            var Cl, Ol, Ll, kl, Il, Nl, Rl, Dl, zl, jl, Fl, Bl, Ul, Gl, $l;

            function Vl(t, e, i) {
                var n = i || Wl.parseTrackName(e);
                this._targetGroup = t, this._bindings = t.subscribe_(e, n)
            }

            function Wl(t, e, i) {
                this.path = e, this.parsedPath = i || Wl.parseTrackName(e), this.node = Wl.findNode(t, this.parsedPath.nodeName) || t, this.rootNode = t
            }

            function Hl() {
                this.uuid = Me.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
                var t = {};
                this._indicesByUUID = t;
                for (var e = 0, i = arguments.length; e !== i; ++e)t[arguments[e].uuid] = e;
                this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
                var n = this;
                this.stats = {
                    objects: {
                        get total() {
                            return n._objects.length
                        }, get inUse() {
                            return this.total - n.nCachedObjects_
                        }
                    }, get bindingsPerObject() {
                        return n._bindings.length
                    }
                }
            }

            function Xl(t, e, i) {
                this._mixer = t, this._clip = e, this._localRoot = i || null;
                for (var n = e.tracks, r = n.length, o = new Array(r), a = {
                    endingStart: ce,
                    endingEnd: ce
                }, s = 0; s !== r; ++s) {
                    var l = n[s].createInterpolant(null);
                    o[s] = l, l.settings = a
                }
                this._interpolantSettings = a, this._interpolants = o, this._propertyBindings = new Array(r), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = le, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0
            }

            function ql(t) {
                this._root = t, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1
            }

            function Yl(t) {
                "string" == typeof t && (t = arguments[1]), this.value = t
            }

            function Jl() {
                $i.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0
            }

            function Zl(t, e, i) {
                Qr.call(this, t, e), this._meshPerAttribute = i || 1, this.versionVAO = 0
            }

            function Kl(t, e, i, n) {
                "number" == typeof i && (n = i, i = !1), Oi.call(this, t, e, i), this._meshPerAttribute = n || 1, this.versionVAO = 0
            }

            function Ql(t, e, i, n) {
                this.ray = new dn(t, e), this.near = i || 0, this.far = n || 1 / 0, this.params = {
                    Mesh: {},
                    Line: {},
                    LOD: {},
                    Points: {threshold: 1},
                    Sprite: {}
                }, Object.defineProperties(this.params, {
                    PointCloud: {
                        get: function () {
                            return this.Points
                        }
                    }
                })
            }

            function tc(t, e) {
                return t.distance - e.distance
            }

            function ec(t, e, i, n) {
                if (!1 !== t.visible && (t.raycast(e, i), !0 === n))for (var r = t.children, o = 0, a = r.length; o < a; o++)ec(r[o], e, i, !0)
            }

            function ic(t, e, i) {
                return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== i ? i : 0, this
            }

            function nc(t, e, i) {
                return this.radius = void 0 !== t ? t : 1, this.theta = void 0 !== e ? e : 0, this.y = void 0 !== i ? i : 0, this
            }

            function rc(t, e) {
                this.min = void 0 !== t ? t : new Te(1 / 0, 1 / 0), this.max = void 0 !== e ? e : new Te(-1 / 0, -1 / 0)
            }

            function oc(t, e) {
                this.start = void 0 !== t ? t : new Pe, this.end = void 0 !== e ? e : new Pe
            }

            function ac(t) {
                Ti.call(this), this.material = t, this.render = function () {
                }
            }

            function sc(t, e, i, n) {
                this.object = t, this.size = void 0 !== e ? e : 1;
                var r = void 0 !== i ? i : 16711680, o = void 0 !== n ? n : 1, a = 0, s = this.object.geometry;
                s && s.isGeometry ? a = 3 * s.faces.length : s && s.isBufferGeometry && (a = s.attributes.normal.count);
                var l = new $i, c = new ji(2 * a * 3, 3);
                l.addAttribute("position", c), co.call(this, l, new so({
                    color: r,
                    linewidth: o
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function lc(t, e) {
                Ti.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = e;
                for (var i = new $i, n = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], r = 0, o = 1; r < 32; r++, o++) {
                    var a = r / 32 * Math.PI * 2, s = o / 32 * Math.PI * 2;
                    n.push(Math.cos(a), Math.sin(a), 1, Math.cos(s), Math.sin(s), 1)
                }
                i.addAttribute("position", new ji(n, 3));
                var l = new so({fog: !1});
                this.cone = new co(i, l), this.add(this.cone), this.update()
            }

            function cc(t) {
                for (var e = function t(e) {
                    var i = [];
                    e && e.isBone && i.push(e);
                    for (var n = 0; n < e.children.length; n++)i.push.apply(i, t(e.children[n]));
                    return i
                }(t), i = new $i, n = [], r = [], o = new hi(0, 0, 1), a = new hi(0, 1, 0), s = 0; s < e.length; s++) {
                    var l = e[s];
                    l.parent && l.parent.isBone && (n.push(0, 0, 0), n.push(0, 0, 0), r.push(o.r, o.g, o.b), r.push(a.r, a.g, a.b))
                }
                i.addAttribute("position", new ji(n, 3)), i.addAttribute("color", new ji(r, 3));
                var c = new so({vertexColors: g, depthTest: !1, depthWrite: !1, transparent: !0});
                co.call(this, i, c), this.root = t, this.bones = e, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1
            }

            function uc(t, e, i) {
                this.light = t, this.light.updateMatrixWorld(), this.color = i;
                var n = new ma(e, 4, 2), r = new fn({wireframe: !0, fog: !1});
                mn.call(this, n, r), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1, this.update()
            }

            function hc(t, e) {
                this.type = "RectAreaLightHelper", this.light = t, this.color = e;
                var i = new $i;
                i.addAttribute("position", new ji([1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0, 1, 1, 0], 3)), i.computeBoundingSphere();
                var n = new so({fog: !1});
                lo.call(this, i, n);
                var r = new $i;
                r.addAttribute("position", new ji([1, 1, 0, -1, 1, 0, -1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0], 3)), r.computeBoundingSphere(), this.add(new mn(r, new fn({
                    side: d,
                    fog: !1
                }))), this.update()
            }

            function dc(t, e, i) {
                Ti.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = i;
                var n = new Ao(e);
                n.rotateY(.5 * Math.PI), this.material = new fn({
                    wireframe: !0,
                    fog: !1
                }), void 0 === this.color && (this.material.vertexColors = g);
                var r = n.getAttribute("position"), o = new Float32Array(3 * r.count);
                n.addAttribute("color", new Oi(o, 3)), this.add(new mn(n, this.material)), this.update()
            }

            function pc(t, e) {
                this.lightProbe = t, this.size = e;
                var i = {GAMMA_OUTPUT: ""}, n = new hn({
                    defines: i,
                    uniforms: {
                        sh: {value: this.lightProbe.sh.coefficients},
                        intensity: {value: this.lightProbe.intensity}
                    },
                    vertexShader: ["varying vec3 vNormal;", "void main() {", "\tvNormal = normalize( normalMatrix * normal );", "\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
                    fragmentShader: ["#define RECIPROCAL_PI 0.318309886", "vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {", "\t// matrix is assumed to be orthogonal", "\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );", "}", "vec3 linearToOutput( in vec3 a ) {", "\t#ifdef GAMMA_OUTPUT", "\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );", "\t#else", "\t\treturn a;", "\t#endif", "}", "// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf", "vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {", "\t// normal is assumed to have unit length", "\tfloat x = normal.x, y = normal.y, z = normal.z;", "\t// band 0", "\tvec3 result = shCoefficients[ 0 ] * 0.886227;", "\t// band 1", "\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;", "\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;", "\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;", "\t// band 2", "\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;", "\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;", "\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );", "\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;", "\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );", "\treturn result;", "}", "uniform vec3 sh[ 9 ]; // sh coefficients", "uniform float intensity; // light probe intensity", "varying vec3 vNormal;", "void main() {", "\tvec3 normal = normalize( vNormal );", "\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );", "\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );", "\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;", "\toutgoingLight = linearToOutput( outgoingLight );", "\tgl_FragColor = vec4( outgoingLight, 1.0 );", "}"].join("\n")
                }), r = new ma(1, 32, 16);
                mn.call(this, r, n), this.onBeforeRender()
            }

            function fc(t, e, i, n) {
                t = t || 10, e = e || 10, i = new hi(void 0 !== i ? i : 4473924), n = new hi(void 0 !== n ? n : 8947848);
                for (var r = e / 2, o = t / e, a = t / 2, s = [], l = [], c = 0, u = 0, h = -a; c <= e; c++, h += o) {
                    s.push(-a, 0, h, a, 0, h), s.push(h, 0, -a, h, 0, a);
                    var d = c === r ? i : n;
                    d.toArray(l, u), u += 3, d.toArray(l, u), u += 3, d.toArray(l, u), u += 3, d.toArray(l, u), u += 3
                }
                var p = new $i;
                p.addAttribute("position", new ji(s, 3)), p.addAttribute("color", new ji(l, 3));
                var f = new so({vertexColors: g});
                co.call(this, p, f)
            }

            function mc(t, e, i, n, r, o) {
                t = t || 10, e = e || 16, i = i || 8, n = n || 64, r = new hi(void 0 !== r ? r : 4473924), o = new hi(void 0 !== o ? o : 8947848);
                var a, s, l, c, u, h, d, p = [], f = [];
                for (c = 0; c <= e; c++)l = c / e * (2 * Math.PI), a = Math.sin(l) * t, s = Math.cos(l) * t, p.push(0, 0, 0), p.push(a, 0, s), d = 1 & c ? r : o, f.push(d.r, d.g, d.b), f.push(d.r, d.g, d.b);
                for (c = 0; c <= i; c++)for (d = 1 & c ? r : o, h = t - t / i * c, u = 0; u < n; u++)l = u / n * (2 * Math.PI), a = Math.sin(l) * h, s = Math.cos(l) * h, p.push(a, 0, s), f.push(d.r, d.g, d.b), l = (u + 1) / n * (2 * Math.PI), a = Math.sin(l) * h, s = Math.cos(l) * h, p.push(a, 0, s), f.push(d.r, d.g, d.b);
                var m = new $i;
                m.addAttribute("position", new ji(p, 3)), m.addAttribute("color", new ji(f, 3));
                var v = new so({vertexColors: g});
                co.call(this, m, v)
            }

            function gc(t, e, i, n) {
                this.audio = t, this.range = e || 1, this.divisionsInnerAngle = i || 16, this.divisionsOuterAngle = n || 2;
                var r = new $i, o = this.divisionsInnerAngle + 2 * this.divisionsOuterAngle,
                    a = new Float32Array(3 * (3 * o + 3));
                r.addAttribute("position", new Oi(a, 3));
                var s = new so({color: 65280}), l = new so({color: 16776960});
                lo.call(this, r, [l, s]), this.update()
            }

            function vc(t, e, i, n) {
                this.object = t, this.size = void 0 !== e ? e : 1;
                var r = void 0 !== i ? i : 16776960, o = void 0 !== n ? n : 1, a = 0, s = this.object.geometry;
                s && s.isGeometry && (a = s.faces.length);
                var l = new $i, c = new ji(2 * a * 3, 3);
                l.addAttribute("position", c), co.call(this, l, new so({
                    color: r,
                    linewidth: o
                })), this.matrixAutoUpdate = !1, this.update()
            }

            function yc(t, e, i) {
                Ti.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = i, void 0 === e && (e = 1);
                var n = new $i;
                n.addAttribute("position", new ji([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0], 3));
                var r = new so({fog: !1});
                this.lightPlane = new lo(n, r), this.add(this.lightPlane), (n = new $i).addAttribute("position", new ji([0, 0, 0, 0, 0, 1], 3)), this.targetLine = new lo(n, r), this.add(this.targetLine), this.update()
            }

            function _c(t) {
                var e = new $i, i = new so({color: 16777215, vertexColors: m}), n = [], r = [], o = {},
                    a = new hi(16755200), s = new hi(16711680), l = new hi(43775), c = new hi(16777215),
                    u = new hi(3355443);

                function h(t, e, i) {
                    d(t, i), d(e, i)
                }

                function d(t, e) {
                    n.push(0, 0, 0), r.push(e.r, e.g, e.b), void 0 === o[t] && (o[t] = []), o[t].push(n.length / 3 - 1)
                }

                h("n1", "n2", a), h("n2", "n4", a), h("n4", "n3", a), h("n3", "n1", a), h("f1", "f2", a), h("f2", "f4", a), h("f4", "f3", a), h("f3", "f1", a), h("n1", "f1", a), h("n2", "f2", a), h("n3", "f3", a), h("n4", "f4", a), h("p", "n1", s), h("p", "n2", s), h("p", "n3", s), h("p", "n4", s), h("u1", "u2", l), h("u2", "u3", l), h("u3", "u1", l), h("c", "t", c), h("p", "c", u), h("cn1", "cn2", u), h("cn3", "cn4", u), h("cf1", "cf2", u), h("cf3", "cf4", u), e.addAttribute("position", new ji(n, 3)), e.addAttribute("color", new ji(r, 3)), co.call(this, e, i), this.camera = t, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = o, this.update()
            }

            function xc(t, e) {
                this.object = t, void 0 === e && (e = 16776960);
                var i = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    n = new Float32Array(24), r = new $i;
                r.setIndex(new Oi(i, 1)), r.addAttribute("position", new Oi(n, 3)), co.call(this, r, new so({color: e})), this.matrixAutoUpdate = !1, this.update()
            }

            function bc(t, e) {
                this.type = "Box3Helper", this.box = t;
                var i = void 0 !== e ? e : 16776960,
                    n = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                    r = new $i;
                r.setIndex(new Oi(n, 1)), r.addAttribute("position", new ji([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1], 3)), co.call(this, r, new so({color: i})), this.geometry.computeBoundingSphere()
            }

            function wc(t, e, i) {
                this.type = "PlaneHelper", this.plane = t, this.size = void 0 === e ? 1 : e;
                var n = void 0 !== i ? i : 16776960, r = new $i;
                r.addAttribute("position", new ji([1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0], 3)), r.computeBoundingSphere(), lo.call(this, r, new so({color: n}));
                var o = new $i;
                o.addAttribute("position", new ji([1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1], 3)), o.computeBoundingSphere(), this.add(new mn(o, new fn({
                    color: n,
                    opacity: .2,
                    transparent: !0,
                    depthWrite: !1
                })))
            }

            function Sc(t, e, i, n, r, o) {
                Ti.call(this), void 0 === t && (t = new Pe(0, 0, 1)), void 0 === e && (e = new Pe(0, 0, 0)), void 0 === i && (i = 1), void 0 === n && (n = 16776960), void 0 === r && (r = .2 * i), void 0 === o && (o = .2 * r), void 0 === Bl && ((Bl = new $i).addAttribute("position", new ji([0, 0, 0, 0, 1, 0], 3)), (Ul = new Ta(0, .5, 1, 5, 1)).translate(0, -.5, 0)), this.position.copy(e), this.line = new lo(Bl, new so({color: n})), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new mn(Ul, new fn({color: n})), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(t), this.setLength(i, r, o)
            }

            function Mc(t) {
                var e = [0, 0, 0, t = t || 1, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t], i = new $i;
                i.addAttribute("position", new ji(e, 3)), i.addAttribute("color", new ji([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1], 3));
                var n = new so({vertexColors: g});
                co.call(this, i, n)
            }

            Object.assign(Vl.prototype, {
                getValue: function (t, e) {
                    this.bind();
                    var i = this._targetGroup.nCachedObjects_, n = this._bindings[i];
                    void 0 !== n && n.getValue(t, e)
                }, setValue: function (t, e) {
                    for (var i = this._bindings, n = this._targetGroup.nCachedObjects_, r = i.length; n !== r; ++n)i[n].setValue(t, e)
                }, bind: function () {
                    for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e)t[e].bind()
                }, unbind: function () {
                    for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e)t[e].unbind()
                }
            }), Object.assign(Wl, {
                Composite: Vl,
                create: function (t, e, i) {
                    return t && t.isAnimationObjectGroup ? new Wl.Composite(t, e, i) : new Wl(t, e, i)
                },
                sanitizeNodeName: (zl = new RegExp("[\\[\\]\\.:\\/]", "g"), function (t) {
                    return t.replace(/\s/g, "_").replace(zl, "")
                }),
                parseTrackName: (Cl = "[^\\[\\]\\.:\\/]", Ol = "[^" + "\\[\\]\\.:\\/".replace("\\.", "") + "]", Ll = /((?:WC+[\/:])*)/.source.replace("WC", Cl), kl = /(WCOD+)?/.source.replace("WCOD", Ol), Il = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", Cl), Nl = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", Cl), Rl = new RegExp("^" + Ll + kl + Il + Nl + "$"), Dl = ["material", "materials", "bones"], function (t) {
                    var e = Rl.exec(t);
                    if (!e)throw new Error("PropertyBinding: Cannot parse trackName: " + t);
                    var i = {
                        nodeName: e[2],
                        objectName: e[3],
                        objectIndex: e[4],
                        propertyName: e[5],
                        propertyIndex: e[6]
                    }, n = i.nodeName && i.nodeName.lastIndexOf(".");
                    if (void 0 !== n && -1 !== n) {
                        var r = i.nodeName.substring(n + 1);
                        -1 !== Dl.indexOf(r) && (i.nodeName = i.nodeName.substring(0, n), i.objectName = r)
                    }
                    if (null === i.propertyName || 0 === i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: " + t);
                    return i
                }),
                findNode: function (t, e) {
                    if (!e || "" === e || "root" === e || "." === e || -1 === e || e === t.name || e === t.uuid)return t;
                    if (t.skeleton) {
                        var i = t.skeleton.getBoneByName(e);
                        if (void 0 !== i)return i
                    }
                    if (t.children) {
                        var n = function (t) {
                            for (var i = 0; i < t.length; i++) {
                                var r = t[i];
                                if (r.name === e || r.uuid === e)return r;
                                var o = n(r.children);
                                if (o)return o
                            }
                            return null
                        }, r = n(t.children);
                        if (r)return r
                    }
                    return null
                }
            }), Object.assign(Wl.prototype, {
                _getValue_unavailable: function () {
                },
                _setValue_unavailable: function () {
                },
                BindingType: {Direct: 0, EntireArray: 1, ArrayElement: 2, HasFromToArray: 3},
                Versioning: {None: 0, NeedsUpdate: 1, MatrixWorldNeedsUpdate: 2},
                GetterByBindingType: [function (t, e) {
                    t[e] = this.node[this.propertyName]
                }, function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n)t[e++] = i[n]
                }, function (t, e) {
                    t[e] = this.resolvedProperty[this.propertyIndex]
                }, function (t, e) {
                    this.resolvedProperty.toArray(t, e)
                }],
                SetterByBindingTypeAndVersioning: [[function (t, e) {
                    this.targetObject[this.propertyName] = t[e]
                }, function (t, e) {
                    this.targetObject[this.propertyName] = t[e], this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    this.targetObject[this.propertyName] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                }], [function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n)i[n] = t[e++]
                }, function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n)i[n] = t[e++];
                    this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n)i[n] = t[e++];
                    this.targetObject.matrixWorldNeedsUpdate = !0
                }], [function (t, e) {
                    this.resolvedProperty[this.propertyIndex] = t[e]
                }, function (t, e) {
                    this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0
                }], [function (t, e) {
                    this.resolvedProperty.fromArray(t, e)
                }, function (t, e) {
                    this.resolvedProperty.fromArray(t, e), this.targetObject.needsUpdate = !0
                }, function (t, e) {
                    this.resolvedProperty.fromArray(t, e), this.targetObject.matrixWorldNeedsUpdate = !0
                }]],
                getValue: function (t, e) {
                    this.bind(), this.getValue(t, e)
                },
                setValue: function (t, e) {
                    this.bind(), this.setValue(t, e)
                },
                bind: function () {
                    var t = this.node, e = this.parsedPath, i = e.objectName, n = e.propertyName, r = e.propertyIndex;
                    if (t || (t = Wl.findNode(this.rootNode, e.nodeName) || this.rootNode, this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, t) {
                        if (i) {
                            var o = e.objectIndex;
                            switch (i) {
                                case"materials":
                                    if (!t.material)return;
                                    if (!t.material.materials)return;
                                    t = t.material.materials;
                                    break;
                                case"bones":
                                    if (!t.skeleton)return;
                                    t = t.skeleton.bones;
                                    for (var a = 0; a < t.length; a++)if (t[a].name === o) {
                                        o = a;
                                        break
                                    }
                                    break;
                                default:
                                    if (void 0 === t[i])return;
                                    t = t[i]
                            }
                            if (void 0 !== o) {
                                if (void 0 === t[o])return;
                                t = t[o]
                            }
                        }
                        var s = t[n];
                        if (void 0 !== s) {
                            var l = this.Versioning.None;
                            this.targetObject = t, void 0 !== t.needsUpdate ? l = this.Versioning.NeedsUpdate : void 0 !== t.matrixWorldNeedsUpdate && (l = this.Versioning.MatrixWorldNeedsUpdate);
                            var c = this.BindingType.Direct;
                            if (void 0 !== r) {
                                if ("morphTargetInfluences" === n) {
                                    if (!t.geometry)return;
                                    if (t.geometry.isBufferGeometry) {
                                        if (!t.geometry.morphAttributes)return;
                                        for (a = 0; a < this.node.geometry.morphAttributes.position.length; a++)if (t.geometry.morphAttributes.position[a].name === r) {
                                            r = a;
                                            break
                                        }
                                    } else {
                                        if (!t.geometry.morphTargets)return;
                                        for (a = 0; a < this.node.geometry.morphTargets.length; a++)if (t.geometry.morphTargets[a].name === r) {
                                            r = a;
                                            break
                                        }
                                    }
                                }
                                c = this.BindingType.ArrayElement, this.resolvedProperty = s, this.propertyIndex = r
                            } else void 0 !== s.fromArray && void 0 !== s.toArray ? (c = this.BindingType.HasFromToArray, this.resolvedProperty = s) : Array.isArray(s) ? (c = this.BindingType.EntireArray, this.resolvedProperty = s) : this.propertyName = n;
                            this.getValue = this.GetterByBindingType[c], this.setValue = this.SetterByBindingTypeAndVersioning[c][l]
                        } else e.nodeName
                    }
                },
                unbind: function () {
                    this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound
                }
            }), Object.assign(Wl.prototype, {
                _getValue_unbound: Wl.prototype.getValue,
                _setValue_unbound: Wl.prototype.setValue
            }), Object.assign(Hl.prototype, {
                isAnimationObjectGroup: !0, add: function () {
                    for (var t = this._objects, e = t.length, i = this.nCachedObjects_, n = this._indicesByUUID, r = this._paths, o = this._parsedPaths, a = this._bindings, s = a.length, l = 0, c = arguments.length; l !== c; ++l) {
                        var u = arguments[l], h = u.uuid, d = n[h];
                        if (void 0 === d) {
                            d = e++, n[h] = d, t.push(u);
                            for (var p = 0, f = s; p !== f; ++p)a[p].push(new Wl(u, r[p], o[p]))
                        } else if (d < i) {
                            t[d];
                            var m = --i, g = t[m];
                            n[g.uuid] = d, t[d] = g, n[h] = m, t[m] = u;
                            for (p = 0, f = s; p !== f; ++p) {
                                var v = a[p], y = v[m], _ = v[d];
                                v[d] = y, void 0 === _ && (_ = new Wl(u, r[p], o[p])), v[m] = _
                            }
                        } else t[d]
                    }
                    this.nCachedObjects_ = i
                }, remove: function () {
                    for (var t = this._objects, e = this.nCachedObjects_, i = this._indicesByUUID, n = this._bindings, r = n.length, o = 0, a = arguments.length; o !== a; ++o) {
                        var s = arguments[o], l = s.uuid, c = i[l];
                        if (void 0 !== c && c >= e) {
                            var u = e++, h = t[u];
                            i[h.uuid] = c, t[c] = h, i[l] = u, t[u] = s;
                            for (var d = 0, p = r; d !== p; ++d) {
                                var f = n[d], m = f[u], g = f[c];
                                f[c] = m, f[u] = g
                            }
                        }
                    }
                    this.nCachedObjects_ = e
                }, uncache: function () {
                    for (var t = this._objects, e = t.length, i = this.nCachedObjects_, n = this._indicesByUUID, r = this._bindings, o = r.length, a = 0, s = arguments.length; a !== s; ++a) {
                        var l = arguments[a].uuid, c = n[l];
                        if (void 0 !== c)if (delete n[l], c < i) {
                            var u = --i, h = t[u], d = t[v = --e];
                            n[h.uuid] = c, t[c] = h, n[d.uuid] = u, t[u] = d, t.pop();
                            for (var p = 0, f = o; p !== f; ++p) {
                                var m = (y = r[p])[u], g = y[v];
                                y[c] = m, y[u] = g, y.pop()
                            }
                        } else {
                            var v;
                            n[(d = t[v = --e]).uuid] = c, t[c] = d, t.pop();
                            for (p = 0, f = o; p !== f; ++p) {
                                var y;
                                (y = r[p])[c] = y[v], y.pop()
                            }
                        }
                    }
                    this.nCachedObjects_ = i
                }, subscribe_: function (t, e) {
                    var i = this._bindingsIndicesByPath, n = i[t], r = this._bindings;
                    if (void 0 !== n)return r[n];
                    var o = this._paths, a = this._parsedPaths, s = this._objects, l = s.length,
                        c = this.nCachedObjects_, u = new Array(l);
                    n = r.length, i[t] = n, o.push(t), a.push(e), r.push(u);
                    for (var h = c, d = s.length; h !== d; ++h) {
                        var p = s[h];
                        u[h] = new Wl(p, t, e)
                    }
                    return u
                }, unsubscribe_: function (t) {
                    var e = this._bindingsIndicesByPath, i = e[t];
                    if (void 0 !== i) {
                        var n = this._paths, r = this._parsedPaths, o = this._bindings, a = o.length - 1, s = o[a];
                        e[t[a]] = i, o[i] = s, o.pop(), r[i] = r[a], r.pop(), n[i] = n[a], n.pop()
                    }
                }
            }), Object.assign(Xl.prototype, {
                play: function () {
                    return this._mixer._activateAction(this), this
                }, stop: function () {
                    return this._mixer._deactivateAction(this), this.reset()
                }, reset: function () {
                    return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping()
                }, isRunning: function () {
                    return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
                }, isScheduled: function () {
                    return this._mixer._isActiveAction(this)
                }, startAt: function (t) {
                    return this._startTime = t, this
                }, setLoop: function (t, e) {
                    return this.loop = t, this.repetitions = e, this
                }, setEffectiveWeight: function (t) {
                    return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading()
                }, getEffectiveWeight: function () {
                    return this._effectiveWeight
                }, fadeIn: function (t) {
                    return this._scheduleFading(t, 0, 1)
                }, fadeOut: function (t) {
                    return this._scheduleFading(t, 1, 0)
                }, crossFadeFrom: function (t, e, i) {
                    if (t.fadeOut(e), this.fadeIn(e), i) {
                        var n = this._clip.duration, r = t._clip.duration, o = r / n, a = n / r;
                        t.warp(1, o, e), this.warp(a, 1, e)
                    }
                    return this
                }, crossFadeTo: function (t, e, i) {
                    return t.crossFadeFrom(this, e, i)
                }, stopFading: function () {
                    var t = this._weightInterpolant;
                    return null !== t && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                }, setEffectiveTimeScale: function (t) {
                    return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping()
                }, getEffectiveTimeScale: function () {
                    return this._effectiveTimeScale
                }, setDuration: function (t) {
                    return this.timeScale = this._clip.duration / t, this.stopWarping()
                }, syncWith: function (t) {
                    return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping()
                }, halt: function (t) {
                    return this.warp(this._effectiveTimeScale, 0, t)
                }, warp: function (t, e, i) {
                    var n = this._mixer, r = n.time, o = this._timeScaleInterpolant, a = this.timeScale;
                    null === o && (o = n._lendControlInterpolant(), this._timeScaleInterpolant = o);
                    var s = o.parameterPositions, l = o.sampleValues;
                    return s[0] = r, s[1] = r + i, l[0] = t / a, l[1] = e / a, this
                }, stopWarping: function () {
                    var t = this._timeScaleInterpolant;
                    return null !== t && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this
                }, getMixer: function () {
                    return this._mixer
                }, getClip: function () {
                    return this._clip
                }, getRoot: function () {
                    return this._localRoot || this._mixer._root
                }, _update: function (t, e, i, n) {
                    if (this.enabled) {
                        var r = this._startTime;
                        if (null !== r) {
                            var o = (t - r) * i;
                            if (o < 0 || 0 === i)return;
                            this._startTime = null, e = i * o
                        }
                        e *= this._updateTimeScale(t);
                        var a = this._updateTime(e), s = this._updateWeight(t);
                        if (s > 0)for (var l = this._interpolants, c = this._propertyBindings, u = 0, h = l.length; u !== h; ++u)l[u].evaluate(a), c[u].accumulate(n, s)
                    } else this._updateWeight(t)
                }, _updateWeight: function (t) {
                    var e = 0;
                    if (this.enabled) {
                        e = this.weight;
                        var i = this._weightInterpolant;
                        if (null !== i) {
                            var n = i.evaluate(t)[0];
                            e *= n, t > i.parameterPositions[1] && (this.stopFading(), 0 === n && (this.enabled = !1))
                        }
                    }
                    return this._effectiveWeight = e, e
                }, _updateTimeScale: function (t) {
                    var e = 0;
                    if (!this.paused) {
                        e = this.timeScale;
                        var i = this._timeScaleInterpolant;
                        if (null !== i) e *= i.evaluate(t)[0], t > i.parameterPositions[1] && (this.stopWarping(), 0 === e ? this.paused = !0 : this.timeScale = e)
                    }
                    return this._effectiveTimeScale = e, e
                }, _updateTime: function (t) {
                    var e = this.time + t, i = this._clip.duration, n = this.loop, r = this._loopCount, o = 2202 === n;
                    if (0 === t)return -1 === r ? e : o && 1 == (1 & r) ? i - e : e;
                    if (2200 === n) {
                        -1 === r && (this._loopCount = 0, this._setEndings(!0, !0, !1));
                        t:{
                            if (e >= i) e = i; else {
                                if (!(e < 0)) {
                                    this.time = e;
                                    break t
                                }
                                e = 0
                            }
                            this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, this.time = e, this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: t < 0 ? -1 : 1
                            })
                        }
                    } else {
                        if (-1 === r && (t >= 0 ? (r = 0, this._setEndings(!0, 0 === this.repetitions, o)) : this._setEndings(0 === this.repetitions, !0, o)), e >= i || e < 0) {
                            var a = Math.floor(e / i);
                            e -= i * a, r += Math.abs(a);
                            var s = this.repetitions - r;
                            if (s <= 0) this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, e = t > 0 ? i : 0, this.time = e, this._mixer.dispatchEvent({
                                type: "finished",
                                action: this,
                                direction: t > 0 ? 1 : -1
                            }); else {
                                if (1 === s) {
                                    var l = t < 0;
                                    this._setEndings(l, !l, o)
                                } else this._setEndings(!1, !1, o);
                                this._loopCount = r, this.time = e, this._mixer.dispatchEvent({
                                    type: "loop",
                                    action: this,
                                    loopDelta: a
                                })
                            }
                        } else this.time = e;
                        if (o && 1 == (1 & r))return i - e
                    }
                    return e
                }, _setEndings: function (t, e, i) {
                    var n = this._interpolantSettings;
                    i ? (n.endingStart = 2401, n.endingEnd = 2401) : (n.endingStart = t ? this.zeroSlopeAtStart ? 2401 : ce : 2402, n.endingEnd = e ? this.zeroSlopeAtEnd ? 2401 : ce : 2402)
                }, _scheduleFading: function (t, e, i) {
                    var n = this._mixer, r = n.time, o = this._weightInterpolant;
                    null === o && (o = n._lendControlInterpolant(), this._weightInterpolant = o);
                    var a = o.parameterPositions, s = o.sampleValues;
                    return a[0] = r, s[0] = e, a[1] = r + t, s[1] = i, this
                }
            }), ql.prototype = Object.assign(Object.create(e.prototype), {
                constructor: ql,
                _bindAction: function (t, e) {
                    var i = t._localRoot || this._root, n = t._clip.tracks, r = n.length, o = t._propertyBindings,
                        a = t._interpolants, s = i.uuid, l = this._bindingsByRootAndName, c = l[s];
                    void 0 === c && (c = {}, l[s] = c);
                    for (var u = 0; u !== r; ++u) {
                        var h = n[u], d = h.name, p = c[d];
                        if (void 0 !== p) o[u] = p; else {
                            if (void 0 !== (p = o[u])) {
                                null === p._cacheIndex && (++p.referenceCount, this._addInactiveBinding(p, s, d));
                                continue
                            }
                            var f = e && e._propertyBindings[u].binding.parsedPath;
                            ++(p = new El(Wl.create(i, d, f), h.ValueTypeName, h.getValueSize())).referenceCount, this._addInactiveBinding(p, s, d), o[u] = p
                        }
                        a[u].resultBuffer = p.buffer
                    }
                },
                _activateAction: function (t) {
                    if (!this._isActiveAction(t)) {
                        if (null === t._cacheIndex) {
                            var e = (t._localRoot || this._root).uuid, i = t._clip.uuid, n = this._actionsByClip[i];
                            this._bindAction(t, n && n.knownActions[0]), this._addInactiveAction(t, i, e)
                        }
                        for (var r = t._propertyBindings, o = 0, a = r.length; o !== a; ++o) {
                            var s = r[o];
                            0 == s.useCount++ && (this._lendBinding(s), s.saveOriginalState())
                        }
                        this._lendAction(t)
                    }
                },
                _deactivateAction: function (t) {
                    if (this._isActiveAction(t)) {
                        for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                            var r = e[i];
                            0 == --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r))
                        }
                        this._takeBackAction(t)
                    }
                },
                _initMemoryManager: function () {
                    this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
                    var t = this;
                    this.stats = {
                        actions: {
                            get total() {
                                return t._actions.length
                            }, get inUse() {
                                return t._nActiveActions
                            }
                        }, bindings: {
                            get total() {
                                return t._bindings.length
                            }, get inUse() {
                                return t._nActiveBindings
                            }
                        }, controlInterpolants: {
                            get total() {
                                return t._controlInterpolants.length
                            }, get inUse() {
                                return t._nActiveControlInterpolants
                            }
                        }
                    }
                },
                _isActiveAction: function (t) {
                    var e = t._cacheIndex;
                    return null !== e && e < this._nActiveActions
                },
                _addInactiveAction: function (t, e, i) {
                    var n = this._actions, r = this._actionsByClip, o = r[e];
                    if (void 0 === o) o = {
                        knownActions: [t],
                        actionByRoot: {}
                    }, t._byClipCacheIndex = 0, r[e] = o; else {
                        var a = o.knownActions;
                        t._byClipCacheIndex = a.length, a.push(t)
                    }
                    t._cacheIndex = n.length, n.push(t), o.actionByRoot[i] = t
                },
                _removeInactiveAction: function (t) {
                    var e = this._actions, i = e[e.length - 1], n = t._cacheIndex;
                    i._cacheIndex = n, e[n] = i, e.pop(), t._cacheIndex = null;
                    var r = t._clip.uuid, o = this._actionsByClip, a = o[r], s = a.knownActions, l = s[s.length - 1],
                        c = t._byClipCacheIndex;
                    l._byClipCacheIndex = c, s[c] = l, s.pop(), t._byClipCacheIndex = null, delete a.actionByRoot[(t._localRoot || this._root).uuid], 0 === s.length && delete o[r], this._removeInactiveBindingsForAction(t)
                },
                _removeInactiveBindingsForAction: function (t) {
                    for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                        var r = e[i];
                        0 == --r.referenceCount && this._removeInactiveBinding(r)
                    }
                },
                _lendAction: function (t) {
                    var e = this._actions, i = t._cacheIndex, n = this._nActiveActions++, r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _takeBackAction: function (t) {
                    var e = this._actions, i = t._cacheIndex, n = --this._nActiveActions, r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _addInactiveBinding: function (t, e, i) {
                    var n = this._bindingsByRootAndName, r = n[e], o = this._bindings;
                    void 0 === r && (r = {}, n[e] = r), r[i] = t, t._cacheIndex = o.length, o.push(t)
                },
                _removeInactiveBinding: function (t) {
                    var e = this._bindings, i = t.binding, n = i.rootNode.uuid, r = i.path,
                        o = this._bindingsByRootAndName, a = o[n], s = e[e.length - 1], l = t._cacheIndex;
                    s._cacheIndex = l, e[l] = s, e.pop(), delete a[r];
                    t:{
                        for (var c in a)break t;
                        delete o[n]
                    }
                },
                _lendBinding: function (t) {
                    var e = this._bindings, i = t._cacheIndex, n = this._nActiveBindings++, r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _takeBackBinding: function (t) {
                    var e = this._bindings, i = t._cacheIndex, n = --this._nActiveBindings, r = e[n];
                    t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r
                },
                _lendControlInterpolant: function () {
                    var t = this._controlInterpolants, e = this._nActiveControlInterpolants++, i = t[e];
                    return void 0 === i && ((i = new Wa(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer)).__cacheIndex = e, t[e] = i), i
                },
                _takeBackControlInterpolant: function (t) {
                    var e = this._controlInterpolants, i = t.__cacheIndex, n = --this._nActiveControlInterpolants,
                        r = e[n];
                    t.__cacheIndex = n, e[n] = t, r.__cacheIndex = i, e[i] = r
                },
                _controlInterpolantsResultBuffer: new Float32Array(1),
                clipAction: function (t, e) {
                    var i = e || this._root, n = i.uuid, r = "string" == typeof t ? es.findByName(i, t) : t,
                        o = null !== r ? r.uuid : t, a = this._actionsByClip[o], s = null;
                    if (void 0 !== a) {
                        var l = a.actionByRoot[n];
                        if (void 0 !== l)return l;
                        s = a.knownActions[0], null === r && (r = s._clip)
                    }
                    if (null === r)return null;
                    var c = new Xl(this, r, e);
                    return this._bindAction(c, s), this._addInactiveAction(c, o, n), c
                },
                existingAction: function (t, e) {
                    var i = e || this._root, n = i.uuid, r = "string" == typeof t ? es.findByName(i, t) : t,
                        o = r ? r.uuid : t, a = this._actionsByClip[o];
                    return void 0 !== a && a.actionByRoot[n] || null
                },
                stopAllAction: function () {
                    var t = this._actions, e = this._nActiveActions, i = this._bindings, n = this._nActiveBindings;
                    this._nActiveActions = 0, this._nActiveBindings = 0;
                    for (var r = 0; r !== e; ++r)t[r].reset();
                    for (r = 0; r !== n; ++r)i[r].useCount = 0;
                    return this
                },
                update: function (t) {
                    t *= this.timeScale;
                    for (var e = this._actions, i = this._nActiveActions, n = this.time += t, r = Math.sign(t), o = this._accuIndex ^= 1, a = 0; a !== i; ++a) {
                        e[a]._update(n, t, r, o)
                    }
                    var s = this._bindings, l = this._nActiveBindings;
                    for (a = 0; a !== l; ++a)s[a].apply(o);
                    return this
                },
                getRoot: function () {
                    return this._root
                },
                uncacheClip: function (t) {
                    var e = this._actions, i = t.uuid, n = this._actionsByClip, r = n[i];
                    if (void 0 !== r) {
                        for (var o = r.knownActions, a = 0, s = o.length; a !== s; ++a) {
                            var l = o[a];
                            this._deactivateAction(l);
                            var c = l._cacheIndex, u = e[e.length - 1];
                            l._cacheIndex = null, l._byClipCacheIndex = null, u._cacheIndex = c, e[c] = u, e.pop(), this._removeInactiveBindingsForAction(l)
                        }
                        delete n[i]
                    }
                },
                uncacheRoot: function (t) {
                    var e = t.uuid, i = this._actionsByClip;
                    for (var n in i) {
                        var r = i[n].actionByRoot[e];
                        void 0 !== r && (this._deactivateAction(r), this._removeInactiveAction(r))
                    }
                    var o = this._bindingsByRootAndName[e];
                    if (void 0 !== o)for (var a in o) {
                        var s = o[a];
                        s.restoreOriginalState(), this._removeInactiveBinding(s)
                    }
                },
                uncacheAction: function (t, e) {
                    var i = this.existingAction(t, e);
                    null !== i && (this._deactivateAction(i), this._removeInactiveAction(i))
                }
            }), Yl.prototype.clone = function () {
                return new Yl(void 0 === this.value.clone ? this.value : this.value.clone())
            }, Jl.prototype = Object.assign(Object.create($i.prototype), {
                constructor: Jl,
                isInstancedBufferGeometry: !0,
                copy: function (t) {
                    return $i.prototype.copy.call(this, t), this.maxInstancedCount = t.maxInstancedCount, this
                },
                clone: function () {
                    return (new this.constructor).copy(this)
                }
            }), Zl.prototype = Object.assign(Object.create(Qr.prototype), {
                constructor: Zl,
                isInstancedInterleavedBuffer: !0,
                copy: function (t) {
                    return Qr.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
                }
            }), Object.defineProperties(Zl.prototype, {
                meshPerAttribute: {
                    get: function () {
                        return this._meshPerAttribute
                    }, set: function (t) {
                        this._meshPerAttribute = t, this.versionVAO++
                    }
                }
            }), Kl.prototype = Object.assign(Object.create(Oi.prototype), {
                constructor: Kl,
                isInstancedBufferAttribute: !0,
                copy: function (t) {
                    return Oi.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this
                }
            }), Object.defineProperties(Kl.prototype, {
                meshPerAttribute: {
                    get: function () {
                        return this._meshPerAttribute
                    }, set: function (t) {
                        this._meshPerAttribute = t, this.versionVAO++
                    }
                }
            }), Object.assign(Ql.prototype, {
                linePrecision: 1, set: function (t, e) {
                    this.ray.set(t, e)
                }, setFromCamera: function (t, e) {
                    e && e.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld), this.ray.direction.set(t.x, t.y, .5).unproject(e).sub(this.ray.origin).normalize()) : e && e.isOrthographicCamera && (this.ray.origin.set(t.x, t.y, (e.near + e.far) / (e.near - e.far)).unproject(e), this.ray.direction.set(0, 0, -1).transformDirection(e.matrixWorld))
                }, intersectObject: function (t, e, i) {
                    var n = i || [];
                    return ec(t, this, n, e), n.sort(tc), n
                }, intersectObjects: function (t, e, i) {
                    var n = i || [];
                    if (!1 === Array.isArray(t))return n;
                    for (var r = 0, o = t.length; r < o; r++)ec(t[r], this, n, e);
                    return n.sort(tc), n
                }
            }), Object.assign(ic.prototype, {
                set: function (t, e, i) {
                    return this.radius = t, this.phi = e, this.theta = i, this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.radius = t.radius, this.phi = t.phi, this.theta = t.theta, this
                }, makeSafe: function () {
                    return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this
                }, setFromVector3: function (t) {
                    return this.setFromCartesianCoords(t.x, t.y, t.z)
                }, setFromCartesianCoords: function (t, e, i) {
                    return this.radius = Math.sqrt(t * t + e * e + i * i), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t, i), this.phi = Math.acos(Me.clamp(e / this.radius, -1, 1))), this
                }
            }), Object.assign(nc.prototype, {
                set: function (t, e, i) {
                    return this.radius = t, this.theta = e, this.y = i, this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.radius = t.radius, this.theta = t.theta, this.y = t.y, this
                }, setFromVector3: function (t) {
                    return this.setFromCartesianCoords(t.x, t.y, t.z)
                }, setFromCartesianCoords: function (t, e, i) {
                    return this.radius = Math.sqrt(t * t + i * i), this.theta = Math.atan2(t, i), this.y = e, this
                }
            }), Object.assign(rc.prototype, {
                set: function (t, e) {
                    return this.min.copy(t), this.max.copy(e), this
                }, setFromPoints: function (t) {
                    this.makeEmpty();
                    for (var e = 0, i = t.length; e < i; e++)this.expandByPoint(t[e]);
                    return this
                }, setFromCenterAndSize: function () {
                    var t = new Te;
                    return function (e, i) {
                        var n = t.copy(i).multiplyScalar(.5);
                        return this.min.copy(e).sub(n), this.max.copy(e).add(n), this
                    }
                }(), clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.min.copy(t.min), this.max.copy(t.max), this
                }, makeEmpty: function () {
                    return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this
                }, isEmpty: function () {
                    return this.max.x < this.min.x || this.max.y < this.min.y
                }, getCenter: function (t) {
                    return void 0 === t && (t = new Te), this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(.5)
                }, getSize: function (t) {
                    return void 0 === t && (t = new Te), this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
                }, expandByPoint: function (t) {
                    return this.min.min(t), this.max.max(t), this
                }, expandByVector: function (t) {
                    return this.min.sub(t), this.max.add(t), this
                }, expandByScalar: function (t) {
                    return this.min.addScalar(-t), this.max.addScalar(t), this
                }, containsPoint: function (t) {
                    return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y)
                }, containsBox: function (t) {
                    return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y
                }, getParameter: function (t, e) {
                    return void 0 === e && (e = new Te), e.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y))
                }, intersectsBox: function (t) {
                    return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y)
                }, clampPoint: function (t, e) {
                    return void 0 === e && (e = new Te), e.copy(t).clamp(this.min, this.max)
                }, distanceToPoint: function () {
                    var t = new Te;
                    return function (e) {
                        return t.copy(e).clamp(this.min, this.max).sub(e).length()
                    }
                }(), intersect: function (t) {
                    return this.min.max(t.min), this.max.min(t.max), this
                }, union: function (t) {
                    return this.min.min(t.min), this.max.max(t.max), this
                }, translate: function (t) {
                    return this.min.add(t), this.max.add(t), this
                }, equals: function (t) {
                    return t.min.equals(this.min) && t.max.equals(this.max)
                }
            }), Object.assign(oc.prototype, {
                set: function (t, e) {
                    return this.start.copy(t), this.end.copy(e), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }, copy: function (t) {
                    return this.start.copy(t.start), this.end.copy(t.end), this
                }, getCenter: function (t) {
                    return void 0 === t && (t = new Pe), t.addVectors(this.start, this.end).multiplyScalar(.5)
                }, delta: function (t) {
                    return void 0 === t && (t = new Pe), t.subVectors(this.end, this.start)
                }, distanceSq: function () {
                    return this.start.distanceToSquared(this.end)
                }, distance: function () {
                    return this.start.distanceTo(this.end)
                }, at: function (t, e) {
                    return void 0 === e && (e = new Pe), this.delta(e).multiplyScalar(t).add(this.start)
                }, closestPointToPointParameter: (jl = new Pe, Fl = new Pe, function (t, e) {
                    jl.subVectors(t, this.start), Fl.subVectors(this.end, this.start);
                    var i = Fl.dot(Fl), n = Fl.dot(jl) / i;
                    return e && (n = Me.clamp(n, 0, 1)), n
                }), closestPointToPoint: function (t, e, i) {
                    var n = this.closestPointToPointParameter(t, e);
                    return void 0 === i && (i = new Pe), this.delta(i).multiplyScalar(n).add(this.start)
                }, applyMatrix4: function (t) {
                    return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this
                }, equals: function (t) {
                    return t.start.equals(this.start) && t.end.equals(this.end)
                }
            }), ac.prototype = Object.create(Ti.prototype), ac.prototype.constructor = ac, ac.prototype.isImmediateRenderObject = !0, sc.prototype = Object.create(co.prototype), sc.prototype.constructor = sc, sc.prototype.update = function () {
                var t = new Pe, e = new Pe, i = new Ee;
                return function () {
                    var n = ["a", "b", "c"];
                    this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld);
                    var r = this.object.matrixWorld, o = this.geometry.attributes.position, a = this.object.geometry;
                    if (a && a.isGeometry)for (var s = a.vertices, l = a.faces, c = 0, u = 0, h = l.length; u < h; u++)for (var d = l[u], p = 0, f = d.vertexNormals.length; p < f; p++) {
                        var m = s[d[n[p]]], g = d.vertexNormals[p];
                        t.copy(m).applyMatrix4(r), e.copy(g).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), o.setXYZ(c, t.x, t.y, t.z), c += 1, o.setXYZ(c, e.x, e.y, e.z), c += 1
                    } else if (a && a.isBufferGeometry) {
                        var v = a.attributes.position, y = a.attributes.normal;
                        for (c = 0, p = 0, f = v.count; p < f; p++)t.set(v.getX(p), v.getY(p), v.getZ(p)).applyMatrix4(r), e.set(y.getX(p), y.getY(p), y.getZ(p)), e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), o.setXYZ(c, t.x, t.y, t.z), c += 1, o.setXYZ(c, e.x, e.y, e.z), c += 1
                    }
                    o.needsUpdate = !0
                }
            }(), lc.prototype = Object.create(Ti.prototype), lc.prototype.constructor = lc, lc.prototype.dispose = function () {
                this.cone.geometry.dispose(), this.cone.material.dispose()
            }, lc.prototype.update = function () {
                var t = new Pe;
                return function () {
                    this.light.updateMatrixWorld();
                    var e = this.light.distance ? this.light.distance : 1e3, i = e * Math.tan(this.light.angle);
                    this.cone.scale.set(i, i, e), t.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(t), void 0 !== this.color ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color)
                }
            }(), cc.prototype = Object.create(co.prototype), cc.prototype.constructor = cc, cc.prototype.updateMatrixWorld = function () {
                var t = new Pe, e = new ii, i = new ii;
                return function (n) {
                    var r = this.bones, o = this.geometry, a = o.getAttribute("position");
                    i.getInverse(this.root.matrixWorld);
                    for (var s = 0, l = 0; s < r.length; s++) {
                        var c = r[s];
                        c.parent && c.parent.isBone && (e.multiplyMatrices(i, c.matrixWorld), t.setFromMatrixPosition(e), a.setXYZ(l, t.x, t.y, t.z), e.multiplyMatrices(i, c.parent.matrixWorld), t.setFromMatrixPosition(e), a.setXYZ(l + 1, t.x, t.y, t.z), l += 2)
                    }
                    o.getAttribute("position").needsUpdate = !0, Ti.prototype.updateMatrixWorld.call(this, n)
                }
            }(), uc.prototype = Object.create(mn.prototype), uc.prototype.constructor = uc, uc.prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose()
            }, uc.prototype.update = function () {
                void 0 !== this.color ? this.material.color.set(this.color) : this.material.color.copy(this.light.color)
            }, hc.prototype = Object.create(lo.prototype), hc.prototype.constructor = hc, hc.prototype.update = function () {
                if (this.scale.set(.5 * this.light.width, .5 * this.light.height, 1), void 0 !== this.color) this.material.color.set(this.color), this.children[0].material.color.set(this.color); else {
                    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);
                    var t = this.material.color, e = Math.max(t.r, t.g, t.b);
                    e > 1 && t.multiplyScalar(1 / e), this.children[0].material.color.copy(this.material.color)
                }
            }, hc.prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose(), this.children[0].geometry.dispose(), this.children[0].material.dispose()
            }, dc.prototype = Object.create(Ti.prototype), dc.prototype.constructor = dc, dc.prototype.dispose = function () {
                this.children[0].geometry.dispose(), this.children[0].material.dispose()
            }, dc.prototype.update = function () {
                var t = new Pe, e = new hi, i = new hi;
                return function () {
                    var n = this.children[0];
                    if (void 0 !== this.color) this.material.color.set(this.color); else {
                        var r = n.geometry.getAttribute("color");
                        e.copy(this.light.color), i.copy(this.light.groundColor);
                        for (var o = 0, a = r.count; o < a; o++) {
                            var s = o < a / 2 ? e : i;
                            r.setXYZ(o, s.r, s.g, s.b)
                        }
                        r.needsUpdate = !0
                    }
                    n.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())
                }
            }(), pc.prototype = Object.create(mn.prototype), pc.prototype.constructor = pc, pc.prototype.dispose = function () {
                this.geometry.dispose(), this.material.dispose()
            }, pc.prototype.onBeforeRender = function () {
                this.position.copy(this.lightProbe.position), this.scale.set(1, 1, 1).multiplyScalar(this.size), this.material.uniforms.intensity.value = this.lightProbe.intensity
            }, fc.prototype = Object.assign(Object.create(co.prototype), {
                constructor: fc, copy: function (t) {
                    return co.prototype.copy.call(this, t), this.geometry.copy(t.geometry), this.material.copy(t.material), this
                }, clone: function () {
                    return (new this.constructor).copy(this)
                }
            }), mc.prototype = Object.create(co.prototype), mc.prototype.constructor = mc, gc.prototype = Object.create(lo.prototype), gc.prototype.constructor = gc, gc.prototype.update = function () {
                var t, e, i = this.audio, n = this.range, r = this.divisionsInnerAngle, o = this.divisionsOuterAngle,
                    a = Me.degToRad(i.panner.coneInnerAngle), s = Me.degToRad(i.panner.coneOuterAngle), l = a / 2,
                    c = s / 2, u = 0, h = 0, d = this.geometry, p = d.attributes.position;

                function f(i, r, o, a) {
                    var s = (r - i) / o;
                    for (p.setXYZ(u, 0, 0, 0), h++, t = i; t < r; t += s)e = u + h, p.setXYZ(e, Math.sin(t) * n, 0, Math.cos(t) * n), p.setXYZ(e + 1, Math.sin(Math.min(t + s, r)) * n, 0, Math.cos(Math.min(t + s, r)) * n), p.setXYZ(e + 2, 0, 0, 0), h += 3;
                    d.addGroup(u, h, a), u += h, h = 0
                }

                d.clearGroups(), f(-c, -l, o, 0), f(-l, l, r, 1), f(l, c, o, 0), p.needsUpdate = !0, a === s && (this.material[0].visible = !1)
            }, gc.prototype.dispose = function () {
                this.geometry.dispose(), this.material[0].dispose(), this.material[1].dispose()
            }, vc.prototype = Object.create(co.prototype), vc.prototype.constructor = vc, vc.prototype.update = function () {
                var t = new Pe, e = new Pe, i = new Ee;
                return function () {
                    this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld);
                    for (var n = this.object.matrixWorld, r = this.geometry.attributes.position, o = this.object.geometry, a = o.vertices, s = o.faces, l = 0, c = 0, u = s.length; c < u; c++) {
                        var h = s[c], d = h.normal;
                        t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(n), e.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), r.setXYZ(l, t.x, t.y, t.z), l += 1, r.setXYZ(l, e.x, e.y, e.z), l += 1
                    }
                    r.needsUpdate = !0
                }
            }(), yc.prototype = Object.create(Ti.prototype), yc.prototype.constructor = yc, yc.prototype.dispose = function () {
                this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose()
            }, yc.prototype.update = function () {
                var t = new Pe, e = new Pe, i = new Pe;
                return function () {
                    t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), i.subVectors(e, t), this.lightPlane.lookAt(e), void 0 !== this.color ? (this.lightPlane.material.color.set(this.color), this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color), this.targetLine.material.color.copy(this.light.color)), this.targetLine.lookAt(e), this.targetLine.scale.z = i.length()
                }
            }(), _c.prototype = Object.create(co.prototype), _c.prototype.constructor = _c, _c.prototype.update = function () {
                var t, e, i = new Pe, n = new Dr;

                function r(r, o, a, s) {
                    i.set(o, a, s).unproject(n);
                    var l = e[r];
                    if (void 0 !== l)for (var c = t.getAttribute("position"), u = 0, h = l.length; u < h; u++)c.setXYZ(l[u], i.x, i.y, i.z)
                }

                return function () {
                    t = this.geometry, e = this.pointMap;
                    n.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse), r("c", 0, 0, -1), r("t", 0, 0, 1), r("n1", -1, -1, -1), r("n2", 1, -1, -1), r("n3", -1, 1, -1), r("n4", 1, 1, -1), r("f1", -1, -1, 1), r("f2", 1, -1, 1), r("f3", -1, 1, 1), r("f4", 1, 1, 1), r("u1", .7, 1.1, -1), r("u2", -.7, 1.1, -1), r("u3", 0, 2, -1), r("cf1", -1, 0, 1), r("cf2", 1, 0, 1), r("cf3", 0, -1, 1), r("cf4", 0, 1, 1), r("cn1", -1, 0, -1), r("cn2", 1, 0, -1), r("cn3", 0, -1, -1), r("cn4", 0, 1, -1), t.getAttribute("position").needsUpdate = !0
                }
            }(), xc.prototype = Object.create(co.prototype), xc.prototype.constructor = xc, xc.prototype.update = function () {
                var t = new Ke;
                return function (e) {
                    if (void 0 !== this.object && t.setFromObject(this.object), !t.isEmpty()) {
                        var i = t.min, n = t.max, r = this.geometry.attributes.position, o = r.array;
                        o[0] = n.x, o[1] = n.y, o[2] = n.z, o[3] = i.x, o[4] = n.y, o[5] = n.z, o[6] = i.x, o[7] = i.y, o[8] = n.z, o[9] = n.x, o[10] = i.y, o[11] = n.z, o[12] = n.x, o[13] = n.y, o[14] = i.z, o[15] = i.x, o[16] = n.y, o[17] = i.z, o[18] = i.x, o[19] = i.y, o[20] = i.z, o[21] = n.x, o[22] = i.y, o[23] = i.z, r.needsUpdate = !0, this.geometry.computeBoundingSphere()
                    }
                }
            }(), xc.prototype.setFromObject = function (t) {
                return this.object = t, this.update(), this
            }, xc.prototype.copy = function (t) {
                return co.prototype.copy.call(this, t), this.object = t.object, this
            }, xc.prototype.clone = function () {
                return (new this.constructor).copy(this)
            }, bc.prototype = Object.create(co.prototype), bc.prototype.constructor = bc, bc.prototype.updateMatrixWorld = function (t) {
                var e = this.box;
                e.isEmpty() || (e.getCenter(this.position), e.getSize(this.scale), this.scale.multiplyScalar(.5), Ti.prototype.updateMatrixWorld.call(this, t))
            }, wc.prototype = Object.create(lo.prototype), wc.prototype.constructor = wc, wc.prototype.updateMatrixWorld = function (t) {
                var e = -this.plane.constant;
                Math.abs(e) < 1e-8 && (e = 1e-8), this.scale.set(.5 * this.size, .5 * this.size, e), this.children[0].material.side = e < 0 ? d : h, this.lookAt(this.plane.normal), Ti.prototype.updateMatrixWorld.call(this, t)
            }, Sc.prototype = Object.create(Ti.prototype), Sc.prototype.constructor = Sc, Sc.prototype.setDirection = ($l = new Pe, function (t) {
                t.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : t.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : ($l.set(t.z, 0, -t.x).normalize(), Gl = Math.acos(t.y), this.quaternion.setFromAxisAngle($l, Gl))
            }), Sc.prototype.setLength = function (t, e, i) {
                void 0 === e && (e = .2 * t), void 0 === i && (i = .2 * e), this.line.scale.set(1, Math.max(0, t - e), 1), this.line.updateMatrix(), this.cone.scale.set(i, e, i), this.cone.position.y = t, this.cone.updateMatrix()
            }, Sc.prototype.setColor = function (t) {
                this.line.material.color.copy(t), this.cone.material.color.copy(t)
            }, Sc.prototype.copy = function (t) {
                return Ti.prototype.copy.call(this, t, !1), this.line.copy(t.line), this.cone.copy(t.cone), this
            }, Sc.prototype.clone = function () {
                return (new this.constructor).copy(this)
            }, Mc.prototype = Object.create(co.prototype), Mc.prototype.constructor = Mc;
            function Tc(t) {
                ws.call(this, t), this.type = "catmullrom", this.closed = !0
            }

            function Ac(t) {
                ws.call(this, t), this.type = "catmullrom"
            }

            function Pc(t) {
                ws.call(this, t), this.type = "catmullrom"
            }

            fs.create = function (t, e) {
                return t.prototype = Object.create(fs.prototype), t.prototype.constructor = t, t.prototype.getPoint = e, t
            }, Object.assign(Ns.prototype, {
                createPointsGeometry: function (t) {
                    var e = this.getPoints(t);
                    return this.createGeometry(e)
                }, createSpacedPointsGeometry: function (t) {
                    var e = this.getSpacedPoints(t);
                    return this.createGeometry(e)
                }, createGeometry: function (t) {
                    for (var e = new Ci, i = 0, n = t.length; i < n; i++) {
                        var r = t[i];
                        e.vertices.push(new Pe(r.x, r.y, r.z || 0))
                    }
                    return e
                }
            }), Object.assign(Rs.prototype, {
                fromPoints: function (t) {
                    this.setFromPoints(t)
                }
            }), Tc.prototype = Object.create(ws.prototype), Ac.prototype = Object.create(ws.prototype), Pc.prototype = Object.create(ws.prototype), Object.assign(Pc.prototype, {
                initFromArray: function () {
                }, getControlPointsArray: function () {
                }, reparametrizeByArcLength: function () {
                }
            }), fc.prototype.setColors = function () {
            }, cc.prototype.update = function () {
            }, Object.assign(dl.prototype, {
                extractUrlBase: function (t) {
                    return Ys.extractUrlBase(t)
                }
            }), Object.assign(Ks.prototype, {
                setTexturePath: function (t) {
                    return this.setResourcePath(t)
                }
            }), Object.assign(rc.prototype, {
                center: function (t) {
                    return this.getCenter(t)
                }, empty: function () {
                    return this.isEmpty()
                }, isIntersectionBox: function (t) {
                    return this.intersectsBox(t)
                }, size: function (t) {
                    return this.getSize(t)
                }
            }), Object.assign(Ke.prototype, {
                center: function (t) {
                    return this.getCenter(t)
                }, empty: function () {
                    return this.isEmpty()
                }, isIntersectionBox: function (t) {
                    return this.intersectsBox(t)
                }, isIntersectionSphere: function (t) {
                    return this.intersectsSphere(t)
                }, size: function (t) {
                    return this.getSize(t)
                }
            }), oc.prototype.center = function (t) {
                return this.getCenter(t)
            }, Object.assign(Me, {
                random16: function () {
                    return Math.random()
                }, nearestPowerOfTwo: function (t) {
                    return Me.floorPowerOfTwo(t)
                }, nextPowerOfTwo: function (t) {
                    return Me.ceilPowerOfTwo(t)
                }
            }), Object.assign(Ee.prototype, {
                flattenToArrayOffset: function (t, e) {
                    return this.toArray(t, e)
                }, multiplyVector3: function (t) {
                    return t.applyMatrix3(this)
                }, multiplyVector3Array: function () {
                }, applyToBuffer: function (t) {
                    return this.applyToBufferAttribute(t)
                }, applyToVector3Array: function () {
                }
            }), Object.assign(ii.prototype, {
                extractPosition: function (t) {
                    return this.copyPosition(t)
                }, flattenToArrayOffset: function (t, e) {
                    return this.toArray(t, e)
                }, getPosition: function () {
                    var t;
                    return function () {
                        return void 0 === t && (t = new Pe), t.setFromMatrixColumn(this, 3)
                    }
                }(), setRotationFromQuaternion: function (t) {
                    return this.makeRotationFromQuaternion(t)
                }, multiplyToArray: function () {
                }, multiplyVector3: function (t) {
                    return t.applyMatrix4(this)
                }, multiplyVector4: function (t) {
                    return t.applyMatrix4(this)
                }, multiplyVector3Array: function () {
                }, rotateAxis: function (t) {
                    t.transformDirection(this)
                }, crossVector: function (t) {
                    return t.applyMatrix4(this)
                }, translate: function () {
                }, rotateX: function () {
                }, rotateY: function () {
                }, rotateZ: function () {
                }, rotateByAxis: function () {
                }, applyToBuffer: function (t) {
                    return this.applyToBufferAttribute(t)
                }, applyToVector3Array: function () {
                }, makeFrustum: function (t, e, i, n, r, o) {
                    return this.makePerspective(t, e, n, i, r, o)
                }
            }), ti.prototype.isIntersectionLine = function (t) {
                return this.intersectsLine(t)
            }, Ae.prototype.multiplyVector3 = function (t) {
                return t.applyQuaternion(this)
            }, Object.assign(dn.prototype, {
                isIntersectionBox: function (t) {
                    return this.intersectsBox(t)
                }, isIntersectionPlane: function (t) {
                    return this.intersectsPlane(t)
                }, isIntersectionSphere: function (t) {
                    return this.intersectsSphere(t)
                }
            }), Object.assign(pn.prototype, {
                area: function () {
                    return this.getArea()
                }, barycoordFromPoint: function (t, e) {
                    return this.getBarycoord(t, e)
                }, midpoint: function (t) {
                    return this.getMidpoint(t)
                }, normal: function (t) {
                    return this.getNormal(t)
                }, plane: function (t) {
                    return this.getPlane(t)
                }
            }), Object.assign(pn, {
                barycoordFromPoint: function (t, e, i, n, r) {
                    return pn.getBarycoord(t, e, i, n, r)
                }, normal: function (t, e, i, n) {
                    return pn.getNormal(t, e, i, n)
                }
            }), Object.assign(Ds.prototype, {
                extractAllPoints: function (t) {
                    return this.extractPoints(t)
                }, extrude: function (t) {
                    return new la(this, t)
                }, makeGeometry: function (t) {
                    return new xa(this, t)
                }
            }), Object.assign(Te.prototype, {
                fromAttribute: function (t, e, i) {
                    return this.fromBufferAttribute(t, e, i)
                }, distanceToManhattan: function (t) {
                    return this.manhattanDistanceTo(t)
                }, lengthManhattan: function () {
                    return this.manhattanLength()
                }
            }), Object.assign(Pe.prototype, {
                setEulerFromRotationMatrix: function () {
                }, setEulerFromQuaternion: function () {
                }, getPositionFromMatrix: function (t) {
                    return this.setFromMatrixPosition(t)
                }, getScaleFromMatrix: function (t) {
                    return this.setFromMatrixScale(t)
                }, getColumnFromMatrix: function (t, e) {
                    return this.setFromMatrixColumn(e, t)
                }, applyProjection: function (t) {
                    return this.applyMatrix4(t)
                }, fromAttribute: function (t, e, i) {
                    return this.fromBufferAttribute(t, e, i)
                }, distanceToManhattan: function (t) {
                    return this.manhattanDistanceTo(t)
                }, lengthManhattan: function () {
                    return this.manhattanLength()
                }
            }), Object.assign(He.prototype, {
                fromAttribute: function (t, e, i) {
                    return this.fromBufferAttribute(t, e, i)
                }, lengthManhattan: function () {
                    return this.manhattanLength()
                }
            }), Object.assign(Ci.prototype, {
                computeTangents: function () {
                }, computeLineDistances: function () {
                }
            }), Object.assign(Ti.prototype, {
                getChildByName: function (t) {
                    return this.getObjectByName(t)
                }, renderDepth: function () {
                }, translate: function (t, e) {
                    return this.translateOnAxis(e, t)
                }, getWorldRotation: function () {
                }
            }), Object.defineProperties(Ti.prototype, {
                eulerOrder: {
                    get: function () {
                        return this.rotation.order
                    }, set: function (t) {
                        this.rotation.order = t
                    }
                }, useQuaternion: {
                    get: function () {
                    }, set: function () {
                    }
                }
            }), Object.defineProperties(no.prototype, {
                objects: {
                    get: function () {
                        return this.levels
                    }
                }
            }), Object.defineProperty(oo.prototype, "useVertexTexture", {
                get: function () {
                }, set: function () {
                }
            }), ro.prototype.initBones = function () {
            }, Object.defineProperty(fs.prototype, "__arcLengthDivisions", {
                get: function () {
                    return this.arcLengthDivisions
                }, set: function (t) {
                    this.arcLengthDivisions = t
                }
            }), zr.prototype.setLens = function (t, e) {
                void 0 !== e && (this.filmGauge = e), this.setFocalLength(t)
            }, Object.defineProperties(zs.prototype, {
                onlyShadow: {
                    set: function () {
                    }
                }, shadowCameraFov: {
                    set: function (t) {
                        this.shadow.camera.fov = t
                    }
                }, shadowCameraLeft: {
                    set: function (t) {
                        this.shadow.camera.left = t
                    }
                }, shadowCameraRight: {
                    set: function (t) {
                        this.shadow.camera.right = t
                    }
                }, shadowCameraTop: {
                    set: function (t) {
                        this.shadow.camera.top = t
                    }
                }, shadowCameraBottom: {
                    set: function (t) {
                        this.shadow.camera.bottom = t
                    }
                }, shadowCameraNear: {
                    set: function (t) {
                        this.shadow.camera.near = t
                    }
                }, shadowCameraFar: {
                    set: function (t) {
                        this.shadow.camera.far = t
                    }
                }, shadowCameraVisible: {
                    set: function () {
                    }
                }, shadowBias: {
                    set: function (t) {
                        this.shadow.bias = t
                    }
                }, shadowDarkness: {
                    set: function () {
                    }
                }, shadowMapWidth: {
                    set: function (t) {
                        this.shadow.mapSize.width = t
                    }
                }, shadowMapHeight: {
                    set: function (t) {
                        this.shadow.mapSize.height = t
                    }
                }
            }), Object.defineProperties(Oi.prototype, {
                length: {
                    get: function () {
                        return this.array.length
                    }
                }, copyIndicesArray: function () {
                }
            }), Object.assign($i.prototype, {
                addIndex: function (t) {
                    this.setIndex(t)
                }, addDrawCall: function (t, e, i) {
                    this.addGroup(t, e)
                }, clearDrawCalls: function () {
                    this.clearGroups()
                }, computeTangents: function () {
                }, computeOffsets: function () {
                }
            }), Object.defineProperties($i.prototype, {
                drawcalls: {
                    get: function () {
                        return this.groups
                    }
                }, offsets: {
                    get: function () {
                        return this.groups
                    }
                }
            }), Object.assign(ca.prototype, {
                getArrays: function () {
                }, addShapeList: function () {
                }, addShape: function () {
                }
            }), Object.defineProperties(Yl.prototype, {
                dynamic: {
                    set: function () {
                    }
                }, onUpdate: {
                    value: function () {
                        return this
                    }
                }
            }), Object.defineProperties(Yi.prototype, {
                wrapAround: {
                    get: function () {
                    }, set: function () {
                    }
                }, overdraw: {
                    get: function () {
                    }, set: function () {
                    }
                }, wrapRGB: {
                    get: function () {
                        return new hi
                    }
                }, shading: {
                    get: function () {
                    }, set: function (t) {
                        this.flatShading = 1 === t
                    }
                }
            }), Object.defineProperties(Ra.prototype, {
                metal: {
                    get: function () {
                        return !1
                    }, set: function () {
                    }
                }
            }), Object.defineProperties(hn.prototype, {
                derivatives: {
                    get: function () {
                        return this.extensions.derivatives
                    }, set: function (t) {
                        this.extensions.derivatives = t
                    }
                }
            }), Object.assign(Yr.prototype, {
                clearTarget: function (t, e, i, n) {
                    this.setRenderTarget(t), this.clear(e, i, n)
                }, animate: function (t) {
                    this.setAnimationLoop(t)
                }, getCurrentRenderTarget: function () {
                    return this.getRenderTarget()
                }, getMaxAnisotropy: function () {
                    return this.capabilities.getMaxAnisotropy()
                }, getPrecision: function () {
                    return this.capabilities.precision
                }, resetGLState: function () {
                    return this.state.reset()
                }, supportsFloatTextures: function () {
                    return this.extensions.get("OES_texture_float")
                }, supportsHalfFloatTextures: function () {
                    return this.extensions.get("OES_texture_half_float")
                }, supportsStandardDerivatives: function () {
                    return this.extensions.get("OES_standard_derivatives")
                }, supportsCompressedTextureS3TC: function () {
                    return this.extensions.get("WEBGL_compressed_texture_s3tc")
                }, supportsCompressedTexturePVRTC: function () {
                    return this.extensions.get("WEBGL_compressed_texture_pvrtc")
                }, supportsBlendMinMax: function () {
                    return this.extensions.get("EXT_blend_minmax")
                }, supportsVertexTextures: function () {
                    return this.capabilities.vertexTextures
                }, supportsInstancedArrays: function () {
                    return this.extensions.get("ANGLE_instanced_arrays")
                }, enableScissorTest: function (t) {
                    this.setScissorTest(t)
                }, initMaterial: function () {
                }, addPrePlugin: function () {
                }, addPostPlugin: function () {
                }, updateShadowMap: function () {
                }, setFaceCulling: function () {
                }, allocTextureUnit: function () {
                }, setTexture: function () {
                }, setTexture2D: function () {
                }, setTextureCube: function () {
                }
            }), Object.defineProperties(Yr.prototype, {
                shadowMapEnabled: {
                    get: function () {
                        return this.shadowMap.enabled
                    }, set: function (t) {
                        this.shadowMap.enabled = t
                    }
                }, shadowMapType: {
                    get: function () {
                        return this.shadowMap.type
                    }, set: function (t) {
                        this.shadowMap.type = t
                    }
                }, shadowMapCullFace: {
                    get: function () {
                    }, set: function () {
                    }
                }
            }), Object.defineProperties(kr.prototype, {
                cullFace: {
                    get: function () {
                    }, set: function () {
                    }
                }, renderReverseSided: {
                    get: function () {
                    }, set: function () {
                    }
                }, renderSingleSided: {
                    get: function () {
                    }, set: function () {
                    }
                }
            }), Object.defineProperties(Je.prototype, {
                activeCubeFace: {
                    set: function () {
                    }
                }, activeMipMapLevel: {
                    set: function () {
                    }
                }
            }), Object.defineProperties(Xe.prototype, {
                wrapS: {
                    get: function () {
                        return this.texture.wrapS
                    }, set: function (t) {
                        this.texture.wrapS = t
                    }
                }, wrapT: {
                    get: function () {
                        return this.texture.wrapT
                    }, set: function (t) {
                        this.texture.wrapT = t
                    }
                }, magFilter: {
                    get: function () {
                        return this.texture.magFilter
                    }, set: function (t) {
                        this.texture.magFilter = t
                    }
                }, minFilter: {
                    get: function () {
                        return this.texture.minFilter
                    }, set: function (t) {
                        this.texture.minFilter = t
                    }
                }, anisotropy: {
                    get: function () {
                        return this.texture.anisotropy
                    }, set: function (t) {
                        this.texture.anisotropy = t
                    }
                }, offset: {
                    get: function () {
                        return this.texture.offset
                    }, set: function (t) {
                        this.texture.offset = t
                    }
                }, repeat: {
                    get: function () {
                        return this.texture.repeat
                    }, set: function (t) {
                        this.texture.repeat = t
                    }
                }, format: {
                    get: function () {
                        return this.texture.format
                    }, set: function (t) {
                        this.texture.format = t
                    }
                }, type: {
                    get: function () {
                        return this.texture.type
                    }, set: function (t) {
                        this.texture.type = t
                    }
                }, generateMipmaps: {
                    get: function () {
                        return this.texture.generateMipmaps
                    }, set: function (t) {
                        this.texture.generateMipmaps = t
                    }
                }
            }), Object.defineProperties(qr.prototype, {
                standing: {
                    set: function () {
                    }
                }, userHeight: {
                    set: function () {
                    }
                }
            }), Tl.prototype.load = function (t) {
                var e = this;
                return (new fl).load(t, function (t) {
                    e.setBuffer(t)
                }), this
            }, Pl.prototype.getData = function () {
                return this.getFrequencyData()
            }, wl.prototype.updateCubeMap = function (t, e) {
                return this.update(t, e)
            };
            var Ec = {
                merge: function (t, e, i) {
                    var n;
                    e.isMesh && (e.matrixAutoUpdate && e.updateMatrix(), n = e.matrix, e = e.geometry), t.merge(e, n, i)
                }, center: function (t) {
                    return t.center()
                }
            };
            $e.crossOrigin = void 0, $e.loadTexture = function (t, e, i, n) {
                var r = new ps;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(t, i, void 0, n);
                return e && (o.mapping = e), o
            }, $e.loadTextureCube = function (t, e, i, n) {
                var r = new ds;
                r.setCrossOrigin(this.crossOrigin);
                var o = r.load(t, i, void 0, n);
                return e && (o.mapping = e), o
            }, $e.loadCompressedTexture = function () {
            }, $e.loadCompressedTextureCube = function () {
            };
            var Cc = {
                createMultiMaterialObject: function () {
                }, detach: function () {
                }, attach: function () {
                }
            };
            t.ACESFilmicToneMapping = et, t.AddEquation = S, t.AddOperation = Y, t.AdditiveBlending = _, t.AlphaFormat = Ot, t.AlwaysDepth = B, t.AmbientLight = Hs, t.AmbientLightProbe = yl, t.AnimationClip = es, t.AnimationLoader = ls, t.AnimationMixer = ql, t.AnimationObjectGroup = Hl, t.AnimationUtils = Ga, t.ArcCurve = gs, t.ArrayCamera = jr, t.ArrowHelper = Sc, t.Audio = Tl, t.AudioAnalyser = Pl, t.AudioContext = pl, t.AudioListener = Ml, t.AudioLoader = fl, t.AxesHelper = Mc, t.AxisHelper = function (t) {
                return new Mc(t)
            }, t.BackSide = d, t.BasicDepthPacking = xe, t.BasicShadowMap = 0, t.BinaryTextureLoader = function (t) {
                return new us(t)
            }, t.Bone = ao, t.BooleanKeyframeTrack = qa, t.BoundingBoxHelper = function (t, e) {
                return new xc(t, e)
            }, t.Box2 = rc, t.Box3 = Ke, t.Box3Helper = bc, t.BoxBufferGeometry = Wi, t.BoxGeometry = Vi, t.BoxHelper = xc, t.BufferAttribute = Oi, t.BufferGeometry = $i, t.BufferGeometryLoader = Js, t.ByteType = _t, t.Cache = ns, t.Camera = Dr, t.CameraHelper = _c, t.CanvasRenderer = function () {
            }, t.CanvasTexture = go, t.CatmullRomCurve3 = ws, t.CineonToneMapping = tt, t.CircleBufferGeometry = Ca, t.CircleGeometry = Ea, t.ClampToEdgeWrapping = ut, t.Clock = Sl, t.ClosedSplineCurve3 = Tc, t.Color = hi, t.ColorKeyframeTrack = Ya, t.CompressedTexture = mo, t.CompressedTextureLoader = cs, t.ConeBufferGeometry = Pa, t.ConeGeometry = Aa, t.CubeCamera = wl, t.CubeGeometry = Vi, t.CubeReflectionMapping = it, t.CubeRefractionMapping = nt, t.CubeTexture = _n, t.CubeTextureLoader = ds, t.CubeUVReflectionMapping = st, t.CubeUVRefractionMapping = lt, t.CubicBezierCurve = As, t.CubicBezierCurve3 = Ps, t.CubicInterpolant = Va, t.CullFaceBack = s, t.CullFaceFront = l, t.CullFaceFrontBack = 3, t.CullFaceNone = a, t.Curve = fs, t.CurvePath = Ns, t.CustomBlending = w, t.CylinderBufferGeometry = Ta, t.CylinderGeometry = Ma, t.Cylindrical = nc, t.DataTexture = Ze, t.DataTexture2DArray = xn, t.DataTexture3D = bn, t.DataTextureLoader = us, t.DefaultLoadingManager = os, t.DepthFormat = Dt, t.DepthStencilFormat = zt, t.DepthTexture = vo, t.DirectionalLight = Ws, t.DirectionalLightHelper = yc, t.DirectionalLightShadow = Vs, t.DiscreteInterpolant = Ha, t.DodecahedronBufferGeometry = Oo, t.DodecahedronGeometry = Co, t.DoubleSide = p, t.DstAlphaFactor = N, t.DstColorFactor = D, t.DynamicBufferAttribute = function (t, e) {
                return new Oi(t, e).setDynamic(!0)
            }, t.EdgesGeometry = Sa, t.EdgesHelper = function (t, e) {
                return new co(new Sa(t.geometry), new so({color: void 0 !== e ? e : 16777215}))
            }, t.EllipseCurve = ms, t.EqualDepth = $,t.EquirectangularReflectionMapping = rt,t.EquirectangularRefractionMapping = ot,t.Euler = yi,t.EventDispatcher = e,t.ExtrudeBufferGeometry = ca,t.ExtrudeGeometry = la,t.Face3 = vi,t.Face4 = function (t, e, i, n, r, o, a) {
                return new vi(t, e, i, r, o, a)
            },t.FaceColors = m,t.FaceNormalsHelper = vc,t.FileLoader = ss,t.FlatShading = 1,t.Float32Attribute = function (t, e) {
                return new ji(t, e)
            },t.Float32BufferAttribute = ji,t.Float64Attribute = function (t, e) {
                return new Fi(t, e)
            },t.Float64BufferAttribute = Fi,t.FloatType = Mt,t.Fog = Zr,t.FogExp2 = Jr,t.Font = cl,t.FontLoader = hl,t.FrontFaceDirectionCCW = 1,t.FrontFaceDirectionCW = 0,t.FrontSide = h,t.Frustum = ei,t.GammaEncoding = me,t.Geometry = Ci,t.GeometryUtils = Ec,t.GreaterDepth = W,t.GreaterEqualDepth = V,t.GridHelper = fc,t.Group = Rr,t.HalfFloatType = Tt,t.HemisphereLight = js,t.HemisphereLightHelper = dc,t.HemisphereLightProbe = vl,t.IcosahedronBufferGeometry = Eo,t.IcosahedronGeometry = Po,t.ImageBitmapLoader = sl,t.ImageLoader = hs,t.ImageUtils = $e,t.ImmediateRenderObject = ac,t.InstancedBufferAttribute = Kl,t.InstancedBufferGeometry = Jl,t.InstancedInterleavedBuffer = Zl,t.Int16Attribute = function (t, e) {
                return new Ni(t, e)
            },t.Int16BufferAttribute = Ni,t.Int32Attribute = function (t, e) {
                return new Di(t, e)
            },t.Int32BufferAttribute = Di,t.Int8Attribute = function (t, e) {
                return new Li(t, e)
            },t.Int8BufferAttribute = Li,t.IntType = wt,t.InterleavedBuffer = Qr,t.InterleavedBufferAttribute = to,t.Interpolant = $a,t.InterpolateDiscrete = 2300,t.InterpolateLinear = 2301,t.InterpolateSmooth = 2302,t.JSONLoader = function () {
            },t.KeyframeTrack = Xa,t.LOD = no,t.LatheBufferGeometry = _a,t.LatheGeometry = ya,t.Layers = _i,t.LensFlare = function () {
            },t.LessDepth = U,t.LessEqualDepth = G,t.Light = zs,t.LightProbe = gl,t.LightProbeHelper = pc,t.LightShadow = Fs,t.Line = lo,t.Line3 = oc,t.LineBasicMaterial = so,t.LineCurve = Es,t.LineCurve3 = Cs,t.LineDashedMaterial = Ba,t.LineLoop = uo,t.LinePieces = 1,t.LineSegments = co,t.LineStrip = 0,t.LinearEncoding = pe,t.LinearFilter = mt,t.LinearInterpolant = Wa,t.LinearMipMapLinearFilter = vt,t.LinearMipMapNearestFilter = gt,t.LinearToneMapping = Z,t.Loader = dl,t.LoaderUtils = Ys,t.LoadingManager = rs,t.LogLuvEncoding = 3003,t.LoopOnce = 2200,t.LoopPingPong = 2202,t.LoopRepeat = le,t.LuminanceAlphaFormat = Nt,t.LuminanceFormat = It,t.MOUSE = {
                LEFT: 0,
                MIDDLE: 1,
                RIGHT: 2
            },t.Material = Yi,t.MaterialLoader = qs,t.Math = Me,t.Matrix3 = Ee,t.Matrix4 = ii,t.MaxEquation = P,t.Mesh = mn,t.MeshBasicMaterial = fn,t.MeshDepthMaterial = Or,t.MeshDistanceMaterial = Lr,t.MeshFaceMaterial = function (t) {
                return t
            },t.MeshLambertMaterial = ja,t.MeshMatcapMaterial = Fa,t.MeshNormalMaterial = za,t.MeshPhongMaterial = Ra,t.MeshPhysicalMaterial = Na,t.MeshStandardMaterial = Ia,t.MeshToonMaterial = Da,t.MinEquation = A,t.MirroredRepeatWrapping = ht,t.MixOperation = q,t.MultiMaterial = function (t) {
                return void 0 === t && (t = []), t.isMultiMaterial = !0, t.materials = t, t.clone = function () {
                    return t.slice()
                }, t
            },t.MultiplyBlending = b,t.MultiplyOperation = X,t.NearestFilter = dt,t.NearestMipMapLinearFilter = ft,t.NearestMipMapNearestFilter = pt,t.NeverDepth = F,t.NoBlending = v,t.NoColors = f,t.NoToneMapping = J,t.NormalBlending = y,t.NotEqualDepth = H,t.NumberKeyframeTrack = Ja,t.Object3D = Ti,t.ObjectLoader = Ks,t.ObjectSpaceNormalMap = Se,t.OctahedronBufferGeometry = Ao,t.OctahedronGeometry = To,t.OneFactor = C,t.OneMinusDstAlphaFactor = R,t.OneMinusDstColorFactor = z,t.OneMinusSrcAlphaFactor = I,t.OneMinusSrcColorFactor = L,t.OrthographicCamera = $s,t.PCFShadowMap = c,t.PCFSoftShadowMap = u,t.ParametricBufferGeometry = xo,t.ParametricGeometry = _o,t.Particle = function (t) {
                return new io(t)
            },t.ParticleBasicMaterial = function (t) {
                return new ho(t)
            },t.ParticleSystem = function (t, e) {
                return new po(t, e)
            },t.ParticleSystemMaterial = function (t) {
                return new ho(t)
            },t.Path = Rs,t.PerspectiveCamera = zr,t.Plane = ti,t.PlaneBufferGeometry = Xi,t.PlaneGeometry = Hi,t.PlaneHelper = wc,t.PointCloud = function (t, e) {
                return new po(t, e)
            },t.PointCloudMaterial = function (t) {
                return new ho(t)
            },t.PointLight = Gs,t.PointLightHelper = uc,t.Points = po,t.PointsMaterial = ho,t.PolarGridHelper = mc,t.PolyhedronBufferGeometry = wo,t.PolyhedronGeometry = bo,t.PositionalAudio = Al,t.PositionalAudioHelper = gc,t.Projector = function () {
                this.projectVector = function (t, e) {
                    t.project(e)
                }, this.unprojectVector = function (t, e) {
                    t.unproject(e)
                }, this.pickingRay = function () {
                }
            },t.PropertyBinding = Wl,t.PropertyMixer = El,t.QuadraticBezierCurve = Os,t.QuadraticBezierCurve3 = Ls,t.Quaternion = Ae,t.QuaternionKeyframeTrack = Ka,t.QuaternionLinearInterpolant = Za,t.REVISION = o,t.RGBADepthPacking = be,t.RGBAFormat = kt,t.RGBA_ASTC_10x10_Format = oe,t.RGBA_ASTC_10x5_Format = ie,t.RGBA_ASTC_10x6_Format = ne,t.RGBA_ASTC_10x8_Format = re,t.RGBA_ASTC_12x10_Format = ae,t.RGBA_ASTC_12x12_Format = se,t.RGBA_ASTC_4x4_Format = qt,t.RGBA_ASTC_5x4_Format = Yt,t.RGBA_ASTC_5x5_Format = Jt,t.RGBA_ASTC_6x5_Format = Zt,t.RGBA_ASTC_6x6_Format = Kt,t.RGBA_ASTC_8x5_Format = Qt,t.RGBA_ASTC_8x6_Format = te,t.RGBA_ASTC_8x8_Format = ee,t.RGBA_PVRTC_2BPPV1_Format = Ht,t.RGBA_PVRTC_4BPPV1_Format = Wt,t.RGBA_S3TC_DXT1_Format = Bt,t.RGBA_S3TC_DXT3_Format = Ut,t.RGBA_S3TC_DXT5_Format = Gt,t.RGBDEncoding = _e,t.RGBEEncoding = ge,t.RGBEFormat = Rt,t.RGBFormat = Lt,t.RGBM16Encoding = ye,t.RGBM7Encoding = ve,t.RGB_ETC1_Format = Xt,t.RGB_PVRTC_2BPPV1_Format = Vt,t.RGB_PVRTC_4BPPV1_Format = $t,t.RGB_S3TC_DXT1_Format = Ft,t.RawShaderMaterial = ka,t.Ray = dn,t.Raycaster = Ql,t.RectAreaLight = Xs,t.RectAreaLightHelper = hc,t.RedFormat = jt,t.ReinhardToneMapping = K,t.RepeatWrapping = ct,t.ReverseSubtractEquation = T,t.RingBufferGeometry = va,t.RingGeometry = ga,t.Scene = Kr,t.SceneUtils = Cc,t.ShaderChunk = ni,t.ShaderLib = fi,t.ShaderMaterial = hn,t.ShadowMaterial = La,t.Shape = Ds,t.ShapeBufferGeometry = ba,t.ShapeGeometry = xa,t.ShapePath = ll,t.ShapeUtils = oa,t.ShortType = xt,t.Skeleton = oo,t.SkeletonHelper = cc,t.SkinnedMesh = ro,t.SmoothShading = 2,t.Sphere = Qe,t.SphereBufferGeometry = ma,t.SphereGeometry = fa,t.Spherical = ic,t.SphericalHarmonics3 = ml,t.SphericalReflectionMapping = at,t.Spline = Pc,t.SplineCurve = ks,t.SplineCurve3 = Ac,t.SpotLight = Us,t.SpotLightHelper = lc,t.SpotLightShadow = Bs,t.Sprite = io,t.SpriteMaterial = eo,t.SrcAlphaFactor = k,t.SrcAlphaSaturateFactor = j,t.SrcColorFactor = O,t.StereoCamera = _l,t.StringKeyframeTrack = Qa,t.SubtractEquation = M,t.SubtractiveBlending = x,t.TangentSpaceNormalMap = we,t.TetrahedronBufferGeometry = Mo,t.TetrahedronGeometry = So,t.TextBufferGeometry = pa,t.TextGeometry = da,t.Texture = We,t.TextureLoader = ps,t.TorusBufferGeometry = Do,t.TorusGeometry = Ro,t.TorusKnotBufferGeometry = No,t.TorusKnotGeometry = Io,t.Triangle = pn,t.TriangleFanDrawMode = de,t.TriangleStripDrawMode = he,t.TrianglesDrawMode = ue,t.TubeBufferGeometry = ko,t.TubeGeometry = Lo,t.UVMapping = 300,t.Uint16Attribute = function (t, e) {
                return new Ri(t, e)
            },t.Uint16BufferAttribute = Ri,t.Uint32Attribute = function (t, e) {
                return new zi(t, e)
            },t.Uint32BufferAttribute = zi,t.Uint8Attribute = function (t, e) {
                return new ki(t, e)
            },t.Uint8BufferAttribute = ki,t.Uint8ClampedAttribute = function (t, e) {
                return new Ii(t, e)
            },t.Uint8ClampedBufferAttribute = Ii,t.Uncharted2ToneMapping = Q,t.Uniform = Yl,t.UniformsLib = pi,t.UniformsUtils = ci,t.UnsignedByteType = yt,t.UnsignedInt248Type = Ct,t.UnsignedIntType = St,t.UnsignedShort4444Type = At,t.UnsignedShort5551Type = Pt,t.UnsignedShort565Type = Et,t.UnsignedShortType = bt,t.Vector2 = Te,t.Vector3 = Pe,t.Vector4 = He,t.VectorKeyframeTrack = ts,t.Vertex = function (t, e, i) {
                return new Pe(t, e, i)
            },t.VertexColors = g,t.VertexNormalsHelper = sc,t.VideoTexture = fo,t.WebGLMultiRenderTarget = qe,t.WebGLMultisampleRenderTarget = Ye,t.WebGLRenderTarget = Xe,t.WebGLRenderTargetCube = Je,t.WebGLRenderer = Yr,t.WebGLUtils = Nr,t.WireframeGeometry = yo,t.WireframeHelper = function (t, e) {
                return new co(new yo(t.geometry), new so({color: void 0 !== e ? e : 16777215}))
            },t.WrapAroundEnding = 2402,t.XHRLoader = function (t) {
                return new ss(t)
            },t.ZeroCurvatureEnding = ce,t.ZeroFactor = E,t.ZeroSlopeEnding = 2401,t.sRGBEncoding = fe,Object.defineProperty(t, "__esModule", {value: !0})
        }, "object" == typeof i && void 0 !== e ? r(i) : "function" == typeof define && define.amd ? define(["exports"], r) : r((n = n || self).THREE = {})
    }, {}],
    217: [function (t, e, i) {
        var n = {tv: "tv", tablet: "tablet", phone: "phone", desktop: "desktop", bot: "bot"};
        e.exports = function (t, e) {
            return e = e || {}, t && "" !== t ? t.match(/GoogleTV|SmartTV|Internet TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/i) ? n.tv : t.match(/Xbox|PLAYSTATION 3|Wii/i) ? n.tv : t.match(/iP(a|ro)d/i) || t.match(/tablet/i) && !t.match(/RX-34/i) || t.match(/FOLIO/i) ? n.tablet : t.match(/Linux/i) && t.match(/Android/i) && !t.match(/Fennec|mobi|HTC Magic|HTCX06HT|Nexus One|SC-02B|fone 945/i) ? n.tablet : t.match(/Kindle/i) || t.match(/Mac OS/i) && t.match(/Silk/i) ? n.tablet : t.match(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC( Flyer|_Flyer)|Sprint ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos S7|Dell Streak 7|Advent Vega|A101IT|A70BHT|MID7015|Next2|nook/i) || t.match(/MB511/i) && t.match(/RUTEM/i) ? n.tablet : t.match(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google Wireless Transcoder/i) ? n.phone : t.match(/Opera/i) && t.match(/Windows NT 5/i) && t.match(/HTC|Xda|Mini|Vario|SAMSUNG\-GT\-i8000|SAMSUNG\-SGH\-i9/i) ? n.phone : t.match(/Windows (NT|XP|ME|9)/) && !t.match(/Phone/i) && !t.match(/Bot|Spider|ia_archiver|NewsGator/i) || t.match(/Win( ?9|NT)/i) ? n.desktop : t.match(/Macintosh|PowerPC/i) && !t.match(/Silk/i) ? n.desktop : t.match(/Linux/i) && t.match(/X11/i) && !t.match(/Charlotte/i) ? n.desktop : t.match(/CrOS/) ? n.desktop : t.match(/Solaris|SunOS|BSD/i) ? n.desktop : t.match(/curl|Bot|B-O-T|Crawler|Spider|Spyder|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|Charlotte|NewsGator|TinEye|Cerberian|SearchSight|Zao|Scrubby|Qseero|PycURL|Pompos|oegp|SBIder|yoogliFetchAgent|yacy|webcollage|VYU2|voyager|updated|truwoGPS|StackRambler|Sqworm|silk|semanticdiscovery|ScoutJet|Nymesis|NetResearchServer|MVAClient|mogimogi|Mnogosearch|Arachmo|Accoona|holmes|htdig|ichiro|webis|LinkWalker|lwp-trivial/i) && !t.match(/mobile|Playstation/i) ? e.botUserAgentDeviceType || n.bot : e.unknownUserAgentDeviceType || n.phone : e.emptyUserAgentDeviceType || n.desktop
        }, e.exports.devices = n, e.exports.defaultOptions = {
            emptyUserAgentDeviceType: "desktop",
            unknownUserAgentDeviceType: "phone",
            botUserAgentDeviceType: "bot"
        }
    }, {}],
    218: [function (t, e, i) {
        !function (t, n) {
            "use strict";
            var r = "model", o = "name", a = "type", s = "vendor", l = "version", c = "mobile", u = "tablet", h = {
                extend: function (t, e) {
                    var i = {};
                    for (var n in t)e[n] && e[n].length % 2 == 0 ? i[n] = e[n].concat(t[n]) : i[n] = t[n];
                    return i
                }, has: function (t, e) {
                    return "string" == typeof t && -1 !== e.toLowerCase().indexOf(t.toLowerCase())
                }, lowerize: function (t) {
                    return t.toLowerCase()
                }, major: function (t) {
                    return "string" == typeof t ? t.replace(/[^\d\.]/g, "").split(".")[0] : void 0
                }, trim: function (t) {
                    return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
                }
            }, d = {
                rgx: function () {
                    for (var t, e, i, n, r, o, a, s = 0, l = arguments; s < l.length && !o;) {
                        var c = l[s], u = l[s + 1];
                        if (void 0 === t)for (n in t = {}, u)u.hasOwnProperty(n) && ("object" == typeof(r = u[n]) ? t[r[0]] = void 0 : t[r] = void 0);
                        for (e = i = 0; e < c.length && !o;)if (o = c[e++].exec(this.getUA()))for (n = 0; n < u.length; n++)a = o[++i], "object" == typeof(r = u[n]) && r.length > 0 ? 2 == r.length ? "function" == typeof r[1] ? t[r[0]] = r[1].call(this, a) : t[r[0]] = r[1] : 3 == r.length ? "function" != typeof r[1] || r[1].exec && r[1].test ? t[r[0]] = a ? a.replace(r[1], r[2]) : void 0 : t[r[0]] = a ? r[1].call(this, a, r[2]) : void 0 : 4 == r.length && (t[r[0]] = a ? r[3].call(this, a.replace(r[1], r[2])) : void 0) : t[r] = a || void 0;
                        s += 2
                    }
                    return t
                }, str: function (t, e) {
                    for (var i in e)if ("object" == typeof e[i] && e[i].length > 0) {
                        for (var n = 0; n < e[i].length; n++)if (h.has(e[i][n], t))return "?" === i ? void 0 : i
                    } else if (h.has(e[i], t))return "?" === i ? void 0 : i;
                    return t
                }
            }, p = {
                browser: {
                    oldsafari: {
                        version: {
                            "1.0": "/8",
                            1.2: "/1",
                            1.3: "/3",
                            "2.0": "/412",
                            "2.0.2": "/416",
                            "2.0.3": "/417",
                            "2.0.4": "/419",
                            "?": "/"
                        }
                    }
                },
                device: {
                    amazon: {model: {"Fire Phone": ["SD", "KF"]}},
                    sprint: {model: {"Evo Shift 4G": "7373KT"}, vendor: {HTC: "APA", Sprint: "Sprint"}}
                },
                os: {
                    windows: {
                        version: {
                            ME: "4.90",
                            "NT 3.11": "NT3.51",
                            "NT 4.0": "NT4.0",
                            2000: "NT 5.0",
                            XP: ["NT 5.1", "NT 5.2"],
                            Vista: "NT 6.0",
                            7: "NT 6.1",
                            8: "NT 6.2",
                            8.1: "NT 6.3",
                            10: ["NT 6.4", "NT 10.0"],
                            RT: "ARM"
                        }
                    }
                }
            }, f = {
                browser: [[/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i], [o, l], [/(opios)[\/\s]+([\w\.]+)/i], [[o, "Opera Mini"], l], [/\s(opr)\/([\w\.]+)/i], [[o, "Opera"], l], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]+)*/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i], [o, l], [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i], [[o, "IE"], l], [/(edge)\/((\d+)?[\w\.]+)/i], [o, l], [/(yabrowser)\/([\w\.]+)/i], [[o, "Yandex"], l], [/(comodo_dragon)\/([\w\.]+)/i], [[o, /_/g, " "], l], [/(micromessenger)\/([\w\.]+)/i], [[o, "WeChat"], l], [/xiaomi\/miuibrowser\/([\w\.]+)/i], [l, [o, "MIUI Browser"]], [/\swv\).+(chrome)\/([\w\.]+)/i], [[o, /(.+)/, "$1 WebView"], l], [/android.+samsungbrowser\/([\w\.]+)/i, /android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i], [l, [o, "Android Browser"]], [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i, /(qqbrowser)[\/\s]?([\w\.]+)/i], [o, l], [/(uc\s?browser)[\/\s]?([\w\.]+)/i, /ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i, /juc.+(ucweb)[\/\s]?([\w\.]+)/i], [[o, "UCBrowser"], l], [/(dolfin)\/([\w\.]+)/i], [[o, "Dolphin"], l], [/((?:android.+)crmo|crios)\/([\w\.]+)/i], [[o, "Chrome"], l], [/;fbav\/([\w\.]+);/i], [l, [o, "Facebook"]], [/fxios\/([\w\.-]+)/i], [l, [o, "Firefox"]], [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i], [l, [o, "Mobile Safari"]], [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i], [l, o], [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i], [o, [l, d.str, p.browser.oldsafari.version]], [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i], [o, l], [/(navigator|netscape)\/([\w\.-]+)/i], [[o, "Netscape"], l], [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]+)*/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i], [o, l]],
                cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i], [["architecture", "amd64"]], [/(ia32(?=;))/i], [["architecture", h.lowerize]], [/((?:i[346]|x)86)[;\)]/i], [["architecture", "ia32"]], [/windows\s(ce|mobile);\sppc;/i], [["architecture", "arm"]], [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i], [["architecture", /ower/, "", h.lowerize]], [/(sun4\w)[;\)]/i], [["architecture", "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i], [["architecture", h.lowerize]]],
                device: [[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i], [r, s, [a, u]], [/applecoremedia\/[\w\.]+ \((ipad)/], [r, [s, "Apple"], [a, u]], [/(apple\s{0,1}tv)/i], [[r, "Apple TV"], [s, "Apple"]], [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(hp).+(tablet)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i], [s, r, [a, u]], [/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i], [r, [s, "Amazon"], [a, u]], [/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i], [[r, d.str, p.device.amazon.model], [s, "Amazon"], [a, c]], [/\((ip[honed|\s\w*]+);.+(apple)/i], [r, s, [a, c]], [/\((ip[honed|\s\w*]+);/i], [r, [s, "Apple"], [a, c]], [/(blackberry)[\s-]?(\w+)/i, /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i], [s, r, [a, c]], [/\(bb10;\s(\w+)/i], [r, [s, "BlackBerry"], [a, c]], [/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i], [r, [s, "Asus"], [a, u]], [/(sony)\s(tablet\s[ps])\sbuild\//i, /(sony)?(?:sgp.+)\sbuild\//i], [[s, "Sony"], [r, "Xperia Tablet"], [a, u]], [/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i], [[s, "Sony"], [r, "Xperia Phone"], [a, c]], [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i], [s, r, [a, "console"]], [/android.+;\s(shield)\sbuild/i], [r, [s, "Nvidia"], [a, "console"]], [/(playstation\s[34portablevi]+)/i], [r, [s, "Sony"], [a, "console"]], [/(sprint\s(\w+))/i], [[s, d.str, p.device.sprint.vendor], [r, d.str, p.device.sprint.model], [a, c]], [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i], [s, r, [a, u]], [/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i, /(zte)-(\w+)*/i, /(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i], [s, [r, /_/g, " "], [a, c]], [/(nexus\s9)/i], [r, [s, "HTC"], [a, u]], [/(nexus\s6p)/i], [r, [s, "Huawei"], [a, c]], [/(microsoft);\s(lumia[\s\w]+)/i], [s, r, [a, c]], [/[\s\(;](xbox(?:\sone)?)[\s\);]/i], [r, [s, "Microsoft"], [a, "console"]], [/(kin\.[onetw]{3})/i], [[r, /\./g, " "], [s, "Microsoft"], [a, c]], [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i, /mot[\s-]?(\w+)*/i, /(XT\d{3,4}) build\//i, /(nexus\s6)/i], [r, [s, "Motorola"], [a, c]], [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i], [r, [s, "Motorola"], [a, u]], [/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i], [[s, h.trim], [r, h.trim], [a, "smarttv"]], [/hbbtv.+maple;(\d+)/i], [[r, /^/, "SmartTV"], [s, "Samsung"], [a, "smarttv"]], [/\(dtv[\);].+(aquos)/i], [r, [s, "Sharp"], [a, "smarttv"]], [/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\w+))/i], [[s, "Samsung"], r, [a, u]], [/smart-tv.+(samsung)/i], [s, [a, "smarttv"], r], [/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i, /(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i, /sec-((sgh\w+))/i], [[s, "Samsung"], r, [a, c]], [/sie-(\w+)*/i], [r, [s, "Siemens"], [a, c]], [/(maemo|nokia).*(n900|lumia\s\d+)/i, /(nokia)[\s_-]?([\w-]+)*/i], [[s, "Nokia"], r, [a, c]], [/android\s3\.[\s\w;-]{10}(a\d{3})/i], [r, [s, "Acer"], [a, u]], [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i], [[s, "LG"], r, [a, u]], [/(lg) netcast\.tv/i], [s, r, [a, "smarttv"]], [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w+)*/i], [r, [s, "LG"], [a, c]], [/android.+(ideatab[a-z0-9\-\s]+)/i], [r, [s, "Lenovo"], [a, u]], [/linux;.+((jolla));/i], [s, r, [a, c]], [/((pebble))app\/[\d\.]+\s/i], [s, r, [a, "wearable"]], [/android.+;\s(glass)\s\d/i], [r, [s, "Google"], [a, "wearable"]], [/android.+(\w+)\s+build\/hm\1/i, /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i, /android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i], [[r, /_/g, " "], [s, "Xiaomi"], [a, c]], [/android.+a000(1)\s+build/i], [r, [s, "OnePlus"], [a, c]], [/\s(tablet)[;\/]/i, /\s(mobile)(?:[;\/]|\ssafari)/i], [[a, h.lowerize], s, r]],
                engine: [[/windows.+\sedge\/([\w\.]+)/i], [l, [o, "EdgeHTML"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i], [o, l], [/rv\:([\w\.]+).*(gecko)/i], [l, o]],
                os: [[/microsoft\s(windows)\s(vista|xp)/i], [o, l], [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i, /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i], [o, [l, d.str, p.os.windows.version]], [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i], [[o, "Windows"], [l, d.str, p.os.windows.version]], [/\((bb)(10);/i], [[o, "BlackBerry"], l], [/(blackberry)\w*\/?([\w\.]+)*/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i, /linux;.+(sailfish);/i], [o, l], [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i], [[o, "Symbian"], l], [/\((series40);/i], [o], [/mozilla.+\(mobile;.+gecko.+firefox/i], [[o, "Firefox OS"], l], [/(nintendo|playstation)\s([wids34portablevu]+)/i, /(mint)[\/\s\(]?(\w+)*/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i, /(hurd|linux)\s?([\w\.]+)*/i, /(gnu)\s?([\w\.]+)*/i], [o, l], [/(cros)\s[\w]+\s([\w\.]+\w)/i], [[o, "Chromium OS"], l], [/(sunos)\s?([\w\.]+\d)*/i], [[o, "Solaris"], l], [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i], [o, l], [/(haiku)\s(\w+)/i], [o, l], [/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i], [[o, "iOS"], [l, /_/g, "."]], [/(mac\sos\sx)\s?([\w\s\.]+\w)*/i, /(macintosh|mac(?=_powerpc)\s)/i], [[o, "Mac OS"], [l, /_/g, "."]], [/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i, /(unix)\s?([\w\.]+)*/i], [o, l]]
            }, m = function (e, i) {
                if (!(this instanceof m))return new m(e, i).getResult();
                var n = e || (t && t.navigator && t.navigator.userAgent ? t.navigator.userAgent : ""),
                    r = i ? h.extend(f, i) : f;
                return this.getBrowser = function () {
                    var t = d.rgx.apply(this, r.browser);
                    return t.major = h.major(t.version), t
                }, this.getCPU = function () {
                    return d.rgx.apply(this, r.cpu)
                }, this.getDevice = function () {
                    return d.rgx.apply(this, r.device)
                }, this.getEngine = function () {
                    return d.rgx.apply(this, r.engine)
                }, this.getOS = function () {
                    return d.rgx.apply(this, r.os)
                }, this.getResult = function () {
                    return {
                        ua: this.getUA(),
                        browser: this.getBrowser(),
                        engine: this.getEngine(),
                        os: this.getOS(),
                        device: this.getDevice(),
                        cpu: this.getCPU()
                    }
                }, this.getUA = function () {
                    return n
                }, this.setUA = function (t) {
                    return n = t, this
                }, this
            };
            m.VERSION = "0.7.12", m.BROWSER = {
                NAME: o,
                MAJOR: "major",
                VERSION: l
            }, m.CPU = {ARCHITECTURE: "architecture"}, m.DEVICE = {
                MODEL: r,
                VENDOR: s,
                TYPE: a,
                CONSOLE: "console",
                MOBILE: c,
                SMARTTV: "smarttv",
                TABLET: u,
                WEARABLE: "wearable",
                EMBEDDED: "embedded"
            }, m.ENGINE = {NAME: o, VERSION: l}, m.OS = {
                NAME: o,
                VERSION: l
            }, void 0 !== i ? (void 0 !== e && e.exports && (i = e.exports = m), i.UAParser = m) : "function" == typeof define && define.amd ? define(function () {
                return m
            }) : t.UAParser = m;
            var g = t.jQuery || t.Zepto;
            if (void 0 !== g) {
                var v = new m;
                g.ua = v.getResult(), g.ua.get = function () {
                    return v.getUA()
                }, g.ua.set = function (t) {
                    v.setUA(t);
                    var e = v.getResult();
                    for (var i in e)g.ua[i] = e[i]
                }
            }
        }("object" == typeof window ? window : this)
    }, {}],
    219: [function (t, e, i) {
        e.exports = {
            content: [{
                url: "1-ControlledCompliance TensegrityConstrainedInflatables/index.html",
                classname: "light",
                title: "Stowable Inflatables",
                subtitle: "Controlled Compliance Tensegrity Constraint Inflatables",
                tags: "",
                description: "3D Printing",
                video: "Inflatables.mp4",
            }, {
                url: "2-HapticSteeringWheel/index.html",
                classname: "light",
                title: "Haptic Steering Wheel",
                subtitle: "Work in Process",
                tags: "3D Printing",
                description: "Creative Tech / Webgl Arch / 3D Lead / Perf advocate",
                video: "steering.mp4",
            }, {
                url: "4-FingerSoftActuator/index.html",
                classname: "light",
                title: "Finger Soft Actuator",
                subtitle: "Reverse Engineering / TiltBrush / Augmented Reality",
                tags: "Robotics",
                description: "",
                video: "finger.mp4",
                prices: "",
                custom: {text: "Paper", link: "https://www.hindawi.com/journals/abb/2018/4264560/"}

            }, {
                url: "5-VehicleAutomatiedParkingSystem/index.html",
                classname: "light",
                title: "Vehicle Automatied Parking System",
                subtitle: "WebGL Nav / Matcap Skinning / Dogstudio",
                tags: "Algorithm",
                description: "",
                video: "parking.mp4",
                prices: ""
            }, {
                title: "Method of Image Denoising Based on Partial Differential Equation",
                subtitle: "",
                tags: "",
                description: "Computer Vision",
                video: "denoise.mp4",
                url: "6-MethodofImageDenoisingBasedonPartialDifferentialEquation/index.html",
                classname: "light",
                prices: "",
            }, {
                url: "3-VisualInspectionofAeronauticDrillingSystem",
                classname: "light",
                title: "Visual Inspection of Aeronautic Drilling System",
                subtitle: "",
                tags: "",
                description: "Computer Vision",
                video: "cv.mp4",
                prices: ""
            }]
        }
    }, {}],
    220: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = r(t("./config.js")), a = r(t("./mediator.js")), s = (r(t("gsap")), function (t) {
                if (t && t.__esModule)return t;
                var e = {};
                if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t, e
            }(t("three"))), l = r(t("./modules/camera")), c = r(t("./modules/postprocessing")),
            u = (r(t("./renderer.js")), r(t("./views/caroussel"))), h = r(t("./views/titles")),
            d = r(t("./modules/portfobackground")), p = (t("dat-gui").GUI, o.default.instance),
            f = a.default.instance.emitter, m = function () {
                function t(e) {
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, t), p.setOptions(e), this.initScene(), this.updateEvent = this.posteffectupdate.bind(this), this.caroussel = new u.default, this.titles = new h.default, this.addEvents(), this.isUpdate = !1, a.default.instance.onResize(), TweenLite.delayedCall(0, function () {
                        a.default.instance.onScroll(), document.documentElement.scrollTop = 0, document.body.scrollTop = 0, document.body.style.overflow = "hidden"
                    })
                }

                return n(t, [{
                    key: "initScene", value: function () {
                        this.container = document.querySelector(".wrapper"), this.scene = new s.Scene, this.midVector = null, this.renderer = renderer, this.camera = new l.default(80, window.innerWidth / window.innerHeight, .001, 700), this.camera.addControls(this.container), this.renderer.setSize(window.innerWidth, window.innerHeight), this.canvas = this.renderer.domElement, this.container.appendChild(this.canvas), this.background = new d.default, this.scene.add(this.background), this.posteffect = new c.default(this.scene, this.camera, this.renderer)
                    }
                }, {
                    key: "animate", value: function () {
                    }
                }, {
                    key: "posteffectupdate", value: function () {
                        this.posteffect.render(this.scene, this.camera)
                    }
                }, {
                    key: "onDisplayProject", value: function (t) {
                        0 == t && 0 == this.isUpdate && (this.isUpdate = !0, f.on("update", this.updateEvent)), 0 != t && 1 == this.isUpdate && (this.isUpdate = !1, f.off("update", this.updateEvent))
                    }
                }, {
                    key: "addEvents", value: function () {
                        f.on("resize", this.resize.bind(this)), f.on("display:project", this.onDisplayProject.bind(this))
                    }
                }, {
                    key: "resize", value: function (t, e) {
                        this.w = t, this.h = e, this.renderer.setSize(this.w - 50, this.h - 50)
                    }
                }, {
                    key: "initGui", value: function () {
                    }
                }, {
                    key: "log", value: function () {
                    }
                }]), t
            }();
        i.default = m, e.exports = i.default
    }, {
        "./config.js": 221,
        "./mediator.js": 223,
        "./modules/camera": 224,
        "./modules/portfobackground": 225,
        "./modules/postprocessing": 226,
        "./renderer.js": 231,
        "./views/caroussel": 233,
        "./views/titles": 237,
        "dat-gui": 192,
        gsap: 211,
        three: 216
    }],
    221: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = r(t("ua-parser-js")), a = r(t("ua-device-type")), s = r(t("../media/data.json")), l = Symbol(),
            c = Symbol(), u = new o.default, h = function () {
                function t(e) {
                    if (function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, t), e != c)throw"Cannot construct config singleton";
                    this.data = s.default, this.devicePixelRatio = window.devicePixelRatio, u.setUA(navigator.userAgent), this.browser = u.getBrowser().name, this.version = u.getBrowser().version, this.os = u.getOS(), this.device = (0, a.default)(navigator.userAgent), document.body.classList.add(this.device), this.scale = "desktop" == this.device ? .55 : .75
                }

                return n(t, [{
                    key: "init", value: function (t) {
                        this.DEBUG = t.debug, this.DEBUG_LOG = t.debugLog, this.isPosteffected = t.isPosteffected, this.DEBUG_LOG && (window.console.log = function () {
                        }), this.DEBUG_NOSOUND = t.debugNoSound, this.IMAGE_PATH = t.imagesPath, this.IMAGEPACK_PATH = t.imagesPackPath, this.PATH = t.path, "IE" == this.browser && this.version
                    }
                }, {
                    key: "get", value: function (t) {
                        return this[l][t]
                    }
                }, {
                    key: "setOptions", value: function (t) {
                        this.init(t)
                    }
                }], [{
                    key: "instance", get: function () {
                        return this[l] || (this[l] = new t(c)), this[l]
                    }
                }]), t
            }();
        i.default = h, e.exports = i.default
    }, {"../media/data.json": 219, "ua-device-type": 217, "ua-parser-js": 218}],
    222: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        t("dat.gui").GUI;
        i.default = "", e.exports = i.default
    }, {"dat.gui": 195}],
    223: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = r(t("event-emitter")), a = r(t("../media/data.json")), s = r(t("./config.js")), l = Symbol(),
            c = Symbol(), u = s.default.instance, h = function () {
                function t(e) {
                    if (function (t, e) {
                            if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                        }(this, t), this.data = a.default.content, this.projectLength = this.data.length, this.currentDisplayedProject = -1, this.lastdisplayProject = -1, this.singleProjectRange = 1, e != c)throw"Cannot construct mediator singleton";
                    this.emitter = (0, o.default)({}), this.now = Date.now(), this.addEvents()
                }

                return n(t, [{
                    key: "update", value: function () {
                        var t = Date.now(), e = (Date.now() - this.now) / 1e3;
                        this.now = t, this.emitter.emit("update", e)
                    }
                }, {
                    key: "addEvents", value: function () {
                        window.addEventListener("scroll", this.onScroll.bind(this)), window.addEventListener("resize", this.onResize.bind(this)), TweenMax.ticker.addEventListener("tick", this.update.bind(this)), "desktop" == u.device && document.addEventListener("mousemove", this.onMouseMove.bind(this))
                    }
                }, {
                    key: "onMouseMove", value: function (t) {
                        var e = event.clientX / this.w / 2, i = -event.clientY / this.h / 2 - 1;
                        this.emitter.emit("mousemove", {x: e, y: i})
                    }
                }, {
                    key: "onScroll", value: function (t) {
                        this.current = -(document.body.scrollTop || document.documentElement.scrollTop), this.currentDisplayedProject = Math.round(this.current / this.singleProjectRange), this.currentDisplayedProject != this.lastdisplayProject && (this.lastdisplayProject = this.currentDisplayedProject, this.emitter.emit("display:project", this.currentDisplayedProject))
                    }
                }, {
                    key: "onResize", value: function (t) {
                        var e = this;
                        "desktop" != u.device ? (null != this.timeoutresize && clearTimeout(this.timeoutresize), this.timeoutresize = setTimeout(function () {
                            e.resize()
                        }, 200)) : this.resize()
                    }
                }, {
                    key: "resize", value: function () {
                        this.h = window.innerHeight, this.w = window.innerWidth, this.projectRange = -this.projectLength * (this.h + 200 - 50) * u.scale, this.singleProjectRange = this.projectRange / this.projectLength, this.emitter.emit("resize", this.w, this.h), "desktop" != u.device && (document.body.classList.remove("portrait"), document.body.classList.remove("landscape"), this.w > this.h ? document.body.classList.add("landscape") : document.body.classList.add("portrait"))
                    }
                }], [{
                    key: "instance", get: function () {
                        return this[l] || (this[l] = new t(c)), this[l]
                    }
                }]), t
            }();
        i.default = h, e.exports = i.default
    }, {"../media/data.json": 219, "./config.js": 221, "event-emitter": 210}],
    224: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }(), r = function (t, e, i) {
            for (var n = !0; n;) {
                var r = t, o = e, a = i;
                n = !1, null === r && (r = Function.prototype);
                var s = Object.getOwnPropertyDescriptor(r, o);
                if (void 0 !== s) {
                    if ("value" in s)return s.value;
                    var l = s.get;
                    if (void 0 === l)return;
                    return l.call(a)
                }
                var c = Object.getPrototypeOf(r);
                if (null === c)return;
                t = c, e = o, i = a, n = !0, s = c = void 0
            }
        };

        function o(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var a = function (t) {
                if (t && t.__esModule)return t;
                var e = {};
                if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t, e
            }(t("three")), s = o(t("./../../mediator.js")), l = o(t("./../../config.js")).default.instance,
            c = s.default.instance.emitter, u = (t("three-orbit-controls")(a), function (t) {
                function e(t, i, n, o) {
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, e), r(Object.getPrototypeOf(e.prototype), "constructor", this).call(this, "desktop" == l.device ? 65 : 75, window.innerWidth / window.innerHeight, 1, 800), this.cameraLookatVector = new a.Vector3(0, 2.5, -300), this.position.set(0, 2, 26), c.on("resize", this.resize.bind(this)), window.camera = this, this.addEvents()
                }

                return function (t, e) {
                    if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                }(e, a.PerspectiveCamera), n(e, [{
                    key: "addControls", value: function (t) {
                    }
                }, {
                    key: "update", value: function () {
                    }
                }, {
                    key: "resize", value: function (t, e) {
                        this.aspect = t / e, this.updateProjectionMatrix()
                    }
                }, {
                    key: "onMouseMove", value: function (t) {
                        TweenLite.killTweensOf(this.position), TweenLite.to(this.position, .8, {
                            ease: Power1.easeOut,
                            x: 2 * t.x,
                            y: 2 * t.y + 2.5
                        }), this.lookAt(this.cameraLookatVector)
                    }
                }, {
                    key: "addEvents", value: function () {
                        c.on("mousemove", this.onMouseMove.bind(this))
                    }
                }]), e
            }());
        i.default = u, e.exports = i.default
    }, {"./../../config.js": 221, "./../../mediator.js": 223, three: 216, "three-orbit-controls": 215}],
    225: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }(), r = function (t, e, i) {
            for (var n = !0; n;) {
                var r = t, o = e, a = i;
                n = !1, null === r && (r = Function.prototype);
                var s = Object.getOwnPropertyDescriptor(r, o);
                if (void 0 !== s) {
                    if ("value" in s)return s.value;
                    var l = s.get;
                    if (void 0 === l)return;
                    return l.call(a)
                }
                var c = Object.getPrototypeOf(r);
                if (null === c)return;
                t = c, e = o, i = a, n = !0, s = c = void 0
            }
        };

        function o(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var a = function (t) {
            if (t && t.__esModule)return t;
            var e = {};
            if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e.default = t, e
        }(t("three")), s = o(t("./../../config.js")), l = o(t("./../../mediator.js")), c = {
            elevation: 1,
            noise_range: -1.3,
            sombrero_amplitude: 1,
            sombrero_frequency: 7,
            speed: .7,
            segments: 1,
            wireframe_color: "#280022",
            perlin_passes: 1,
            wireframe: !0
        }, u = s.default.instance, h = l.default.instance.emitter, d = function (t) {
            function e() {
                var t = this;
                !function (t, e) {
                    if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                }(this, e), r(Object.getPrototypeOf(e.prototype), "constructor", this).call(this), this.max = "desktop" == u.device ? 90 : 80, this.maps = {}, this.createMesh(), this.addEvents(), TweenLite.delayedCall(0, function () {
                    t.start().then(function () {
                        setTimeout(function () {
                            return h.emit("terrain:introanim")
                        }, 400)
                    })
                })
            }

            return function (t, e) {
                if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }(e, a.Object3D), n(e, [{
                key: "start", value: function () {
                    var t = this;
                    return new Promise(function (e, i) {
                        TweenMax.to(c, 2.5, {
                            segments: "desktop" == u.device ? 125 : 115,
                            ease: Power1.easeIn,
                            delay: 0,
                            onUpdate: function () {
                                t.remove(t.plane_mesh), t.remove(t.plane_mesh2), t.buildPlanes(c.segments), t.add(t.plane_mesh), t.add(t.plane_mesh2)
                            },
                            onComplete: function () {
                                e(), "desktop" == u.device && t.down()
                            }
                        }), TweenMax.to(t.plane_material2.uniforms.alphaValue, 3, {
                            value: 5,
                            ease: Linear.None,
                            delay: 0
                        })
                    })
                }
            }, {
                key: "uniformVariance", value: function () {
                    var t = 2 * (2 * Math.random() - 1);
                    TweenMax.to(this.plane_material.uniforms.noise_range, .4, {value: t, ease: Power1.easeIn});
                    var e = .1 * Math.random() - .05 < 0 ? -1 : 1;
                    Math.random();
                    TweenMax.to(this.plane_material2.uniforms.noise_range, .4, {
                        value: t,
                        ease: Power1.easeIn
                    }), TweenMax.to(this.plane_material3.uniforms.noise_range, .4, {value: t / 2, ease: Power1.easeIn})
                }
            }, {
                key: "down", value: function () {
                    var t = this;
                    this.uniformVariance(), TweenMax.to(c, 2, {
                        segments: 30 * Math.random() + 10,
                        ease: Power1.easeIn,
                        delay: 0,
                        onUpdate: function () {
                            t.remove(t.plane_mesh), t.remove(t.plane_mesh2), t.buildPlanes(c.segments), t.add(t.plane_mesh), t.add(t.plane_mesh2)
                        },
                        onComplete: function () {
                            t.upp()
                        }
                    })
                }
            }, {
                key: "upp", value: function () {
                    var t = this;
                    this.uniformVariance(), TweenMax.to(c, 2, {
                        segments: 100 * Math.random() + this.max,
                        ease: Power1.easeOut,
                        delay: 0,
                        onUpdate: function () {
                            t.remove(t.plane_mesh), t.remove(t.plane_mesh2), t.buildPlanes(c.segments), t.add(t.plane_mesh), t.add(t.plane_mesh2)
                        },
                        onComplete: function () {
                            t.down()
                        }
                    })
                }
            }, {
                key: "buildPlanes", value: function (t) {
                    var e = (t = Math.round(t)) / 4 < 40 ? 40 : t / 4;
                    null == this.maps[e + "" + t] && (this.maps[e + "" + t] = new a.PlaneBufferGeometry(e, 15, t, t), this.maps[e + "" + t].removeAttribute("normal")), this.plane_mesh.geometry = this.plane_mesh2.geometry = this.maps[e + "" + t]
                }
            }, {
                key: "update", value: function (t) {
                    this.plane_material.uniforms.time.value += t, this.plane_material2.uniforms.time.value += t, this.plane_material3.uniforms.time.value += t
                }
            }, {
                key: "createMesh", value: function () {
                    var t = {
                        time: {type: "f", value: 0},
                        speed: {type: "f", value: c.speed},
                        elevation: {type: "f", value: c.elevation},
                        noise_range: {type: "f", value: c.noise_range},
                        offset: {type: "f", value: c.elevation},
                        perlin_passes: {type: "f", value: c.perlin_passes},
                        sombrero_amplitude: {type: "f", value: c.sombrero_amplitude},
                        sombrero_frequency: {type: "f", value: c.sombrero_frequency},
                        line_color: {type: "c", value: new a.Color(c.wireframe_color)},
                        waterText: {type: "f", value: 0},
                        alphaValue: {type: "f", value: 2}
                    }, e = {
                        time: {type: "f", value: 0},
                        speed: {type: "f", value: c.speed},
                        elevation: {type: "f", value: .2},
                        noise_range: {type: "f", value: .3},
                        offset: {type: "f", value: c.elevation},
                        perlin_passes: {type: "f", value: c.perlin_passes},
                        sombrero_amplitude: {type: "f", value: .2},
                        sombrero_frequency: {type: "f", value: c.sombrero_frequency},
                        line_color: {type: "c", value: new a.Color("#000000")},
                        waterText: {type: "f", value: 0},
                        alphaValue: {type: "f", value: 1}
                    }, i = {
                        time: {type: "f", value: 0},
                        speed: {type: "f", value: c.speed},
                        elevation: {type: "f", value: .2},
                        noise_range: {type: "f", value: .3},
                        offset: {type: "f", value: c.elevation},
                        perlin_passes: {type: "f", value: c.perlin_passes},
                        sombrero_amplitude: {type: "f", value: .2},
                        sombrero_frequency: {type: "f", value: c.sombrero_frequency},
                        line_color: {type: "c", value: new a.Color(c.wireframe_color)},
                        waterText: {type: "f", value: 0},
                        alphaValue: {type: "f", value: 8}
                    };
                    this.plane_material = new a.ShaderMaterial({
                        vertexShader: "#define GLSLIFY 1\n#define M_PI 3.1415926535897932384626433832795\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat pnoise(vec3 P, vec3 rep)\n{\n\tvec3 Pi0 = mod(floor(P), rep);\n\tvec3 Pi1 = mod(Pi0 + vec3(1.0), rep);\n\tPi0 = mod289(Pi0);\n\tPi1 = mod289(Pi1);\n\tvec3 Pf0 = fract(P);\n\tvec3 Pf1 = Pf0 - vec3(1.0);\n\tvec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\tvec4 iy = vec4(Pi0.yy, Pi1.yy);\n\tvec4 iz0 = Pi0.zzzz;\n\tvec4 iz1 = Pi1.zzzz;\n\tvec4 ixy = permute(permute(ix) + iy);\n\tvec4 ixy0 = permute(ixy + iz0);\n\tvec4 ixy1 = permute(ixy + iz1);\n\tvec4 gx0 = ixy0 * (1.0 / 7.0);\n\tvec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n\tgx0 = fract(gx0);\n\tvec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\tvec4 sz0 = step(gz0, vec4(0.0));\n\tgx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\tgy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\tvec4 gx1 = ixy1 * (1.0 / 7.0);\n\tvec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n\tgx1 = fract(gx1);\n\tvec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\tvec4 sz1 = step(gz1, vec4(0.0));\n\tgx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\tgy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\tvec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n\tvec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n\tvec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n\tvec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n\tvec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n\tvec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n\tvec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n\tvec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\tvec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\tg000 *= norm0.x;\n\tg010 *= norm0.y;\n\tg100 *= norm0.z;\n\tg110 *= norm0.w;\n\tvec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\tg001 *= norm1.x;\n\tg011 *= norm1.y;\n\tg101 *= norm1.z;\n\tg111 *= norm1.w;\n\tfloat n000 = dot(g000, Pf0);\n\tfloat n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\tfloat n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\tfloat n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\tfloat n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\tfloat n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\tfloat n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\tfloat n111 = dot(g111, Pf1);\n\tvec3 fade_xyz = fade(Pf0);\n\tvec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\tvec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\tfloat n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n\treturn 2.2 * n_xyz;\n}\n\nvarying vec2  v_uv;\nuniform float time;\nuniform float speed;\nuniform float elevation;\nuniform float noise_range;\nuniform float perlin_passes;\nuniform float sombrero_amplitude;\nuniform float sombrero_frequency;\nvarying float z;\n\n#define M_PI 3.1415926535897932384626433832795\n\nvoid main()\n{\n   \n    v_uv          = uv;\n    float displacement  = pnoise( .4 * position + vec3( 0, speed * time, 0 ), vec3( 100.0 ) ) * 1. * noise_range;\n    vec3 newPosition = vec3(position.x,position.y,displacement + (sin(position.x / 2. - M_PI / 2.)) * elevation + (sombrero_amplitude * sin(((time * 0.5 * speed) - (sqrt(((uv.x-0.5) * (uv.x-0.5)) + ((uv.y-0.5) * (uv.y-0.5))) * sombrero_frequency)) * M_PI)));\n    gl_Position      = projectionMatrix * modelViewMatrix * vec4( newPosition, 1. );\n}",
                        fragmentShader: "#define GLSLIFY 1\nvarying vec2 v_uv;\nuniform vec3  line_color;\nuniform float alphaValue;\nvarying float z;\n#define M_PI 3.1415926535897932384626433832795\nvoid main()\n{\n    gl_FragColor = vec4(line_color, sin(v_uv.y * M_PI) / 4. / alphaValue);\n    gl_FragColor.a *= 0.8;\n}",
                        wireframe: c.wireframe,
                        transparent: !0,
                        uniforms: t,
                        depthWrite: !1,
                        depthTest: !1
                    }), this.plane_material2 = new a.ShaderMaterial({
                        vertexShader: "#define GLSLIFY 1\n#define M_PI 3.1415926535897932384626433832795\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat pnoise(vec3 P, vec3 rep)\n{\n\tvec3 Pi0 = mod(floor(P), rep);\n\tvec3 Pi1 = mod(Pi0 + vec3(1.0), rep);\n\tPi0 = mod289(Pi0);\n\tPi1 = mod289(Pi1);\n\tvec3 Pf0 = fract(P);\n\tvec3 Pf1 = Pf0 - vec3(1.0);\n\tvec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\tvec4 iy = vec4(Pi0.yy, Pi1.yy);\n\tvec4 iz0 = Pi0.zzzz;\n\tvec4 iz1 = Pi1.zzzz;\n\tvec4 ixy = permute(permute(ix) + iy);\n\tvec4 ixy0 = permute(ixy + iz0);\n\tvec4 ixy1 = permute(ixy + iz1);\n\tvec4 gx0 = ixy0 * (1.0 / 7.0);\n\tvec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n\tgx0 = fract(gx0);\n\tvec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\tvec4 sz0 = step(gz0, vec4(0.0));\n\tgx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\tgy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\tvec4 gx1 = ixy1 * (1.0 / 7.0);\n\tvec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n\tgx1 = fract(gx1);\n\tvec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\tvec4 sz1 = step(gz1, vec4(0.0));\n\tgx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\tgy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\tvec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n\tvec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n\tvec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n\tvec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n\tvec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n\tvec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n\tvec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n\tvec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\tvec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\tg000 *= norm0.x;\n\tg010 *= norm0.y;\n\tg100 *= norm0.z;\n\tg110 *= norm0.w;\n\tvec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\tg001 *= norm1.x;\n\tg011 *= norm1.y;\n\tg101 *= norm1.z;\n\tg111 *= norm1.w;\n\tfloat n000 = dot(g000, Pf0);\n\tfloat n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\tfloat n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\tfloat n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\tfloat n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\tfloat n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\tfloat n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\tfloat n111 = dot(g111, Pf1);\n\tvec3 fade_xyz = fade(Pf0);\n\tvec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\tvec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\tfloat n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n\treturn 2.2 * n_xyz;\n}\n\nvarying vec2  v_uv;\nuniform float time;\nuniform float speed;\nuniform float elevation;\nuniform float noise_range;\nuniform float perlin_passes;\nuniform float sombrero_amplitude;\nuniform float sombrero_frequency;\nvarying float z;\n\n#define M_PI 3.1415926535897932384626433832795\n\nvoid main()\n{\n   \n    v_uv          = uv;\n    float displacement  = pnoise( .4 * position + vec3( 0, speed * time, 0 ), vec3( 100.0 ) ) * 1. * noise_range;\n    vec3 newPosition = vec3(position.x,position.y,displacement + (sin(position.x / 2. - M_PI / 2.)) * elevation + (sombrero_amplitude * sin(((time * 0.5 * speed) - (sqrt(((uv.x-0.5) * (uv.x-0.5)) + ((uv.y-0.5) * (uv.y-0.5))) * sombrero_frequency)) * M_PI)));\n    gl_Position      = projectionMatrix * modelViewMatrix * vec4( newPosition, 1. );\n}",
                        fragmentShader: "#define GLSLIFY 1\nvarying vec2 v_uv;\nuniform vec3  line_color;\nuniform float alphaValue;\nvarying float z;\n#define M_PI 3.1415926535897932384626433832795\nvoid main()\n{\n    gl_FragColor = vec4(line_color, sin(v_uv.y * M_PI) / 4. / alphaValue);\n    gl_FragColor.a *= 0.8;\n}",
                        transparent: !0,
                        uniforms: e,
                        wireframe: !1,
                        depthWrite: !1,
                        depthTest: !1
                    }), this.plane_material3 = new a.ShaderMaterial({
                        vertexShader: "#define GLSLIFY 1\n#define M_PI 3.1415926535897932384626433832795\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat pnoise(vec3 P, vec3 rep)\n{\n\tvec3 Pi0 = mod(floor(P), rep);\n\tvec3 Pi1 = mod(Pi0 + vec3(1.0), rep);\n\tPi0 = mod289(Pi0);\n\tPi1 = mod289(Pi1);\n\tvec3 Pf0 = fract(P);\n\tvec3 Pf1 = Pf0 - vec3(1.0);\n\tvec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\tvec4 iy = vec4(Pi0.yy, Pi1.yy);\n\tvec4 iz0 = Pi0.zzzz;\n\tvec4 iz1 = Pi1.zzzz;\n\tvec4 ixy = permute(permute(ix) + iy);\n\tvec4 ixy0 = permute(ixy + iz0);\n\tvec4 ixy1 = permute(ixy + iz1);\n\tvec4 gx0 = ixy0 * (1.0 / 7.0);\n\tvec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n\tgx0 = fract(gx0);\n\tvec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\tvec4 sz0 = step(gz0, vec4(0.0));\n\tgx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\tgy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\tvec4 gx1 = ixy1 * (1.0 / 7.0);\n\tvec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n\tgx1 = fract(gx1);\n\tvec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\tvec4 sz1 = step(gz1, vec4(0.0));\n\tgx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\tgy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\tvec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n\tvec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n\tvec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n\tvec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n\tvec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n\tvec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n\tvec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n\tvec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\tvec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\tg000 *= norm0.x;\n\tg010 *= norm0.y;\n\tg100 *= norm0.z;\n\tg110 *= norm0.w;\n\tvec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\tg001 *= norm1.x;\n\tg011 *= norm1.y;\n\tg101 *= norm1.z;\n\tg111 *= norm1.w;\n\tfloat n000 = dot(g000, Pf0);\n\tfloat n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\tfloat n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\tfloat n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\tfloat n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\tfloat n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\tfloat n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\tfloat n111 = dot(g111, Pf1);\n\tvec3 fade_xyz = fade(Pf0);\n\tvec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\tvec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\tfloat n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n\treturn 2.2 * n_xyz;\n}\n\nvarying vec2  v_uv;\nuniform float time;\nuniform float speed;\nuniform float elevation;\nuniform float noise_range;\nuniform float perlin_passes;\nuniform float sombrero_amplitude;\nuniform float sombrero_frequency;\nvarying float z;\n\n#define M_PI 3.1415926535897932384626433832795\n\nvoid main()\n{\n   \n    v_uv          = uv;\n    float displacement  = pnoise( .4 * position + vec3( 0, speed * time, 0 ), vec3( 100.0 ) ) * 1. * noise_range;\n    vec3 newPosition = vec3(position.x,position.y,displacement + (sin(position.x / 2. - M_PI / 2.)) * elevation + (sombrero_amplitude * sin(((time * 0.5 * speed) - (sqrt(((uv.x-0.5) * (uv.x-0.5)) + ((uv.y-0.5) * (uv.y-0.5))) * sombrero_frequency)) * M_PI)));\n    gl_Position      = projectionMatrix * modelViewMatrix * vec4( newPosition, 1. );\n}",
                        fragmentShader: "#define GLSLIFY 1\nvarying vec2 v_uv;\nuniform vec3  line_color;\nuniform float alphaValue;\nvarying float z;\n#define M_PI 3.1415926535897932384626433832795\nvoid main()\n{\n    gl_FragColor = vec4(line_color, sin(v_uv.y * M_PI) / 4. / alphaValue);\n    gl_FragColor.a *= 0.8;\n}",
                        wireframe: !0,
                        wireframeLinewidth: 1,
                        transparent: !0,
                        uniforms: i,
                        depthWrite: !1,
                        depthTest: !1
                    });
                    var n = Math.round(c.segments), r = n / 4 < 30 ? 30 : n / 4;
                    this.plane_geometry = new a.PlaneBufferGeometry(r, 10, n, n), this.plane_mesh = new a.Mesh(this.plane_geometry, this.plane_material), this.plane_mesh.rotation.x = -Math.PI / 2, this.plane_mesh.position.y = -.5, this.add(this.plane_mesh), this.plane_geometry2 = new a.PlaneBufferGeometry(r, 10, n, n), this.plane_mesh2 = new a.Mesh(this.plane_geometry, this.plane_material2), window.plane_mesh2 = this.plane_mesh2, this.plane_mesh2.position.y = -6, this.plane_mesh2.renderOrder = 10, this.plane_mesh2.material.renderOrder = 10, this.plane_mesh2.frustumCulled = !1, this.plane_mesh2.rotation.x = -Math.PI / 2, this.add(this.plane_mesh2), this.plane_geometry3 = new a.PlaneBufferGeometry(100, 50, 155, 155), this.plane_mesh3 = new a.Mesh(this.plane_geometry3, this.plane_material3), this.plane_mesh3.position.y = -6, this.plane_mesh3.rotation.x = -Math.PI / 2, this.add(this.plane_mesh3)
                }
            }, {
                key: "deleteAttributes", value: function (t) {
                    var e = t.attributes;
                    t.index && (delete t.index.array, t.index.array = null), Object.keys(e).forEach(function (t) {
                        delete e[t].array, e[t].array = null, delete e[t], e[t] = null
                    }), t = null
                }
            }, {
                key: "addEvents", value: function () {
                    h.on("update", this.update.bind(this))
                }
            }]), e
        }();
        i.default = d, e.exports = i.default
    }, {"./../../config.js": 221, "./../../mediator.js": 223, three: 216}],
    226: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = function (t) {
                if (t && t.__esModule)return t;
                var e = {};
                if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t, e
            }(t("three")), a = r(t("./../../config.js")), s = r(t("./../../mediator.js")), l = r(t("./../../renderer.js")),
            c = (t("constants"), r(t("./quad"))), u = a.default.instance, h = s.default.instance.emitter,
            d = (new o.TextureLoader, function () {
                function t(e, i, n) {
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, t), this.camera = i, this.settings = {}, this.target = new o.WebGLRenderTarget(1, 1, {
                        minFilter: void 0 !== this.settings.minFilter ? this.settings.minFilter : o.LinearFilter,
                        magFilter: void 0 !== this.settings.magFilter ? this.settings.magFilter : o.LinearFilter,
                        wrapS: void 0 !== this.settings.wrapS ? this.settings.wrapS : o.ClampToEdgeWrapping,
                        wrapT: void 0 !== this.settings.wrapT ? this.settings.wrapT : o.ClampToEdgeWrapping,
                        format: (this.useRGBA, o.RGBFormat),
                        type: void 0 !== this.settings.type ? this.settings.type : o.UnsignedByteType,
                        stencilBuffer: void 0 === this.settings.stencilBuffer || this.settings.stencilBuffer,
                        depthBuffer: void 0 === this.settings.depthBuffer || this.settings.depthBuffer
                    }), this.resize(window.innerWidth, window.innerHeight), this.quad = new c.default, this.passes = [], this.addEvents()
                }

                return n(t, [{
                    key: "render", value: function (t, e) {
                        l.default.setRenderTarget(this.target), l.default.render(t, e), l.default.setRenderTarget(null), this.quad.render(this.target)
                    }
                }, {
                    key: "resize", value: function (t, e) {
                        this.target.setSize(Math.floor(t * u.devicePixelRatio), Math.floor(e * u.devicePixelRatio))
                    }
                }, {
                    key: "addEvents", value: function () {
                        h.on("resize", this.resize.bind(this))
                    }
                }]), t
            }());
        i.default = d, e.exports = i.default
    }, {
        "./../../config.js": 221,
        "./../../mediator.js": 223,
        "./../../renderer.js": 231,
        "./quad": 227,
        constants: 3,
        three: 216
    }],
    227: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = function (t) {
            if (t && t.__esModule)return t;
            var e = {};
            if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e.default = t, e
        }(t("three")), a = r(t("./../../../config.js")), s = r(t("./../../../mediator.js"));
        t("./luminosityhighpass");
        r(t("./unrealbloom"));
        var l = r(t("./../../../renderer.js")), c = r(t("./triangle.js")),
            u = (r(t("./../../../gui.js")), a.default.instance), h = s.default.instance.emitter,
            d = (new o.PlaneBufferGeometry(2, 2, 10, 10), function () {
                function t() {
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, t), this.kernels = new o.Scene, this.camera = new o.OrthographicCamera(-1, 1, 1, -1, 0, 1), this.width = 1, this.height = 1, this.initPasses(), this.addEvents(), this.isAllPass = !0
                }

                return n(t, [{
                    key: "render", value: function (t) {
                        this.rgbShiftKernel.mesh.material.uniforms.time.value += .016, this.compute(this.rgbShiftKernel, {
                            source: t,
                            toScreen: !0
                        })
                    }
                }, {
                    key: "compute", value: function (t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                        e.source && (t.mesh.material.uniforms.tInput.value = e.source, t.mesh.material.uniforms.tInput.needsUpdate = !0), 1 == e.toScreen ? l.default.renderLIGHT(this.kernels, this.camera, t.mesh) : l.default.renderLIGHT(this.kernels, this.camera, t.mesh, t.output)
                    }
                }, {
                    key: "initPasses", value: function () {
                        var t = this;
                        this.rgbShiftKernel = {
                            geometry: c.default,
                            material: new o.ShaderMaterial({
                                uniforms: {
                                    tInput: {type: "t", value: null},
                                    resolution: {type: "v2", value: new o.Vector2(1, 1)},
                                    delta: {type: "f", value: new o.Vector2(0, 0)},
                                    time: {type: "f", value: 0},
                                    speed: {type: "f", value: 1},
                                    amountnoise: {type: "f", value: 0},
                                    falloff: {type: "f", value: .1},
                                    amountvignette: {type: "f", value: 0},
                                    amountsepia: {type: "f", value: 0}
                                },
                                vertexShader: "#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\n  vUv = vec2(0.5)+(position.xy)*0.5;\n  gl_Position = vec4( position.xy, 0.0,  1.0 );\n\n}",
                                fragmentShader: "#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D tInput;\nuniform vec2 delta;\nuniform vec2 resolution;\nuniform float time;\nuniform float speed;\nuniform float amountnoise;\nuniform float falloff;\nuniform float amountvignette;\nuniform float amountsepia;\n\nfloat random(vec2 n, float offset ){\n    return .5 - fract(sin(dot(n.xy + vec2( offset, 0. ), vec2(12.9898, 78.233)))* 43758.5453);\n}\n\nvoid main() {\n\n\tvec2 dir = vUv - vec2( .5 );\n\tfloat d = .7 * length( dir );\n\tnormalize( dir );\n\tvec2 value = d * dir * delta;\n\n\tvec4 c1 = texture2D( tInput, vUv - value / resolution.x );\n\tvec4 c2 = texture2D( tInput, vUv );\n\tvec4 c3 = texture2D( tInput, vUv + value / resolution.y );\n\t\n\tgl_FragColor = vec4( c1.r, c2.g, c3.b, c1.a + c2.a + c3.b );\n\n\tvec4 color = gl_FragColor;\n\n    color += vec4( vec3( amountnoise * random( vUv, .00001 * speed * time ) ), 1. );\n\n\tgl_FragColor = color;\n\n\tcolor = gl_FragColor;\n\t\n\tfloat dist = distance(vUv, vec2(0.5, 0.5));\n\tcolor.rgb *= smoothstep(0.8, falloff * 0.799, dist * (amountvignette + falloff));\n\t\n\tgl_FragColor = color;\n\n}\n",
                                fog: !1,
                                side: 0,
                                depthTest: !1,
                                depthWrite: !1
                            })
                        }, this.rgbShiftKernel.mesh = new o.Mesh(this.rgbShiftKernel.geometry, this.rgbShiftKernel.material), this.kernels.add(this.rgbShiftKernel.mesh), TweenLite.to(this.rgbShiftKernel.material.uniforms.amountvignette, 1, {
                            value: .3,
                            delay: 0,
                            onComplete: function () {
                                TweenLite.to(t.rgbShiftKernel.material.uniforms.amountnoise, 1, {value: .03}), TweenLite.to(t.rgbShiftKernel.material.uniforms.amountsepia, 1, {
                                    amount: -.1,
                                    delay: 0,
                                    onComplete: function () {
                                        t.up()
                                    }
                                })
                            }
                        }), window.shift = this.rgbShiftKernel.mesh.material
                    }
                }, {
                    key: "up", value: function () {
                        var t = this;
                        TweenLite.to(this.rgbShiftKernel.material.uniforms.delta.value, 1, {
                            x: 209,
                            onComplete: function () {
                                TweenLite.to(t.rgbShiftKernel.material.uniforms.delta.value, 1, {
                                    x: 37.5,
                                    onComplete: function () {
                                        TweenLite.delayedCall(0, function () {
                                            t.up()
                                        })
                                    }
                                })
                            }
                        })
                    }
                }, {
                    key: "resize", value: function (t, e) {
                        this.width = Math.floor(t * u.devicePixelRatio), this.height = Math.floor(e * u.devicePixelRatio);
                        for (var i = 0; i < this.kernels.children.length;)this.kernels.children[i].material.uniforms.resolution.value.set(this.width / u.devicePixelRatio, this.height / u.devicePixelRatio), i++
                    }
                }, {
                    key: "fbos", value: function (t, e, i, n) {
                        return void 0 === i && (i = o.RGBFormat), new o.WebGLRenderTarget(t, e, {
                            minFilter: o.LinearFilter,
                            magFilter: o.LinearFilter,
                            wrapS: o.ClampToEdgeWrapping,
                            wrapT: o.ClampToEdgeWrapping,
                            format: i
                        })
                    }
                }, {
                    key: "getTarget", value: function () {
                    }
                }, {
                    key: "addEvents", value: function () {
                        h.on("resize", this.resize.bind(this))
                    }
                }]), t
            }());
        i.default = d, e.exports = i.default
    }, {
        "./../../../config.js": 221,
        "./../../../gui.js": 222,
        "./../../../mediator.js": 223,
        "./../../../renderer.js": 231,
        "./luminosityhighpass": 228,
        "./triangle.js": 229,
        "./unrealbloom": 230,
        three: 216
    }],
    228: [function (t, e, i) {
        "use strict";
        var n = function (t) {
            if (t && t.__esModule)return t;
            var e = {};
            if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e.default = t, e
        }(t("three"));
        n.LuminosityHighPassShader = {
            shaderID: "luminosityHighPass",
            uniforms: {
                tDiffuse: {type: "t", value: null},
                luminosityThreshold: {type: "f", value: 1},
                smoothWidth: {type: "f", value: 1},
                defaultColor: {type: "c", value: new n.Color(0)},
                defaultOpacity: {type: "f", value: 0}
            },
            vertexShader: ["varying vec2 vUv;", "void main() {", "vUv = uv;", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
            fragmentShader: ["uniform sampler2D tDiffuse;", "uniform vec3 defaultColor;", "uniform float defaultOpacity;", "uniform float luminosityThreshold;", "uniform float smoothWidth;", "varying vec2 vUv;", "void main() {", "vec4 texel = texture2D( tDiffuse, vUv );", "vec3 luma = vec3( 0.299, 0.587, 0.114 );", "float v = dot( texel.xyz, luma );", "vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );", "float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );", "gl_FragColor = mix( outputColor, texel, alpha );", "}"].join("\n")
        }
    }, {three: 216}],
    229: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function (t, e, i) {
            for (var n = !0; n;) {
                var r = t, o = e, a = i;
                n = !1, null === r && (r = Function.prototype);
                var s = Object.getOwnPropertyDescriptor(r, o);
                if (void 0 !== s) {
                    if ("value" in s)return s.value;
                    var l = s.get;
                    if (void 0 === l)return;
                    return l.call(a)
                }
                var c = Object.getPrototypeOf(r);
                if (null === c)return;
                t = c, e = o, i = a, n = !0, s = c = void 0
            }
        };
        var r = t("three"), o = new (function (t) {
            function e() {
                !function (t, e) {
                    if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                }(this, e), n(Object.getPrototypeOf(e.prototype), "constructor", this).call(this), this.addAttribute("position", new r.Float32BufferAttribute([4, 1, 0, -1, 1, 0, -1, -4, 0], 3)), this.needsUpdate = !0
            }

            return function (t, e) {
                if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }(e, r.BufferGeometry), e
        }());
        i.default = o, e.exports = i.default
    }, {three: 216}],
    230: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = function (t) {
                if (t && t.__esModule)return t;
                var e = {};
                if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t, e
            }(t("three")), a = r(t("./../../../../renderer.js")),
            s = (r(t("./../../../../gui.js")), {threshold: 0, bloomStrength: 0, bloomRadius: 0}), l = function () {
                function t(e, i) {
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, t);
                    var n = i.strength, r = i.radius, a = i.threshold;
                    this.scene = new o.Scene;
                    var l = new o.PlaneBufferGeometry(2, 2, 10, 10);
                    this.camera = new o.OrthographicCamera(-1, 1, 1, -1, 0, 1), this.quad = new o.Mesh(l, new o.MeshBasicMaterial), this.scene.add(this.quad), this.strength = void 0 !== n ? n : 1, this.radius = r, this.threshold = a, this.resolution = void 0 !== e ? new o.Vector2(e.x, e.y) : new o.Vector2(256, 256);
                    var c = {minFilter: o.LinearFilter, magFilter: o.LinearFilter, format: o.RGBFormat};
                    this.renderTargetsHorizontal = [], this.renderTargetsVertical = [], this.nMips = 5, f = Math.round(this.resolution.x / 2), m = Math.round(this.resolution.y / 2), this.renderTargetBright = new o.WebGLRenderTarget(f, m, c), this.renderTargetBright.texture.name = "UnrealBloomPass.bright", this.renderTargetBright.texture.generateMipmaps = !1;
                    for (var u = 0; u < this.nMips; u++) {
                        var h;
                        (h = new o.WebGLRenderTarget(f, m, c)).texture.name = "UnrealBloomPass.h" + u, h.texture.generateMipmaps = !1, this.renderTargetsHorizontal.push(h), (h = new o.WebGLRenderTarget(f, m, c)).texture.name = "UnrealBloomPass.v" + u, h.texture.generateMipmaps = !1, this.renderTargetsVertical.push(h), f = Math.round(f / 2), m = Math.round(m / 2)
                    }
                    o.LuminosityHighPassShader;
                    var d = o.LuminosityHighPassShader;
                    this.highPassUniforms = o.UniformsUtils.clone(d.uniforms), this.highPassUniforms.luminosityThreshold.value = a, this.highPassUniforms.smoothWidth.value = .01, this.materialHighPassFilter = new o.ShaderMaterial({
                        uniforms: this.highPassUniforms,
                        vertexShader: d.vertexShader,
                        fragmentShader: d.fragmentShader,
                        defines: {}
                    }), this.separableBlurMaterials = [];
                    var p = [3, 5, 7, 9, 11], f = Math.round(this.resolution.x / 2), m = Math.round(this.resolution.y / 2);
                    for (u = 0; u < this.nMips; u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(p[u])), this.separableBlurMaterials[u].uniforms.texSize.value = new o.Vector2(f, m), f = Math.round(f / 2), m = Math.round(m / 2);
                    this.compositeMaterial = this.getCompositeMaterial(this.nMips), this.compositeMaterial.uniforms.blurTexture1.value = this.renderTargetsVertical[0].texture, this.compositeMaterial.uniforms.blurTexture2.value = this.renderTargetsVertical[1].texture, this.compositeMaterial.uniforms.blurTexture3.value = this.renderTargetsVertical[2].texture, this.compositeMaterial.uniforms.blurTexture4.value = this.renderTargetsVertical[3].texture, this.compositeMaterial.uniforms.blurTexture5.value = this.renderTargetsVertical[4].texture, this.compositeMaterial.uniforms.bloomStrength.value = n, this.compositeMaterial.uniforms.bloomRadius.value = .1, this.compositeMaterial.needsUpdate = !0;
                    this.compositeMaterial.uniforms.bloomFactors.value = [1, .8, .6, .4, .2], this.bloomTintColors = [new o.Vector3(1, 1, 1), new o.Vector3(1, 1, 1), new o.Vector3(1, 1, 1), new o.Vector3(1, 1, 1), new o.Vector3(1, 1, 1)], this.compositeMaterial.uniforms.bloomTintColors.value = this.bloomTintColors, s.threshold = this.threshold, s.bloomStrength = this.strength, s.bloomRadius = this.radius, this.output = this.renderTargetsHorizontal[0].texture
                }

                return n(t, [{
                    key: "dispose", value: function () {
                        for (var t = 0; t < this.renderTargetsHorizontal.length(); t++)this.renderTargetsHorizontal[t].dispose();
                        for (t = 0; t < this.renderTargetsVertical.length(); t++)this.renderTargetsVertical[t].dispose();
                        this.renderTargetBright.dispose()
                    }
                }, {
                    key: "setSize", value: function (t, e) {
                        var i = Math.round(t / 2), n = Math.round(e / 2);
                        this.renderTargetBright.setSize(t, e);
                        for (var r = 0; r < this.nMips; r++)this.renderTargetsHorizontal[r].setSize(i, n), this.renderTargetsVertical[r].setSize(i, n), this.separableBlurMaterials[r].uniforms.texSize.value = new o.Vector2(i, n), i = Math.round(i / 2), n = Math.round(n / 2)
                    }
                }, {
                    key: "render", value: function (t) {
                        this.highPassUniforms.tDiffuse.value = t.texture, this.highPassUniforms.luminosityThreshold.value = this.threshold, this.quad.material = this.materialHighPassFilter, a.default.renderLIGHT(this.camera, this.quad, this.renderTargetBright, !0);
                        for (var e = this.renderTargetBright, i = 0; i < this.nMips; i++)this.quad.material = this.separableBlurMaterials[i], this.separableBlurMaterials[i].uniforms.colorTexture.value = e.texture, this.separableBlurMaterials[i].uniforms.direction.value = new o.Vector2(1, 0), a.default.renderLIGHT(this.camera, this.quad, this.renderTargetsHorizontal[i], !0), this.separableBlurMaterials[i].uniforms.colorTexture.value = this.renderTargetsHorizontal[i].texture, this.separableBlurMaterials[i].uniforms.direction.value = new o.Vector2(0, 1), a.default.renderLIGHT(this.camera, this.quad, this.renderTargetsVertical[i], !0), e = this.renderTargetsHorizontal[i];
                        this.quad.material = this.compositeMaterial, this.compositeMaterial.uniforms.bloomStrength.value = this.strength, this.compositeMaterial.uniforms.bloomRadius.value = this.radius, this.compositeMaterial.uniforms.bloomTintColors.value = this.bloomTintColors, a.default.renderLIGHT(this.camera, this.quad, this.renderTargetsHorizontal[0], !0)
                    }
                }, {
                    key: "getSeperableBlurMaterial", value: function (t) {
                        return new o.ShaderMaterial({
                            defines: {KERNEL_RADIUS: t, SIGMA: t},
                            uniforms: {
                                colorTexture: {value: null},
                                texSize: {value: new o.Vector2(.5, .5)},
                                direction: {value: new o.Vector2(.5, .5)}
                            },
                            vertexShader: "varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = vec4( position, 1.0 );\n\t\t\t\t}",
                            fragmentShader: "#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"
                        })
                    }
                }, {
                    key: "getCompositeMaterial", value: function (t) {
                        return new o.ShaderMaterial({
                            defines: {NUM_MIPS: t},
                            uniforms: {
                                blurTexture1: {value: null},
                                blurTexture2: {value: null},
                                blurTexture3: {value: null},
                                blurTexture4: {value: null},
                                blurTexture5: {value: null},
                                dirtTexture: {value: null},
                                bloomStrength: {value: 1},
                                bloomFactors: {value: null},
                                bloomTintColors: {value: null},
                                bloomRadius: {value: 0}
                            },
                            vertexShader: "varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = vec4( position, 1.0 );\n\t\t\t\t}",
                            fragmentShader: "varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( + \t\t\t\t\t\tlerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t \tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t \tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t \tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"
                        })
                    }
                }]), t
            }();
        i.default = l, e.exports = i.default
    }, {"./../../../../gui.js": 222, "./../../../../renderer.js": 231, three: 216}],
    231: [function (t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t : {default: t}
        }

        Object.defineProperty(i, "__esModule", {value: !0});
        var r = function (t) {
                if (t && t.__esModule)return t;
                var e = {};
                if (null != t)for (var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t, e
            }(t("three")), o = n(t("./config.js")), a = (n(t("./gui.js")), o.default.instance),
            s = new r.WebGLRenderer({antialias: !1});
        s.setPixelRatio(a.devicePixelRatio), s.setClearColor(16777215, 1), "desktop" == a.device && (s.shadowMap.enabled = !0, s.shadowMap.type = r.PCFShadowMap), s.gammaInput = !0, s.gammaOutput = !0;
        window.renderer = s, i.default = s, e.exports = i.default
    }, {"./config.js": 221, "./gui.js": 222, three: 216}],
    232: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        r(t("./../mediator.js")), r(t("./../config.js"));
        var o = r(t("mustache")), a = {}, s = function () {
            function t() {
                !function (t, e) {
                    if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                }(this, t)
            }

            return n(t, [{
                key: "render", value: function (t, e, i) {
                    var n = o.default.render(e, i);
                    t.innerHTML = n
                }
            }, {
                key: "on", value: function (t, e) {
                    a[t] = e
                }
            }, {
                key: "off", value: function (t) {
                    delete a[t]
                }
            }, {
                key: "emit", value: function (t, e) {
                    if (a[t]) {
                        var i = a[t];
                        setTimeout(function () {
                            i(e)
                        }, 0)
                    }
                }
            }]), t
        }();
        i.default = s, e.exports = i.default
    }, {"./../config.js": 221, "./../mediator.js": 223, mustache: 212}],
    233: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }(), r = function (t, e, i) {
            for (var n = !0; n;) {
                var r = t, o = e, a = i;
                n = !1, null === r && (r = Function.prototype);
                var s = Object.getOwnPropertyDescriptor(r, o);
                if (void 0 !== s) {
                    if ("value" in s)return s.value;
                    var l = s.get;
                    if (void 0 === l)return;
                    return l.call(a)
                }
                var c = Object.getPrototypeOf(r);
                if (null === c)return;
                t = c, e = o, i = a, n = !0, s = c = void 0
            }
        };

        function o(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var a = o(t("./../../config.js")), s = o(t("./../../mediator.js")), l = o(t("../abstractview.js")),
            c = o(t("./template.html")), u = o(t("../projects")), h = (t("dat-gui").GUI, a.default.instance),
            d = s.default.instance.emitter, p = [], f = -1, m = function (t) {
                function e() {
                    var t = this;
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, e), r(Object.getPrototypeOf(e.prototype), "constructor", this).call(this), this.data = h.data, this.canvas = document.querySelector(".wrapper").querySelector("canvas"), this.el = document.querySelector(".caroussel-content"), this.render(this.el, c.default, this.data), this.labbutton = document.querySelector(".labbutton"), this.projects = document.querySelectorAll(".caroussel .project"), this.social = document.querySelector("#img-container"), this.constructProjects(0), this.addEvents(), TweenLite.delayedCall(0.1, function () {
                        t.canvas.style.opacity = 1
                    }), this.social.style.display = "block", "desktop" == h.device && TweenLite.delayedCall(0.1, function () {
                        t.social.style.opacity = 1
                    })
                }

                return function (t, e) {
                    if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                }(e, l["default"]), n(e, [{
                    key: "constructProjects", value: function (t) {
                        var e = this, i = new u.default(this.projects[t], this.data.content[t], t);
                        p.push(i), i.load().then(function () {
                            t < e.projects.length - 1 && (t++, e.constructProjects(t))
                        })
                    }
                }, {
                    key: "animate", value: function () {
                        var t = this;
                        s.default.instance.onResize(), this.el.style.display = "block", document.body.style.overflow = "auto", document.body.classList.add("scroll"), this.labbutton.style.opacity = 0, this.labbutton.style.pointerEvents = "none", this.labbutton.removeEventListener("click", this.animateEvent), TweenLite.to(document.querySelector(".main"), 1.2, {
                            scale: h.scale,
                            ease: Expo.easeInOut,
                            onComplete: function () {
                                "desktop" != h.device && (t.social.style.opacity = 1 )
                            }
                        })
                    }
                }, {
                    key: "resize", value: function (t, e) {
                        for (var i = 0; i < p.length;)p[i].resize(t - 50, e - 50), i++
                    }
                }, {
                    key: "onDisplayProject", value: function (t) {
                        null != p[f] && p[f].desactivate(), 0 != t && null != p[f = t - 1] && p[f].activate()
                    }
                }, {
                    key: "addEvents", value: function () {
                        d.on("resize", this.resize.bind(this)), d.on("display:project", this.onDisplayProject.bind(this)), this.animateEvent = this.animate.bind(this), this.labbutton.addEventListener("click", this.animateEvent)
                    }
                }]), e
            }();
        i.default = m, e.exports = i.default
    }, {
        "../abstractview.js": 232,
        "../projects": 235,
        "./../../config.js": 221,
        "./../../mediator.js": 223,
        "./template.html": 234,
        "dat-gui": 192
    }],
    234: [function (t, e, i) {
        e.exports = "{{#content}} {{#.}}<div target='_blank' class='project'>{{name}}</div> {{/.}} {{/content}}"
    }, {}],
    235: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }(), r = function (t, e, i) {
            for (var n = !0; n;) {
                var r = t, o = e, a = i;
                n = !1, null === r && (r = Function.prototype);
                var s = Object.getOwnPropertyDescriptor(r, o);
                if (void 0 !== s) {
                    if ("value" in s)return s.value;
                    var l = s.get;
                    if (void 0 === l)return;
                    return l.call(a)
                }
                var c = Object.getPrototypeOf(r);
                if (null === c)return;
                t = c, e = o, i = a, n = !0, s = c = void 0
            }
        };

        function o(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var a = o(t("./../../config.js")), s = o(t("./../../mediator.js")), l = o(t("../abstractview.js")),
            c = o(t("./template.html")), u = a.default.instance, h = (s.default.instance.emitter, null),
            d = function (t) {
                function e(t, i, n) {
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, e), h = i, r(Object.getPrototypeOf(e.prototype), "constructor", this).call(this), this.id = n, this.el = t, this.render(this.el, c.default, {data: h}), this.w = window.innerWidth, this.h = window.innerHeight, this.hasLoaded = !1, this.hoverInfos = this.el.querySelector(".hoverInfos"), this.hoverInfos.style.display = "none", this.video = this.el.querySelector("video"), this.bar = this.hoverInfos.querySelector(".bar"), this.description = this.hoverInfos.querySelector(".description"), this.title = this.hoverInfos.querySelector("h1"), this.subtitle = this.hoverInfos.querySelector("h2"), this.button = this.hoverInfos.querySelectorAll("a"), this.prices = this.hoverInfos.querySelector(".price"), this.video.setAttribute("muted", ""), "iOS" == u.os.name && this.video.setAttribute("playsinline", ""), "desktop" == u.device && this.addEvents()
                }

                return function (t, e) {
                    if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                }(e, l["default"]), n(e, [{
                    key: "load", value: function () {
                        var t = this;
                        return new Promise(function (e, i) {
                            t.addSource("mp4", "./media/video/" + h.video).then(function () {
                                e()
                            })
                        })
                    }
                }, {
                    key: "addSource", value: function (t, e) {
                        var i = this;
                        return new Promise(function (n, r) {
                            i.video.onloadedmetadata = function () {
                                i.setSize(i.video), i.hasLoaded = !0, n()
                            }, i.video.addEventListener("canplay", function () {
                            }, !1), i.video.setAttribute("src", e), i.video.setAttribute("type", "video/" + t), i.video.load()
                        })
                    }
                }, {
                    key: "resize", value: function (t, e) {
                        this.w = t, this.h = e, this.el.style.width = t + "px", this.el.style.height = e + "px", this.hasLoaded && this.setSize(this.video)
                    }
                }, {
                    key: "onHover", value: function (t) {
                        this.video.style.opacity = .35, TweenLite.set(this.bar, {scaleX: 0}), TweenLite.set([this.description, this.title, this.subtitle], {
                            x: -30,
                            opacity: 0
                        }), TweenLite.set(this.prices, {y: -30}), TweenLite.set(this.button, {opacity: 0}), TweenLite.to(this.bar, 1, {
                            scaleX: 1,
                            ease: Expo.easeOut
                        }), TweenLite.to(this.description, 1, {
                            x: 0,
                            ease: Expo.easeOut,
                            opacity: 1
                        }), TweenLite.to(this.title, 1, {
                            x: 0,
                            delay: 0,
                            ease: Expo.easeOut,
                            opacity: 1
                        }), TweenLite.to(this.subtitle, 1, {
                            x: 0,
                            delay: 0,
                            ease: Expo.easeOut,
                            opacity: 1
                        }), TweenLite.to(this.button, 1, {delay: 0, opacity: 1}), TweenLite.to(this.prices, 1, {
                            y: 0,
                            delay: 0,
                            ease: Expo.easeOut
                        }), this.hoverInfos.style.display = "block"
                    }
                }, {
                    key: "onHoverOut", value: function (t) {
                        this.video.style.opacity = 1, this.hoverInfos.style.display = "none"
                    }
                }, {
                    key: "addEvents", value: function () {
                        this.el.addEventListener("mouseenter", this.onHover.bind(this)), this.el.addEventListener("mouseleave", this.onHoverOut.bind(this))
                    }
                }, {
                    key: "desactivate", value: function () {
                        this.video.pause(), "desktop" != u.device && this.onHoverOut()
                    }
                }, {
                    key: "activate", value: function () {
                        this.video.play(), "desktop" != u.device && this.onHover()
                    }
                }, {
                    key: "setSize", value: function (t) {
                        var e = this.resizeIn(t.videoWidth, t.videoHeight, this.w - 50, this.h - 50),
                            i = e * t.videoWidth, n = e * t.videoHeight, r = (i - this.w) / 2, o = (n - this.h) / 2,
                            a = Math.ceil(t.videoWidth * e), s = Math.ceil(a / (t.videoWidth / t.videoHeight));
                        t.style.width = a + "px", t.style.height = s + "px", TweenLite.set(t, {x: -r, y: -o})
                    }
                }, {
                    key: "resizeIn", value: function (t, e, i, n) {
                        var r = void 0;
                        return t < e ? e * (r = i / t) < n && (r = n / e) : t * (r = n / e) < i && (r = i / t), r
                    }
                }]), e
            }();
        i.default = d, e.exports = i.default
    }, {"../abstractview.js": 232, "./../../config.js": 221, "./../../mediator.js": 223, "./template.html": 236}],
    236: [function (t, e, i) {
        e.exports = '<div class=\'video-container\'><video loop=true></video></div><div class="hoverInfos {{data.classname}}" style="display: block;"><div class="bar"></div><p class="description"> {{data.tags}}<br> <span>[ {{data.description}} ]</span></p><h1>{{{data.title}}}</h1><h2>{{data.subtitle}}</h2> <a href="{{data.url}}" target="_blank" class="btn btn-4"><span>Visit the project</span></a> {{#data.custom}} <a href="{{data.custom.link}}" target="_blank" class="btn btn-4"><span>{{data.custom.text}}</span></a> {{/data.custom}}<div class=\'overflow prices\'><h3 class=\'price\'> {{data.prices}}</h3></div></div>'
    }, {}],
    237: [function (t, e, i) {
        "use strict";
        Object.defineProperty(i, "__esModule", {value: !0});
        var n = function () {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                }
            }

            return function (e, i, n) {
                return i && t(e.prototype, i), n && t(e, n), e
            }
        }();

        function r(t) {
            return t && t.__esModule ? t : {default: t}
        }

        var o = r(t("./../../config.js")), a = r(t("./../../mediator.js")),
            s = (o.default.instance, a.default.instance.emitter), l = function () {
                function t() {
                    !function (t, e) {
                        if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")
                    }(this, t), this.tt = document.querySelectorAll(".all-animated"), this.addEvents()
                }

                return n(t, [{
                    key: "onTerrain", value: function () {
                        TweenMax.set(this.tt, {y: -6, opacity: 0}), TweenMax.staggerTo(this.tt, .9, {
                            opacity: 1,
                            y: 0,
                            ease: Back.easeIn
                        }, .27)
                    }
                }, {
                    key: "addEvents", value: function () {
                        s.on("terrain:introanim", this.onTerrain.bind(this))
                    }
                }]), t
            }();
        i.default = l, e.exports = i.default
    }, {"./../../config.js": 221, "./../../mediator.js": 223}],
    238: [function (t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t : {default: t}
        }

        t("babel-core/polyfill");
        var r = n(t("./config.js")), o = n(t("./App.js")), a = n(t("domready"));
        r.default.instance;
        (0, a.default)(function () {
            return new o.default({
                debug: !1,
                isPosteffected: !0,
                cdn: !1,
                s3url: "",
                websocketUrl: "ws://localhost:8000",
                videoPath: "",
                imagesPackPath: "",
                imagesPath: "media/assets/",
                workerFolder: "src/scripts/modules/worker/workers",
                debugLog: !1,
                debugNoSound: !1,
                path: window.location.href.substr(0, location.href.lastIndexOf("/") + 1)
            })
        })
    }, {"./App.js": 220, "./config.js": 221, "babel-core/polyfill": 2, domready: 196}]
}, {}, [238]);
